if (self.CavalryLogger) { CavalryLogger.start_js(["8CA4K"]); }

__d("InstantGameContextType",[],(function a(b,c,d,e,f,g){f.exports={THREAD:"THREAD",GROUP:"GROUP",STORY:"STORY",MATCH:"MATCH",SOLO:"SOLO"};}),null);
__d("MessageShareType",[],(function a(b,c,d,e,f,g){f.exports={IMAGE:"image",PLATFORM_SHARE_CTA:"platform_share_CTA"};}),null);
__d("MNAdsLoggerEventEnum",[],(function a(b,c,d,e,f,g){f.exports={LINK_CLICK:"messenger_ads_link_click",LINK_CLICK_CTA:"messenger_ads_link_click_cta",MESSAGE_SEEN_THREAD:"messenger_ads_message_seen_thread",MESSAGE_SEEN_INBOX:"messenger_ads_message_seen_inbox",MESSAGE_SEEN_REQUEST:"messenger_ads_message_seen_request"};}),null);
__d('wrapNullableForReact',[],(function a(b,c,d,e,f,g){'use strict';function h(i){if(i!=null){return i;}else return undefined;}f.exports=h;}),null);
__d('PhotoResizeMath',[],(function a(b,c,d,e,f,g){var h={getScaledPhotoDimensions:function i(j,k,l,m,n){var o=j/k,p=l/m;if(l&&m&&n==='stretch')return {width:l,height:m};if(!l&&m||n==='contain'!==o>=p)return {width:m*o,height:m};if(l)return {width:l,height:l/o};return {width:j,height:k};}};f.exports=h;}),null);
__d('PixelzFocus',[],(function a(b,c,d,e,f,g){'use strict';var h={search:function i(j,k){var l=0,m=j.length-1;while(l<=m){var n=l+Math.floor((m-l)/2),o=j[n];if(o>k){m=n-1;}else if(o<k){l=n+1;}else return n;}return Math.min(l,m);},forceSpecificPoint:function i(j,k,l){var m=1e-9,n=h.search(j,k-l-m)+1,o=h.search(j,k+l);return j.slice(n,o+1);},findBiggestSets:function i(j,k){var l=[],m=-1;for(var n=0;n<j.length;++n){var o=j[n],p=n,q=h.search(j,o+k),r=q-p;if(r>m)l=[];if(r>=m){m=r;l.push({low:p,high:q});}}return l;},getBestSet:function i(j,k,l){var m=-1,n=null;for(var o=0;o<k.length;++o){var p=k[o],q=j[p.low],r=j[p.high],s=q+(r-q)/2,t=Math.min(q-(s-l),s+l-r);if(t>m){m=t;n=p;}}return n;},getFocusFromSet:function i(j,k){var l=j[k.low],m=j[k.high];return l+(m-l)/2;},clampFocus:function i(j,k){var l=k/2,m=1-k/2;if(j<l)return l;if(j>m)return m;return j;},convertFromCenterToCSS:function i(j,k){if(Math.abs(1-k)<1e-5)return 0;return (j-k/2)/(1-k);},convertFromCSSToCenter:function i(j,k){return j*(1-k)+k/2;},getVisible:function i(j,k){if(j<k)return j/k;return k/j;},getHidden:function i(j,k){return 1-h.getVisible(j,k);},focusHorizontally:function i(j,k){return j<k;},convertVectorFromCenterToCSS:function i(j,k,l){var m=h.focusHorizontally(k,l),n=void 0;if(m){n=j.x/100;}else n=j.x/100;var o=h.convertFromCenterToCSS(n,h.getVisible(k,l));if(m){return {x:o,y:0};}else return {x:0,y:o};},getCropRect:function i(j,k,l){var m=h.focusHorizontally(k,l),n=h.getVisible(k,l);if(m){var o=(1-n)*j.x;return {left:o,top:0,width:n,height:1};}else{var p=(1-n)*j.y;return {left:0,top:p,width:1,height:n};}}};f.exports=h;}),null);
__d('loadImage',['Promise'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=new Image();k.onload=function(){j(k.width,k.height,k);};k.src=i;}h.loadImagePromise=function(i){return new (c('Promise'))(function(j,k){var l=new Image();l.onerror=k;l.onload=function(){return j(l);};l.src=i;});};f.exports=h;}),null);
__d('Pixelz.react',['cx','arrayContains','loadImage','joinClasses','React','PhotoResizeMath','PixelzFocus'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'Pixelz',propTypes:{width:i.number,height:i.number,resizeMode:i.oneOf(['contain','cover','stretch']),alt:i.string,letterbox:i.bool,borderRadius:i.number,insetBorderColor:i.string,animated:i.bool,upscale:i.bool,cropRect:function k(l,m,n){var o=l[m],p='Invalid prop `'+m+'` supplied to `'+n+'`, expected a rectangle with values normalized '+'between 0 and 1.';if(o.left<0||o.top<0||o.width<0||o.height<0||o.left+o.width>1||o.top+o.height>1)return new Error(p);},focus:function k(l,m,n){var o=l[m],p='Invalid prop `'+m+'` supplied to `'+n+'`, expected either a {x, y, type} vector where type '+'is `css` or `center` or an array of {x, y} vectors. All the vectors '+'have with values normalized between 0 and 1.';if(Array.isArray(o)){for(var q=0;q<o.length;++q)if(!(o[q].x>=0&&o[q].x<=1)||!(o[q].y>=0&&o[q].y<=1))return new Error(p);}else{if(!o.type)o.type='css';if(!(o.x>=0&&o.x<=1)||!(o.y>=0&&o.y<=1)||!c('arrayContains')(['center','css'],o.type))return new Error(p);}}},getDefaultProps:function k(){return {resizeMode:'cover',alt:'',letterbox:true,upscale:true,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:'css'}};},getInitialState:function k(){return {srcDimensions:{}};},getSrcDimensions:function k(){var l=this.props.src,m=this.state.srcDimensions[l];if(m)return m;c('loadImage')(l,function(n,o){var p={};p[l]={width:n,height:o};this.isMounted()&&this.setState({srcDimensions:p});}.bind(this));return null;},getCropSrcDimensions:function k(){var l=this.getSrcDimensions();return {width:l.width*this.props.cropRect.width,height:l.height*this.props.cropRect.height};},getUpscaleCropDimensions:function k(){var l=this.getCropSrcDimensions();return c('PhotoResizeMath').getScaledPhotoDimensions(l.width,l.height,this.props.width,this.props.height,this.props.resizeMode);},getCropDimensions:function k(){var l=this.getUpscaleCropDimensions(),m=this.getCropSrcDimensions();if(!this.props.upscale)return {width:Math.min(l.width,m.width),height:Math.min(l.height,m.height)};return l;},getCropAspectRatio:function k(){var l=this.getCropDimensions();return l.width/l.height;},getContainerDimensions:function k(){if(this.props.letterbox&&this.props.width&&this.props.height)return {width:this.props.width,height:this.props.height};return this.getCropDimensions();},getContainerAspectRatio:function k(){var l=this.getContainerDimensions();return l.width/l.height;},getContainerPosition:function k(){return {left:0,top:0};},getFocus:function k(){var l=this.props.focus;if(!Array.isArray(l)&&l.type==='css')return {x:l.x,y:l.y};var m=this.getContainerAspectRatio(),n=this.getCropAspectRatio(),o=c('PixelzFocus').getVisible(m,n),p=c('PixelzFocus').focusHorizontally(m,n),q=void 0;if(!Array.isArray(l)){q=c('PixelzFocus').convertFromCenterToCSS(p?l.x:l.y,o);}else{var r=l.map(function(u){return p?u.x:u.y;});r.sort();var s=c('PixelzFocus').findBiggestSets(r,o),t=c('PixelzFocus').getBestSet(r,s,o);q=c('PixelzFocus').getFocusFromSet(r,t);}return {x:p?q:.5,y:p?.5:q};},getCropPosition:function k(){var l=this.getCropDimensions(),m=this.getContainerDimensions(),n=this.getFocus();return {left:n.x*(m.width-l.width),top:n.y*(m.height-l.height)};},getScaleDimensions:function k(){var l=this.getCropDimensions();return {width:l.width/this.props.cropRect.width,height:l.height/this.props.cropRect.height};},getScalePosition:function k(){var l=this.getScaleDimensions();return {left:-l.width*this.props.cropRect.left,top:-l.height*this.props.cropRect.top};},getClipCropRectangle:function k(){var l=this.getContainerDimensions(),m=this.getCropDimensions(),n=this.getContainerPosition(),o=this.getCropPosition(),p=Math.max(n.left,o.left),q=Math.max(n.top,o.top),r=Math.min(n.top+l.height,o.top+m.height),s=Math.min(n.left+l.width,o.left+m.width);return {left:p,top:q,width:s-p,height:r-q};},getClipCropPosition:function k(){var l=this.getClipCropRectangle();return {left:l.left,top:l.top};},getClipCropDimensions:function k(){var l=this.getClipCropRectangle();return {width:l.width,height:l.height};},getClipScalePosition:function k(){var l=this.getScalePosition(),m=this.getClipCropPosition(),n=this.getCropPosition();return {left:l.left+(n.left-m.left),top:l.top+(n.top-m.top)};},getClipScaleDimensions:function k(){return this.getScaleDimensions();},areDimensionsEqual:function k(l,m){return l.width===m.width&&l.height===m.height;},shouldAddAllNodesAndStyles:function k(){return this.props.animated;},hasCrop:function k(){if(this.shouldAddAllNodesAndStyles())return true;var l=this.getContainerDimensions(),m=this.getClipCropDimensions(),n=this.getClipScaleDimensions();if(this.areDimensionsEqual(l,m)||this.areDimensionsEqual(m,n))return false;return true;},hasContainer:function k(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return true;var l=this.getContainerDimensions(),m=this.getClipScaleDimensions();if(this.areDimensionsEqual(l,m))return false;return true;},hasInsetBorder:function k(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor;},applyPositionStyle:function k(l,m){if(this.shouldAddAllNodesAndStyles()||m.left)l.left=Math.round(m.left);if(this.shouldAddAllNodesAndStyles()||m.top)l.top=Math.round(m.top);},applyDimensionsStyle:function k(l,m){l.width=Math.round(m.width);l.height=Math.round(m.height);},applyBorderRadiusStyle:function k(l){if(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)l.borderRadius=this.props.borderRadius||0;},getScaleStyle:function k(){var l={},m=this.getClipCropDimensions(),n=this.getClipScaleDimensions();if(this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(m,n)){this.applyPositionStyle(l,this.getClipScalePosition());}else this.applyPositionStyle(l,this.getClipCropPosition());this.applyDimensionsStyle(l,this.getClipScaleDimensions());this.applyBorderRadiusStyle(l);return l;},getCropStyle:function k(){var l={};this.applyPositionStyle(l,this.getClipCropPosition());this.applyDimensionsStyle(l,this.getClipCropDimensions());this.applyBorderRadiusStyle(l);return l;},getInsetBorderStyle:function k(){var l={borderColor:this.props.insetBorderColor||'transparent'};this.applyPositionStyle(l,this.getClipCropPosition());this.applyDimensionsStyle(l,this.getClipCropDimensions());this.applyBorderRadiusStyle(l);return l;},getContainerStyle:function k(){var l={};this.applyDimensionsStyle(l,this.getContainerDimensions());this.applyBorderRadiusStyle(l);return l;},getScale:function k(){var l=this.getScaleStyle(),m=l.width,n=l.height;l=babelHelpers['extends']({},l);delete l.width;delete l.height;return c('React').createElement('img',babelHelpers['extends']({},this.props,{alt:this.props.alt,className:c('joinClasses')(this.props.className,"_56wb"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":'')),src:this.props.src,style:babelHelpers['extends']({},this.props.style||{},l),width:m,height:n}));},getCrop:function k(){var l=this.getScale();if(!this.hasCrop())return l;return c('React').createElement('div',{className:"_56ma"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),style:this.getCropStyle()},l);},getInsetBorder:function k(){if(!this.hasInsetBorder())return null;return c('React').createElement('div',{className:"_56lv"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),style:this.getInsetBorderStyle()});},getContainer:function k(){var l=this.getCrop();if(!this.hasContainer())return l;var m=this.getInsetBorder();return c('React').createElement('div',{className:"_56jj"+(this.shouldAddAllNodesAndStyles()?' '+"_56t5":''),'data-skipchecker':null,style:this.getContainerStyle()},l,m);},render:function k(){var l=this.getSrcDimensions();if(!l)return c('React').createElement('span',{'data-skipchecker':null});return this.getContainer();}});f.exports=j;}),null);
__d('MessengerAdsWebTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('messenger_ads_web:MessengerAdsWebLoggerConfig',this.$MessengerAdsWebTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('messenger_ads_web:MessengerAdsWebLoggerConfig',this.$MessengerAdsWebTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$MessengerAdsWebTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$MessengerAdsWebTypedLogger1=babelHelpers['extends']({},this.$MessengerAdsWebTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$MessengerAdsWebTypedLogger1.event=j;return this;};h.prototype.setIsSponsored=function(j){this.$MessengerAdsWebTypedLogger1.is_sponsored=j;return this;};h.prototype.setItemID=function(j){this.$MessengerAdsWebTypedLogger1.item_id=j;return this;};h.prototype.setMessageID=function(j){this.$MessengerAdsWebTypedLogger1.message_id=j;return this;};h.prototype.setMessageTimestamp=function(j){this.$MessengerAdsWebTypedLogger1.message_timestamp=j;return this;};h.prototype.setPageID=function(j){this.$MessengerAdsWebTypedLogger1.page_id=j;return this;};h.prototype.setVC=function(j){this.$MessengerAdsWebTypedLogger1.vc=j;return this;};var i={event:true,is_sponsored:true,item_id:true,message_id:true,message_timestamp:true,page_id:true,vc:true};f.exports=h;}),null);
__d('MessengerContactAdapters',['immutable','ImmutableObject','MercuryTypeaheadConstants'],(function a(b,c,d,e,f,g){var h={fromSearchableEntry:function i(j){var k=j.getType(),l={alias:null,isMessengerUser:null,isWorkUser:null,participants:null,photo:j.getPhoto(),subtitle:j.getSubtitle(),thread:null,title:j.getTitle(),type:k,uid:j.getUniqueID()},m=j.getAuxiliaryData();if(m)if(k===c('MercuryTypeaheadConstants').THREAD_TYPE){l.thread=new (c('ImmutableObject'))(m.thread);l.participants=c('immutable').Map().withMutations(function(n){m.participantsToRender.forEach(function(o){n.set(o.id,o);});});}else{l.isMessengerUser=m.isMessengerUser;l.isWorkUser=m.isWorkUser;l.alias=m.alias;}return new (c('ImmutableObject'))(l);},fromMercuryParticipant:function i(j){return new (c('ImmutableObject'))({alias:j.alias,uid:j.id,photo:j.image_src,title:j.name,subtitle:'',type:j.type,isMessengerUser:j.is_messenger_user,isWorkUser:j.is_work_user,href:j.href,timezone:j.timezone});}};f.exports=h;}),null);
__d('MessengerGraphQLTypeaheadAdapter',['MercuryIDs','MercuryParticipantTypes','MercuryTypeaheadConstants','RelayQL','SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';function h(j){return c('MercuryIDs').isValid(j)?j:c('MercuryIDs').getParticipantIDFromUserID(j);}var i={convertProfileToEntry:function j(k){if(!k||!k.id||!k.name||k.is_memorialized)return null;var l=c('MercuryParticipantTypes').NON_FRIEND;if(k.is_viewer_friend||k.messenger_contact.is_on_viewer_contact_list||k.is_viewer_coworker&&k.viewer_affinity>0){l=c('MercuryParticipantTypes').FRIEND;}else if(k.is_viewer_coworker)l=c('MercuryParticipantTypes').FB4C;return new (c('SearchableEntry'))({uniqueID:k.id,title:k.name,type:l,photo:k.profile_picture&&k.profile_picture.uri,uri:k.url,auxiliaryData:{isMessengerUser:k.is_messenger_user,isWorkUser:k.is_work_user},order:-k.viewer_affinity});},convertPageToEntry:function j(k,l){if(!k||!k.id||!k.name)return null;if(k.instant_game_info)return this.convertGameToEntry(k);return new (c('SearchableEntry'))({uniqueID:k.id,title:k.name,type:l,photo:k.profile_picture&&k.profile_picture.uri,uri:k.url,auxiliaryData:{isMessengerUser:k.is_messenger_user,isWorkUser:k.is_work_user},order:0});},convertGameToEntry:function j(k,l){if(!k||!k.id||!k.name||!k.instant_game_info)return null;return new (c('SearchableEntry'))({uniqueID:k.id,title:k.name,type:c('MercuryTypeaheadConstants').GAME_TYPE,photo:k.instant_game_info&&k.instant_game_info.icon_uri,uri:k.instant_game_info&&k.instant_game_info.game_uri,order:0});},convertGroupToEntry:function j(k,l){if(!k||!k.thread_key||!k.is_group_thread)return null;var m=k.thread_key.thread_fbid;if(!m)return null;var n=k.image&&k.image.uri,o=k.other_participants.edges.map(function(s){return s.node.messaging_actor.name;}).join(', '),p=k.name,q=null;if(!p){p=o;}else q=o;if(!p)return null;var r={};r.thread={thread_id:m,other_user_fbid:null,image_src:n,participants:k.other_participants.edges.map(function(s){return h(s.node.messaging_actor.id);})};r.participantsToRender=k.other_participants.edges.map(function(s){return {id:h(s.node.messaging_actor.id),is_messenger_user:s.node.messaging_actor.is_messenger_user};});return new (c('SearchableEntry'))({uniqueID:m,order:l,photo:n,title:p,subtitle:q,type:c('MercuryParticipantTypes').THREAD,auxiliaryData:r});},userFragment:function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'is_memorialized',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'is_viewer_friend',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'is_viewer_coworker',kind:'Field',metadata:{},type:'Boolean'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:{kind:'CallValue',callValue:32}},{kind:'Call',metadata:{type:'Int'},name:'height',value:{kind:'CallValue',callValue:32}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{children:[{fieldName:'is_on_viewer_contact_list',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'messenger_contact',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Contact'},{fieldName:'url',kind:'Field',metadata:{},type:'Url'},{fieldName:'is_messenger_user',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'is_work_user',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'viewer_affinity',kind:'Field',metadata:{},type:'Float'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGraphQLTypeaheadAdapter_UserFragmentRelayQL',type:'User'};}(),pageFragment:function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:{kind:'CallValue',callValue:32}},{kind:'Call',metadata:{type:'Int'},name:'height',value:{kind:'CallValue',callValue:32}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'url',kind:'Field',metadata:{},type:'Url'},{fieldName:'is_messenger_user',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'category_type',kind:'Field',metadata:{},type:'PageCategoryType'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGraphQLTypeaheadAdapter_PageFragmentRelayQL',type:'Page'};}(),groupFragment:function(){return {children:[{children:[{fieldName:'thread_fbid',kind:'Field',metadata:{},type:'String'}],fieldName:'thread_key',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageThreadKey'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'is_group_thread',kind:'Field',metadata:{},type:'Boolean'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:250}}],children:[{children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'is_messenger_user',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'User',type:'User'}],fieldName:'messaging_actor',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'MessagingActor'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessagingParticipant'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessagingParticipantsOfThreadEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'other_participants',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'MessagingParticipantsOfThreadConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGraphQLTypeaheadAdapter_GroupFragmentRelayQL',type:'MessageThread'};}(),gameFragment:function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'icon_uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'instant_game_info',kind:'Field',metadata:{canHaveSubselections:true},type:'GamesInstantPlayStyleInfo'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGraphQLTypeaheadAdapter_GameFragmentRelayQL',type:'Application'};}()};f.exports=i;}),null);
__d('MessengerGraphQLTypeaheadHighlighter',['Keys','MercuryTypeaheadConstants','MessengerTypeaheadUtils'],(function a(b,c,d,e,f,g){'use strict';var h={getNextHighlightedEntry:function i(j,k,l,m){var n=[];c('MessengerTypeaheadUtils').getEntryOrder(l).forEach(function(r){return n.push.apply(n,k.filter(function(s){return c('MessengerTypeaheadUtils').areSectionsEqual(s.getType(),r);}));});if(!m){if(n.length===0)return null;if(j===c('Keys').DOWN){var o=n[0];if(o.getType()===c('MercuryTypeaheadConstants').SEARCH_TYPE&&n.length>1)return n[1];return o;}if(j===c('Keys').UP)return n[n.length-1];return null;}var p=m.getUniqueID(),q=n.findIndex(function(r){return r.getUniqueID()===p;});if(q===-1)return null;if(j===c('Keys').DOWN){q+=1;if(q>=n.length)q=0;}else if(j===c('Keys').UP){q-=1;if(q<0)q=n.length-1;}return n[q];}};f.exports=h;}),null);
__d("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1310278199019267";};j.getQueryID=function(){"use strict";return "404717586571843";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d('MessengerRoomWithAssocObjectAudienceLocalCacheManager',['AsyncRequest','Map','MercurySingletonProvider','MessengerGraphQLTypeaheadAdapter','SearchableEntry','SearchSourceCallbackManager','TokenizeUtil','MessengerRoomWithAssocObjectAudienceWebGraphQLQuery','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';function h(k){this.entriesPromise=null;this.audienceEntries=null;this.threadFBID=k;this.callbackManager=new (c('SearchSourceCallbackManager'))({parseFn:c('TokenizeUtil').parse,matchFn:c('TokenizeUtil').isQueryMatch,indexFn:null});}h.prototype.onEntriesLoaded=function(k){if(this.audienceEntries!==null){k(this.audienceEntries,true);return;}if(this.entriesPromise===null){var l=c('MessengerRoomWithAssocObjectAudienceWebGraphQLQuery').getURI({thread_fbid:this.threadFBID,first:30});this.entriesPromise=new (c('AsyncRequest'))(l).setAllowCrossPageTransition(true).exec().then(function(m){return m.getPayload();}).then(function(m){var n=m.data.message_thread.messaging_audience_list.edges.map(function(o){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(o.node);}).filter(function(o){return o!==null;});this.callbackManager.addLocalEntries(n);this.audienceEntries=n;}.bind(this));}if(this.entriesPromise)this.entriesPromise.done(function(){k(this.audienceEntries,true);}.bind(this),c('emptyFunction'));};h.prototype.search=function(k,l){this.onEntriesLoaded(function(){this.callbackManager.search(k,function(m){l(m,k);});}.bind(this));};h.prototype.isBootstrapped=function(){return this.audienceEntries!==null;};i.get=function(){return j.get();};function i(){this.threadFBIDToCacheMap=new (c('Map'))();}i.prototype.onEntriesLoaded=function(k,l){var m=this.threadFBIDToCacheMap.get(k);if(!m){m=new h(k);this.threadFBIDToCacheMap.set(k,m);}m.onEntriesLoaded(l);};i.prototype.search=function(k,l,m){var n=this.threadFBIDToCacheMap.get(k);if(!n){n=new h(k);this.threadFBIDToCacheMap.set(k,n);}n.search(l,m);};i.prototype.isBootstrapped=function(k){if(!k)return false;var l=this.threadFBIDToCacheMap.get(k);if(l)return l.isBootstrapped();return false;};var j=new (c('MercurySingletonProvider'))(i);f.exports=i;}),null);
__d("MessengerFriendsWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1138546562910012";};j.getQueryID=function(){"use strict";return "340140939718890";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d("TopMessengerFriendsAndGroupsWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1573443639352292";};j.getQueryID=function(){"use strict";return "170460960113470";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d('MessengerTypeaheadLocalCache',['AsyncRequest','MessengerConfig','MessengerFriendsWebGraphQLQuery','MessengerGraphQLTypeaheadAdapter','SearchSourceCallbackManager','TokenizeUtil','TopMessengerFriendsAndGroupsWebGraphQLQuery','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('SearchSourceCallbackManager'))({parseFn:c('TokenizeUtil').parse,matchFn:c('TokenizeUtil').isQueryMatch,indexFn:null}),i=null,j=null,k=null,l=null;function m(){if(c('MessengerConfig').BootstrapTypeaheadFromBuddylist||!k)return;var o=k;k=null;new (c('AsyncRequest'))(c('MessengerFriendsWebGraphQLQuery').getLegacyURI({cursor:o})).setAllowCrossPageTransition(true).exec().then(function(p){return p.getPayload();}).done(function(p){h.addLocalEntries(p.viewer.all_friends.edges.map(function(q){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(q.node);}).filter(function(q){return q!==null;}));});}var n={onEntriesLoaded:function o(p){var q;if(i!==null&&j!==null){p(i,j,false);return;}if(l===null)(function(){var r=c('MessengerConfig').BootstrapTypeaheadFromBuddylist,s=c('TopMessengerFriendsAndGroupsWebGraphQLQuery').getLegacyURI({use_buddylist:r,first:100});l=new (c('AsyncRequest'))(s).setAllowCrossPageTransition(true).exec().then(function(t){return t.getPayload();}).then(function(t){var u=(r?t.viewer.chat_buddylist:t.viewer.all_friends.edges).map(function(w){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(r?w.represented_profile:w.node);}).filter(function(w){return w!==null;}),v=t.viewer.message_threads.edges.map(function(w,x){return c('MessengerGraphQLTypeaheadAdapter').convertGroupToEntry(w.node,x);}).filter(function(w){return w!==null;});h.addLocalEntries(u);h.addLocalEntries(v);i=u;j=v;if(t.viewer.all_friends&&t.viewer.all_friends.page_info&&t.viewer.all_friends.page_info.has_next_page)k=t.viewer.all_friends.page_info.end_cursor;});})();l.done(function(){p(i,j,true);m();},c('emptyFunction'));},search:function o(p,q){n.onEntriesLoaded(function(){h.search(p,function(r){q(r,p);});});},isBootstrapped:function o(){return i!==null&&j!==null;}};f.exports=n;}),null);
__d('MNCommerceDialogStateActions',['MessengerDispatcher','MNCommerceActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={showDialog:function i(j,k){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').DIALOG.SHOW,dialogContainer:j,state:k});},hideDialog:function i(){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').DIALOG.HIDE});}};f.exports=h;}),null);
__d('MessengerMenu.react',['cx','Keys','MenuSeparator.react','ReactXUIMenu','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(m){m.isReactLegacyFactory={};m.type=m;}i=babelHelpers.inherits(l,c('ReactXUIMenu'));j=i&&i.prototype;function l(m){var n=m.className,o=babelHelpers.objectWithoutProperties(m,['className']);j.constructor.call(this,babelHelpers['extends']({className:c('joinClasses')(n,"_2i-c _150g")},o));}l.prototype.handleKeydown=function(m,n){if(m===c('Keys').DOWN||m===c('Keys').UP||m===c('Keys').SPACE)return j.handleKeydown.call(this,m,n);return true;};k(l);l.Item=c('ReactXUIMenu').Item;l.Separator=c('MenuSeparator.react');f.exports=l;}),null);
__d('MessengerPopoverMenu.react',['cx','ContextualDialogArrow','ContextualLayerAutoFlip','ContextualLayerUpdateOnScroll','PopoverMenu.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.children,n=l.className,o=l.isOpen,p=babelHelpers.objectWithoutProperties(l,['children','className','isOpen']),q=c('React').Children.only(m);return c('React').createElement(c('PopoverMenu.react'),babelHelpers['extends']({className:c('joinClasses')(n,!p.disableArrowKeyActivation||o?"_150g":''),enableActivationOnEnter:true,layerBehaviors:[c('ContextualLayerAutoFlip'),c('ContextualLayerUpdateOnScroll'),c('ContextualDialogArrow')]},p),q);};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d("XSettingsEmployeeBetaController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/settings\/employee\/beta_mode\/",{enabled:{type:"Bool",defaultValue:false}});}),null);
__d('MessengerBugNub.react',['cx','fbt','ix','AsyncRequest','Image.react','Link.react','MessengerEnvironment','MessengerMenu.react','MessengerPopoverMenu.react','React','Tooltip','URI','XSettingsEmployeeBetaController','goURI'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=j("86836"),n=j("86835"),o=j("86837"),p=c('React').PropTypes,q=c('MessengerMenu.react').Item,r=c('MessengerMenu.react').Separator;k=babelHelpers.inherits(s,c('React').PureComponent);l=k&&k.prototype;s.prototype.render=function(){return c('React').createElement('div',{className:"_4_xe"},this.$MessengerBugNub1(),c('React').createElement(c('Link.react'),babelHelpers['extends']({href:'#',ajaxify:'/ajax/bugs/employee_report',className:"_1fr8",rel:'dialog'},c('Tooltip').propsFor(i._("Report a bug"))),c('React').createElement('div',{className:"_1gng"},c('React').createElement(c('Image.react'),{src:m}))));};s.prototype.$MessengerBugNub1=function(){var t=this.props.isBetaEnabled?n:o,u=i._("Internal preferences");return c('React').createElement(c('MessengerPopoverMenu.react'),babelHelpers['extends']({className:"_1fr8",menu:this.$MessengerBugNub2()},c('Tooltip').propsFor(u)),c('React').createElement(c('Link.react'),{'aria-haspopup':'true','aria-label':u,className:"_1gng",href:'#',role:'button'},c('React').createElement(c('Image.react'),{src:t})));};s.prototype.$MessengerBugNub2=function(){var t,u=this,v=null;if(this.props.unixName)(function(){var w=u.props.unixName+'.sb';v=c('React').createElement(q,{label:'Sandbox',onclick:function(){return this.$MessengerBugNub3(w);}.bind(u)});})();return c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(q,{label:'Public',onclick:function(){return this.$MessengerBugNub4(false);}.bind(this)}),c('React').createElement(q,{label:'Beta',onclick:function(){return this.$MessengerBugNub4(true);}.bind(this)}),c('React').createElement(r,null),c('React').createElement(q,{label:'C1 (trunkstable)',onclick:function(){return this.$MessengerBugNub3('trunkstable');}.bind(this)}),c('React').createElement(q,{label:'Latest',onclick:function(){return this.$MessengerBugNub3('latest');}.bind(this)}),c('React').createElement(q,{label:'Intern',onclick:function(){return this.$MessengerBugNub3('intern');}.bind(this)}),c('React').createElement(q,{label:'Production',onclick:function(){return this.$MessengerBugNub3('prod');}.bind(this)}),v);};s.prototype.$MessengerBugNub4=function(t){var u=c('XSettingsEmployeeBetaController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(u).setData({enabled:t}).setMethod('POST').setAllowCrossPageTransition(true).send();};s.prototype.$MessengerBugNub3=function(t){var u=c('URI').getRequestURI(),v=c('MessengerEnvironment').facebookdotcom?'.facebook.com':'.messenger.com',w='www'+(t?'.'+t:'')+v;c('goURI')(new (c('URI'))(window.location.href).setProtocol(u.getProtocol()).setDomain(w).setSubdomain(u.getSubdomain()).setPath(u.getPath()).setQueryData(u.getQueryData()).setFragment(u.getFragment()));};function s(){k.apply(this,arguments);}s.propTypes={isBetaEnabled:p.bool,unixName:p.string};f.exports=s;}),null);
__d('MessengerSearchFunnelLogger',['FunnelLogger','MercuryIDs'],(function a(b,c,d,e,f,g){'use strict';var h;function i(p){c('FunnelLogger').startFunnel(p);c('FunnelLogger').appendActionIfNew(p,'search_start');h=[];}function j(p){c('FunnelLogger').appendActionIfNew(p,'search_end');c('FunnelLogger').endFunnel(p);}function k(p,q){c('FunnelLogger').appendActionWithPayload(p,'initiate_content_search',{query_string:q,impression_list:h});c('FunnelLogger').endFunnel(p);}function l(p,q,r,s){if(r==null||h==null||h.length===0){c('FunnelLogger').appendActionWithPayload(p,'search_result_error',{error:'threadID or latest impression list are null',thread_id:r,impression_list:h});c('FunnelLogger').endFunnel(p);return;}r=c('MercuryIDs').getThreadFBIDFromThreadID(r);c('FunnelLogger').appendActionWithPayload(p,'log_result_selection',{thread_id:r,type:s,rank:h.indexOf(r),search_query:q?q:''});}function m(p,q,r){c('FunnelLogger').appendActionWithPayloadIfNew(p,'loading_state_impression_list',{search_query:q,impression_list:r});h=r;}function n(p,q,r,s){c('FunnelLogger').appendActionWithPayload(p,q,{search_query:r,impression_list:s});h=s;}function o(p){c('FunnelLogger').appendAction(p,'clear_search_query');this.endFunnel(p);}f.exports={startFunnel:i,logResultSelection:l,endFunnel:j,logContentSearchInitiation:k,logLoadingStateQuery:m,logUpdateQuery:n,logClearQuery:o};}),null);
__d('MessengerTypeaheadResultRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='MessengerTypeaheadResultRoute';j.paramDefinition={queryString:{required:true,type:'String'},localEntryIDs:{required:true,type:'Array'},shouldQueryPages:{required:true,type:'Boolean'},shouldQueryThreadName:{required:true,type:'Boolean'},shouldQueryParticipantIDs:{required:true,type:'Boolean'},shouldQueryParticipantNames:{required:true,type:'Boolean'},shouldQueryVCEndpoint:{required:true,type:'Boolean'},shouldQueryInternalBot:{required:true,type:'Boolean'},shouldQueryRoomsAudience:{required:true,type:'Boolean'},threadFBID:{required:false,type:'String'}};j.queries={profiles:function k(l,m){var n=m.shouldQueryPages,o=m.shouldQueryVCEndpoint,p=m.shouldQueryInternalBot,q=m.shouldQueryRoomsAudience;return function(r){return {calls:[{kind:'Call',metadata:{type:'String!'},name:'query',value:{kind:'CallVariable',callVariableName:'queryString'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(r)]),fieldName:'entities_named',kind:'Query',metadata:{identifyingArgName:'query',identifyingArgType:'String!'},name:'MessengerTypeaheadResultRoute',type:'SearchableEntitiesQuery'};}(l.getFragment('profiles',{shouldQueryPages:n,shouldQueryVCEndpoint:o,shouldQueryInternalBot:p,shouldQueryRoomsAudience:q}));},groups:function k(l,m){var n=m.queryString,o=m.localEntryIDs,p=m.shouldQueryThreadName,q=m.shouldQueryParticipantIDs,r=m.shouldQueryParticipantNames;return function(s){return {children:[].concat.apply([],[c('RelayQL').__frag(s)]),fieldName:'viewer',kind:'Query',metadata:{},name:'MessengerTypeaheadResultRoute',type:'Viewer'};}(l.getFragment('groups',{queryString:n,localEntryIDs:o,shouldQueryThreadName:p,shouldQueryParticipantIDs:q,shouldQueryParticipantNames:r}));},roomAudience:function k(l,m){var n=m.queryString,o=m.shouldQueryRoomsAudience;return function(p){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'threadFBID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(p)]),fieldName:'message_thread',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'MessengerTypeaheadResultRoute',type:'MessageThread'};}(l.getFragment('roomAudience',{queryString:n,shouldQueryRoomsAudience:o}));}};f.exports=j;}),null);
__d('bs_js_null_undefined',['bs_js_primitive'],(function a(b,c,d,e,f,g){'use strict';function h(k,l){if(c('bs_js_primitive').is_nil_undef(k)){return k;}else return l(k);}function i(k,l){if(c('bs_js_primitive').is_nil_undef(k)){return 0;}else return l(k);}function j(k){if(k){return k[0];}else return undefined;}g.bind=h;g.iter=i;g.from_opt=j;}),null);
__d('bs_caml_int32',['bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';function h(n,o){if(o===0){throw c('bs_caml_builtin_exceptions').division_by_zero;}else return n/o|0;}function i(n,o){if(o===0){throw c('bs_caml_builtin_exceptions').division_by_zero;}else return n%o;}function j(n){return (n&255)<<8|(n&65280)>>>8;}function k(n){return (n&255)<<24|(n&65280)<<8|(n&16711680)>>>8|(n&4278190080)>>>24;}var l=Math.imul||function(n,o){o|=0;return ((n>>16)*o<<16)+(n&65535)*o|0;},m=k;g.div=h;g.mod_=i;g.caml_bswap16=j;g.caml_int32_bswap=k;g.caml_nativeint_bswap=m;g.imul=l;}),null);
__d('bs_caml_utils',[],(function a(b,c,d,e,f,g){'use strict';var h=String.prototype.repeat&&function(i,j){return j.repeat(i);}||function(i,j){if(j.length==0||i==0)return '';if(j.length*i>=1<<28)throw new RangeError('repeat count must not overflow maximum string size');var k='';for(;;){if((i&1)==1)k+=j;i>>>=1;if(i==0)break;j+=j;}return k;};g.repeat=h;}),null);
__d('bs_caml_int64',['bs_caml_obj','bs_caml_int32','bs_caml_utils','bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';var h=[-2147483648,0],i=[134217727,1],j=[0,1],k=[0,0],l=[-1,4294967295];function m(wa){return +((wa&2147483648)!==0);}function n(wa,xa){var ya=xa[1],za=wa[1],ab=za+ya&4294967295,bb=m(za)&&(m(ya)||!m(ab))||m(ya)&&!m(ab)?1:0,cb=wa[0]+xa[0]+bb&4294967295;return [cb,ab>>>0];}function o(wa){var xa=wa[0]^-1,ya=wa[1]^-1;return [xa,ya>>>0];}function p(wa,xa){if(wa[0]===xa[0]){return +(wa[1]===xa[1]);}else return 0;}function q(wa){if(p(wa,h)){return h;}else return n(o(wa),j);}function r(wa,xa){return n(wa,q(xa));}function s(wa,xa){if(xa){var ya=wa[1];if(xa>=32){return [ya<<(xa-32|0),0];}else{var za=ya>>>(32-xa|0)|wa[0]<<xa;return [za,ya<<xa>>>0];}}else return wa;}function t(wa,xa){if(xa){var ya=wa[0],za=xa-32|0;if(za){if(za>0){var ab=ya>>>za;return [0,ab>>>0];}else{var bb=ya>>>xa,cb=ya<<(-za|0)|wa[1]>>>xa;return [bb,cb>>>0];}}else return [0,ya>>>0];}else return wa;}function u(wa,xa){if(xa){var ya=wa[0];if(xa<32){var za=ya>>xa,ab=ya<<(32-xa|0)|wa[1]>>>xa;return [za,ab>>>0];}else{var bb=ya>>(xa-32|0);return [ya>=0?0:-1,bb>>>0];}}else return wa;}function v(wa){if(wa[0]!==0||wa[1]!==0){return 0;}else return 1;}function w(wa,xa){while(true){var ya=xa,za=wa,ab=0,bb,cb=za[0],db=0,eb=0,fb=0;if(cb!==0){fb=4;}else if(za[1]!==0){fb=4;}else return k;if(fb===4)if(ya[0]!==0){eb=3;}else if(ya[1]!==0){eb=3;}else return k;if(eb===3)if(cb!==-2147483648){db=2;}else if(za[1]!==0){db=2;}else{bb=ya[1];ab=1;}if(db===2){var gb=ya[0],hb=za[1],ib=0;if(gb!==-2147483648){ib=3;}else if(ya[1]!==0){ib=3;}else{bb=hb;ab=1;}if(ib===3){var jb=ya[1];if(cb<0){if(gb<0){xa=q(ya);wa=q(za);continue;}else return q(w(q(za),ya));}else if(gb<0){return q(w(za,q(ya)));}else{var kb=cb>>>16,lb=cb&65535,mb=hb>>>16,nb=hb&65535,ob=gb>>>16,pb=gb&65535,qb=jb>>>16,rb=jb&65535,sb=0,tb=0,ub=0,vb=nb*rb;ub=(vb>>>16)+mb*rb;tb=ub>>>16;ub=(ub&65535)+nb*qb;tb=tb+(ub>>>16)+lb*rb;sb=tb>>>16;tb=(tb&65535)+mb*qb;sb+=tb>>>16;tb=(tb&65535)+nb*pb;sb+=tb>>>16;tb=tb&65535;sb=sb+(kb*rb+lb*qb+mb*pb+nb*ob)&65535;var wb=tb|sb<<16,xb=vb&65535|(ub&65535)<<16;return [wb,xb>>>0];}}}if(ab===1)if((bb&1)===0){return k;}else return h;}}function x(wa){var xa=c('bs_caml_int32').caml_int32_bswap(wa[1]),ya=c('bs_caml_int32').caml_int32_bswap(wa[0]);return [xa,ya>>>0];}function y(wa,xa){return [wa[0]^xa[0],(wa[1]^xa[1])>>>0];}function z(wa,xa){return [wa[0]|xa[0],(wa[1]|xa[1])>>>0];}function aa(wa,xa){return [wa[0]&xa[0],(wa[1]&xa[1])>>>0];}function ba(wa,xa){var ya=xa[0],za=wa[0];if(za>ya){return 1;}else if(za<ya){return 0;}else return +(wa[1]>=xa[1]);}function ca(wa,xa){return 1-p(wa,xa);}function da(wa,xa){return 1-ba(wa,xa);}function ea(wa,xa){if(wa[0]>xa[0]){return 1;}else if(wa[0]<xa[0]){return 0;}else return +(wa[1]>xa[1]);}function fa(wa,xa){return 1-ea(wa,xa);}function ga(wa){return wa[0]*4294967296+wa[1];}var ha=Math.pow(2,32),ia=Math.pow(2,63),ja=-Math.pow(2,63);function ka(wa){if(isNaN(wa)||!isFinite(wa)){return k;}else if(wa<=ja){return h;}else if(wa+1>=ia){return i;}else if(wa<0){return q(ka(-wa));}else{var xa=wa/ha|0,ya=wa%ha|0;return [xa,ya>>>0];}}function la(wa,xa){while(true){var ya=xa,za=wa,ab=za[0],bb=0,cb=0;if(ya[0]!==0){cb=2;}else if(ya[1]!==0){cb=2;}else throw c('bs_caml_builtin_exceptions').division_by_zero;if(cb===2)if(ab!==-2147483648){if(ab!==0){bb=1;}else if(za[1]!==0){bb=1;}else return k;}else if(za[1]!==0){bb=1;}else if(p(ya,j)||p(ya,l)){return za;}else if(p(ya,h)){return j;}else{var db=ya[0],eb=u(za,1),fb=s(la(eb,ya),1),gb=0;if(fb[0]!==0){gb=3;}else if(fb[1]!==0){gb=3;}else if(db<0){return j;}else return q(j);if(gb===3){var hb=w(ya,fb),ib=n(za,q(hb));return n(fb,la(ib,ya));}}if(bb===1){var jb=ya[0],kb=0;if(jb!==-2147483648){kb=2;}else if(ya[1]!==0){kb=2;}else return k;if(kb===2)if(ab<0){if(jb<0){xa=q(ya);wa=q(za);continue;}else return q(la(q(za),ya));}else if(jb<0){return q(la(za,q(ya)));}else{var lb=k,mb=za;while(ba(mb,ya)){var nb=Math.max(1,Math.floor(ga(mb)/ga(ya))),ob=Math.ceil(Math.log(nb)/Math.LN2),pb=ob<=48?1:Math.pow(2,ob-48),qb=ka(nb),rb=w(qb,ya);while(rb[0]<0||ea(rb,mb)){nb-=pb;qb=ka(nb);rb=w(qb,ya);}if(v(qb))qb=j;lb=n(lb,qb);mb=n(mb,q(rb));}return lb;}}}}function ma(wa,xa){var ya=w(la(wa,xa),xa);return n(wa,q(ya));}function na(wa,xa){var ya=la(wa,xa),za=w(ya,xa);return [ya,n(wa,q(za))];}function oa(wa,xa){var ya=c('bs_caml_obj').caml_nativeint_compare(wa[0],xa[0]);if(ya){return ya;}else return c('bs_caml_obj').caml_nativeint_compare(wa[1],xa[1]);}function pa(wa){return [wa<0?-1:0,wa>>>0];}function qa(wa){return wa[1]|0;}function ra(wa){var xa=function db(eb){return (eb>>>0).toString(16);},ya=wa[0],za=wa[1],ab=0;if(ya!==0){ab=1;}else if(za!==0){ab=1;}else return "0";if(ab===1)if(za!==0){if(ya!==0){var bb=xa(wa[1]),cb=8-bb.length|0;if(cb<=0){return xa(wa[0])+bb;}else return xa(wa[0])+(c('bs_caml_utils').repeat(cb,"0")+bb);}else return xa(wa[1]);}else return xa(wa[0])+"00000000";}function sa(wa){return [2147483647&wa[0],wa[1]];}function ta(wa){var xa=new Int32Array([wa[1],wa[0]]);return new Float64Array(xa.buffer)[0];}function ua(wa){var xa=new Float64Array([wa]),ya=new Int32Array(xa.buffer),za=ya[1],ab=za,bb=ya[0],cb=bb;return [ab,cb>>>0];}function va(wa,xa){var ya=wa.charCodeAt(xa+4|0)<<32|wa.charCodeAt(xa+5|0)<<40|wa.charCodeAt(xa+6|0)<<48|wa.charCodeAt(xa+7|0)<<56,za=wa.charCodeAt(xa)|wa.charCodeAt(xa+1|0)<<8|wa.charCodeAt(xa+2|0)<<16|wa.charCodeAt(xa+3|0)<<24;return [ya,za>>>0];}g.min_int=h;g.max_int=i;g.one=j;g.zero=k;g.not=o;g.of_int32=pa;g.to_int32=qa;g.add=n;g.neg=q;g.sub=r;g.lsl_=s;g.lsr_=t;g.asr_=u;g.is_zero=v;g.mul=w;g.xor=y;g.or_=z;g.and_=aa;g.swap=x;g.ge=ba;g.eq=p;g.neq=ca;g.lt=da;g.gt=ea;g.le=fa;g.to_float=ga;g.of_float=ka;g.div=la;g.mod_=ma;g.div_mod=na;g.compare=oa;g.to_hex=ra;g.discard_sign=sa;g.float_of_bits=ta;g.bits_of_float=ua;g.get64=va;}),null);
__d('bs_caml_format',['bs_curry','bs_caml_int32','bs_caml_int64','bs_caml_utils','bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';function h(aa){throw [c('bs_caml_builtin_exceptions').failure,aa];}function i(aa){if(aa>=65){if(aa>=97){if(aa>=123){return -1;}else return aa-87|0;}else if(aa>=91){return -1;}else return aa-55|0;}else if(aa>57||aa<48){return -1;}else return aa-48|0;}function j(aa){switch(aa){case 0:return 8;case 1:return 16;case 2:return 10;case 3:return 2;}}function k(aa){var ba=1,ca=2,da=0;if(aa[da]==="-"){ba=-1;da=da+1|0;}var ea=aa.charCodeAt(da),fa=aa.charCodeAt(da+1|0);if(ea===48)if(fa>=89){if(fa!==98){if(fa!==111){if(fa===120){ca=1;da=da+2|0;}}else{ca=0;da=da+2|0;}}else{ca=3;da=da+2|0;}}else if(fa!==66){if(fa!==79){if(fa>=88){ca=1;da=da+2|0;}}else{ca=0;da=da+2|0;}}else{ca=3;da=da+2|0;}return [da,ba,ca];}function l(aa){var ba=k(aa),ca=ba[0],da=j(ba[2]),ea=4294967295,fa=aa.length,ga=ca<fa?aa.charCodeAt(ca):0,ha=i(ga);if(ha<0||ha>=da)throw [c('bs_caml_builtin_exceptions').failure,"int_of_string"];var ia=function la(ma,na){while(true){var oa=na,pa=ma;if(oa===fa){return pa;}else{var qa=aa.charCodeAt(oa);if(qa===95){na=oa+1|0;continue;}else{var ra=i(qa);if(ra<0||ra>=da){throw [c('bs_caml_builtin_exceptions').failure,"int_of_string"];}else{var sa=da*pa+ra;if(sa>ea){throw [c('bs_caml_builtin_exceptions').failure,"int_of_string"];}else{na=oa+1|0;ma=sa;continue;}}}}}},ja=ba[1]*ia(ha,ca+1|0),ka=ja|0;if(da===10&&ja!==ka)throw [c('bs_caml_builtin_exceptions').failure,"int_of_string"];return ka;}function m(aa){var ba=k(aa),ca=ba[2],da=ba[0],ea=c('bs_caml_int64').of_int32(j(ca)),fa=c('bs_caml_int64').of_int32(ba[1]),ga;switch(ca){case 0:ga=[536870911,4294967295];break;case 1:ga=[268435455,4294967295];break;case 2:ga=[429496729,2576980377];break;case 3:ga=[2147483647,4294967295];break;}var ha=aa.length,ia=da<ha?aa.charCodeAt(da):0,ja=c('bs_caml_int64').of_int32(i(ia));if(c('bs_caml_int64').lt(ja,[0,0])||c('bs_caml_int64').ge(ja,ea))throw [c('bs_caml_builtin_exceptions').failure,"int64_of_string"];var ka=function na(oa,pa){while(true){var qa=pa,ra=oa;if(qa===ha){return ra;}else{var sa=aa.charCodeAt(qa);if(sa===95){pa=qa+1|0;continue;}else{var ta=c('bs_caml_int64').of_int32(i(sa));if(c('bs_caml_int64').lt(ta,[0,0])||c('bs_caml_int64').ge(ta,ea)||c('bs_caml_int64').gt(ra,ga)){throw [c('bs_caml_builtin_exceptions').failure,"int64_of_string"];}else{var ua=c('bs_caml_int64').add(c('bs_caml_int64').mul(ea,ra),ta);pa=qa+1|0;oa=ua;continue;}}}}},la=c('bs_caml_int64').mul(fa,ka(ja,da+1|0)),ma=c('bs_caml_int64').or_(la,[0,0]);if(c('bs_caml_int64').eq(ea,[0,10])&&c('bs_caml_int64').neq(la,ma))throw [c('bs_caml_builtin_exceptions').failure,"int64_of_string"];return ma;}function n(aa){switch(aa){case 0:return 8;case 1:return 16;case 2:return 10;}}function o(aa){if(aa>=65&&aa<=90||aa>=192&&aa<=214||aa>=216&&aa<=222){return aa+32|0;}else return aa;}function p(aa){var ba=aa.length;if(ba>31)throw [c('bs_caml_builtin_exceptions').invalid_argument,"format_int: format too long"];var ca=["+","-"," ",0,2,0,0,0,1,-1,"f"],da=0;while(true){var ea=da;if(ea>=ba){return ca;}else{var fa=aa.charCodeAt(ea),ga=0;if(fa>=69){if(fa>=88){if(fa>=121){ga=1;}else switch(fa-88|0){case 0:ca[4]=1;ca[7]=1;da=ea+1|0;continue;case 13:case 14:case 15:ga=5;break;case 12:case 17:ga=4;break;case 23:ca[4]=0;da=ea+1|0;continue;case 29:ca[4]=2;da=ea+1|0;continue;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 16:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 28:case 30:case 31:ga=1;break;case 32:ca[4]=1;da=ea+1|0;continue;}}else if(fa>=72){ga=1;}else{ca[5]=1;ca[7]=1;ca[10]=String.fromCharCode(o(fa));da=ea+1|0;continue;}}else{var ha=fa-32|0;if(ha>25||ha<0){ga=1;}else switch(ha){case 3:ca[3]=1;da=ea+1|0;continue;case 0:case 11:ga=2;break;case 13:ca[0]="-";da=ea+1|0;continue;case 14:ca[9]=0;var ia=ea+1|0;while(function(ka){return function(){var la=aa.charCodeAt(ka)-48|0;return +(la>=0&&la<=9);};}(ia)()){ca[9]=(c('bs_caml_int32').imul(ca[9],10)+aa.charCodeAt(ia)|0)-48|0;ia=ia+1|0;}da=ia;continue;case 1:case 2:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 12:case 15:ga=1;break;case 16:ca[2]="0";da=ea+1|0;continue;case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:ga=3;break;}}switch(ga){case 1:da=ea+1|0;continue;case 2:ca[1]=String.fromCharCode(fa);da=ea+1|0;continue;case 3:ca[6]=0;var ja=ea;while(function(ka){return function(){var la=aa.charCodeAt(ka)-48|0;return +(la>=0&&la<=9);};}(ja)()){ca[6]=(c('bs_caml_int32').imul(ca[6],10)+aa.charCodeAt(ja)|0)-48|0;ja=ja+1|0;}da=ja;continue;case 4:ca[5]=1;ca[4]=2;da=ea+1|0;continue;case 5:ca[5]=1;ca[10]=String.fromCharCode(fa);da=ea+1|0;continue;}}}}function q(aa,ba){var ca=aa[0],da=aa[1],ea=aa[2],fa=aa[3],ga=aa[4],ha=aa[5],ia=aa[6],ja=aa[7],ka=aa[8],la=ba.length;if(ha&&(ka<0||da!=="-"))la=la+1|0;if(fa)if(ga){if(ga===1)la=la+2|0;}else la=la+1|0;var ma="";if(ca==="+"&&ea===" ")for(var na=la,oa=ia-1|0;na<=oa;++na)ma=ma+ea;if(ha)if(ka<0){ma=ma+"-";}else if(da!=="-")ma=ma+da;if(fa&&ga===0)ma=ma+"0";if(fa&&ga===1)ma=ma+"0x";if(ca==="+"&&ea==="0")for(var pa=la,qa=ia-1|0;pa<=qa;++pa)ma=ma+ea;ma=ja?ma+ba.toUpperCase():ma+ba;if(ca==="-")for(var ra=la,sa=ia-1|0;ra<=sa;++ra)ma=ma+" ";return ma;}function r(aa,ba){if(aa==="%d"){return String(ba);}else{var ca=p(aa),da=ca,ea=ba,fa=ea<0?da[5]?(da[8]=-1,-ea):ea>>>0:ea,ga=fa.toString(n(da[4]));if(da[9]>=0){da[2]=" ";var ha=da[9]-ga.length|0;if(ha>0)ga=c('bs_caml_utils').repeat(ha,"0")+ga;}return q(da,ga);}}function s(aa,ba){var ca=p(aa),da=ca[5]&&c('bs_caml_int64').lt(ba,[0,0])?(ca[8]=-1,c('bs_caml_int64').neg(ba)):ba,ea="",fa=ca[4];switch(fa){case 0:var ga=[0,8],ha="01234567";if(c('bs_caml_int64').lt(da,[0,0])){var ia=c('bs_caml_int64').discard_sign(da),ja=c('bs_caml_int64').div_mod(ia,ga),ka=c('bs_caml_int64').add([268435456,0],ja[0]),la=ja[1];ea=String.fromCharCode(ha.charCodeAt(la[1]|0))+ea;while(c('bs_caml_int64').neq(ka,[0,0])){var ma=c('bs_caml_int64').div_mod(ka,ga);ka=ma[0];la=ma[1];ea=String.fromCharCode(ha.charCodeAt(la[1]|0))+ea;}}else{var na=c('bs_caml_int64').div_mod(da,ga),oa=na[0],pa=na[1];ea=String.fromCharCode(ha.charCodeAt(pa[1]|0))+ea;while(c('bs_caml_int64').neq(oa,[0,0])){var qa=c('bs_caml_int64').div_mod(oa,ga);oa=qa[0];pa=qa[1];ea=String.fromCharCode(ha.charCodeAt(pa[1]|0))+ea;}}break;case 1:ea=c('bs_caml_int64').to_hex(da)+ea;break;case 2:var ra=[0,10],sa="0123456789";if(c('bs_caml_int64').lt(da,[0,0])){var ta=c('bs_caml_int64').discard_sign(da),ua=c('bs_caml_int64').div_mod(ta,ra),va=c('bs_caml_int64').div_mod(c('bs_caml_int64').add([0,8],ua[1]),ra),wa=c('bs_caml_int64').add(c('bs_caml_int64').add([214748364,3435973836],ua[0]),va[0]),xa=va[1];ea=String.fromCharCode(sa.charCodeAt(xa[1]|0))+ea;while(c('bs_caml_int64').neq(wa,[0,0])){var ya=c('bs_caml_int64').div_mod(wa,ra);wa=ya[0];xa=ya[1];ea=String.fromCharCode(sa.charCodeAt(xa[1]|0))+ea;}}else{var za=c('bs_caml_int64').div_mod(da,ra),ab=za[0],bb=za[1];ea=String.fromCharCode(sa.charCodeAt(bb[1]|0))+ea;while(c('bs_caml_int64').neq(ab,[0,0])){var cb=c('bs_caml_int64').div_mod(ab,ra);ab=cb[0];bb=cb[1];ea=String.fromCharCode(sa.charCodeAt(bb[1]|0))+ea;}}break;}if(ca[9]>=0){ca[2]=" ";var db=ca[9]-ea.length|0;if(db>0)ea=c('bs_caml_utils').repeat(db,"0")+ea;}return q(ca,ea);}function t(aa,ba){var ca=p(aa),da=ca[9]<0?6:ca[9],ea=ba<0?(ca[8]=-1,-ba):ba,fa="";if(isNaN(ea)){fa="nan";ca[2]=" ";}else if(isFinite(ea)){var ga=ca[10];switch(ga){case "e":fa=ea.toExponential(da);var ha=fa.length;if(fa[ha-3|0]==="e")fa=fa.slice(0,ha-1|0)+("0"+fa.slice(ha-1|0));break;case "f":fa=ea.toFixed(da);break;case "g":var ia=da!==0?da:1;fa=ea.toExponential(ia-1|0);var ja=fa.indexOf("e"),ka=Number(fa.slice(ja+1|0))|0;if(ka<-4||ea>=1e+21||ea.toFixed().length>ia){var la=ja-1|0;while(fa[la]==="0")la=la-1|0;if(fa[la]===".")la=la-1|0;fa=fa.slice(0,la+1|0)+fa.slice(ja);var ma=fa.length;if(fa[ma-3|0]==="e")fa=fa.slice(0,ma-1|0)+("0"+fa.slice(ma-1|0));}else{var na=ia;if(ka<0){na=na-(ka+1|0)|0;fa=ea.toFixed(na);}else while(function(){fa=ea.toFixed(na);return +(fa.length>(ia+1|0));}())na=na-1|0;if(na!==0){var oa=fa.length-1|0;while(fa[oa]==="0")oa=oa-1|0;if(fa[oa]===".")oa=oa-1|0;fa=fa.slice(0,oa+1|0);}}break;default:}}else{fa="inf";ca[2]=" ";}return q(ca,fa);}var u=function aa(ba,ca){var da=+ba;if(ba.length>0&&da===da)return da;ba=ba.replace(/_/g,"");da=+ba;if(ba.length>0&&da===da||/^[+-]?nan$/i.test(ba))return da;if(/^ *0x[0-9a-f_]+p[+-]?[0-9_]+/i.test(ba)){var ea=ba.indexOf('p');ea=ea==-1?ba.indexOf('P'):ea;var fa=+ba.substring(ea+1);da=+ba.substring(0,ea);return da*Math.pow(2,fa);}if(/^\+?inf(inity)?$/i.test(ba))return Infinity;if(/^-inf(inity)?$/i.test(ba))return -Infinity;ca("float_of_string");};function v(aa){return c('bs_curry')._2(u,aa,h);}var w=r,x=r,y=l,z=l;g.caml_format_float=t;g.caml_format_int=r;g.caml_nativeint_format=w;g.caml_int32_format=x;g.caml_float_of_string=v;g.caml_int64_format=s;g.caml_int_of_string=l;g.caml_int32_of_string=y;g.caml_int64_of_string=m;g.caml_nativeint_of_string=z;}),null);
__d('bs_caml_io',['bs_curry','bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';function h(u,v){return u+v;}var i=undefined,j=["",function(u,v){var w=v.length-1|0;if(typeof process!=="undefined"&&process.stdout&&process.stdout.write){return process.stdout.write(v);}else if(v[w]==="\n"){return 0;}else return 0;}],k=["",function(u,v){var w=v.length-1|0;if(v[w]==="\n"){return 0;}else return 0;}];function l(){throw [c('bs_caml_builtin_exceptions').failure,"caml_ml_open_descriptor_in not implemented"];}function m(){throw [c('bs_caml_builtin_exceptions').failure,"caml_ml_open_descriptor_out not implemented"];}function n(u){if(u[0]!==""){c('bs_curry')._2(u[1],u,u[0]);u[0]="";return 0;}else return 0;}var o=function u(v){return typeof process!=="undefined"&&process.stdout&&(process.stdout.write(v),true);};function p(u,v,w,x){var y=w===0&&x===v.length?v:v.slice(w,x);if(typeof process!=="undefined"&&process.stdout&&process.stdout.write&&u===j){return process.stdout.write(y);}else{var z=y.lastIndexOf("\n");if(z<0){u[0]=u[0]+y;return 0;}else{u[0]=u[0]+y.slice(0,z+1|0);n(u);u[0]=u[0]+y.slice(z+1|0);return 0;}}}function q(u,v){return p(u,String.fromCharCode(v),0,1);}function r(u,v,w,x){throw [c('bs_caml_builtin_exceptions').failure,"caml_ml_input ic not implemented"];}function s(){throw [c('bs_caml_builtin_exceptions').failure,"caml_ml_input_char not implemnted"];}function t(){return [j,[k,0]];}g.$caret=h;g.stdin=i;g.stdout=j;g.stderr=k;g.caml_ml_open_descriptor_in=l;g.caml_ml_open_descriptor_out=m;g.caml_ml_flush=n;g.node_std_output=o;g.caml_ml_output=p;g.caml_ml_output_char=q;g.caml_ml_input=r;g.caml_ml_input_char=s;g.caml_ml_out_channels_list=t;}),null);
__d('bs_caml_missing_polyfill',[],(function a(b,c,d,e,f,g){'use strict';var h=function i(j){throw new Error(j);};g.not_implemented=h;}),null);
__d('bs_caml_string',['bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';function h(v){return String.fromCharCode(v);}function i(v,w){if(w>=v.length||w<0){throw [c('bs_caml_builtin_exceptions').invalid_argument,"index out of bounds"];}else return v.charCodeAt(w);}function j(v){if(v<0){throw [c('bs_caml_builtin_exceptions').invalid_argument,"String.create"];}else return new Array(v);}function k(v,w){if(v===w){return 0;}else if(v<w){return -1;}else return 1;}function l(v,w,x,y){if(x>0){for(var z=w,aa=(x+w|0)-1|0;z<=aa;++z)v[z]=y;return 0;}else return 0;}function m(v,w,x,y,z){if(z>0){var aa=v.length-w|0;if(z<=aa){for(var ba=0,ca=z-1|0;ba<=ca;++ba)x[y+ba|0]=v.charCodeAt(w+ba|0);return 0;}else{for(var da=0,ea=aa-1|0;da<=ea;++da)x[y+da|0]=v.charCodeAt(w+da|0);for(var fa=aa,ga=z-1|0;fa<=ga;++fa)x[y+fa|0]=0;return 0;}}else return 0;}function n(v,w,x,y,z){if(z>0){if(v===x){var aa=v,ba=w,ca=y,da=z;if(ba<ca){var ea=(aa.length-ca|0)-1|0,fa=da-1|0,ga=ea>fa?fa:ea;for(var ha=ga;ha>=0;--ha)aa[ca+ha|0]=aa[ba+ha|0];return 0;}else if(ba>ca){var ia=(aa.length-ba|0)-1|0,ja=da-1|0,ka=ia>ja?ja:ia;for(var la=0;la<=ka;++la)aa[ca+la|0]=aa[ba+la|0];return 0;}else return 0;}else{var ma=v.length-w|0;if(z<=ma){for(var na=0,oa=z-1|0;na<=oa;++na)x[y+na|0]=v[w+na|0];return 0;}else{for(var pa=0,qa=ma-1|0;pa<=qa;++pa)x[y+pa|0]=v[w+pa|0];for(var ra=ma,sa=z-1|0;ra<=sa;++ra)x[y+ra|0]=0;return 0;}}}else return 0;}function o(v){var w=v.length,x=new Array(w);for(var y=0,z=w-1|0;y<=z;++y)x[y]=v.charCodeAt(y);return x;}function p(v){var w=v,x=0,y=v.length,z="",aa=y;if(x===0&&y<=4096&&y===w.length){return String.fromCharCode.apply(null,w);}else{var ba=0;while(aa>0){var ca=aa<1024?aa:1024,da=new Array(ca);n(w,ba,da,0,ca);z=z+String.fromCharCode.apply(null,da);aa=aa-ca|0;ba=ba+ca|0;}return z;}}function q(v){var w=v.length,x=new Array(w);for(var y=0,z=w-1|0;y<=z;++y)x[y]=v[y];return p(x);}function r(v){if(v>31){return +(v<127);}else return 0;}function s(v,w){return v.charCodeAt(w)+(v.charCodeAt(w+1|0)<<8)|0;}function t(v,w){return ((v.charCodeAt(w)+(v.charCodeAt(w+1|0)<<8)|0)+(v.charCodeAt(w+2|0)<<16)|0)+(v.charCodeAt(w+3|0)<<24)|0;}function u(v,w){if(w<0||w>=v.length){throw [c('bs_caml_builtin_exceptions').invalid_argument,"index out of bounds"];}else return v.charCodeAt(w);}g.bytes_of_string=o;g.bytes_to_string=p;g.caml_is_printable=r;g.caml_string_of_char_array=q;g.caml_string_get=i;g.caml_string_compare=k;g.caml_create_string=j;g.caml_fill_string=l;g.caml_blit_string=m;g.caml_blit_bytes=n;g.caml_string_get16=s;g.caml_string_get32=t;g.string_of_char=h;g.get=u;}),null);
__d('bs_caml_sys',['bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';function h(q){var r=typeof process==="undefined"?undefined:process;if(r!==undefined){var s=r.env[q];if(s!==undefined){return s;}else throw c('bs_caml_builtin_exceptions').not_found;}else throw c('bs_caml_builtin_exceptions').not_found;}function i(){var q=typeof process==="undefined"?undefined:process;if(q!==undefined){return q.uptime();}else return -1;}function j(){return [((Date.now()|0)^4294967295)*Math.random()|0];}function k(){return 127;}function l(){var q=typeof process==="undefined"?undefined:process;if(q!==undefined){return q.cwd();}else return "/";}function m(){var q=typeof process==="undefined"?undefined:process;if(q!==undefined){return [q.argv[0],q.argv];}else return ["",[""]];}function n(q){var r=typeof process==="undefined"?undefined:process;if(r!==undefined){return r.exit(q);}else return 0;}function o(){throw [c('bs_caml_builtin_exceptions').failure,"caml_sys_is_directory not implemented"];}function p(){throw [c('bs_caml_builtin_exceptions').failure,"caml_sys_file_exists not implemented"];}g.caml_sys_getenv=h;g.caml_sys_time=i;g.caml_sys_random_seed=j;g.caml_sys_system_command=k;g.caml_sys_getcwd=l;g.caml_sys_get_argv=m;g.caml_sys_exit=n;g.caml_sys_is_directory=o;g.caml_sys_file_exists=p;}),null);
__d('bs_camlinternalFormatBasics',['bs_block'],(function a(b,c,d,e,f,g){'use strict';function h(k){if(typeof k==="number"){return 0;}else switch(k.tag|0){case 0:return c('bs_block').__(0,[h(k[0])]);case 1:return c('bs_block').__(1,[h(k[0])]);case 2:return c('bs_block').__(2,[h(k[0])]);case 3:return c('bs_block').__(3,[h(k[0])]);case 4:return c('bs_block').__(4,[h(k[0])]);case 5:return c('bs_block').__(5,[h(k[0])]);case 6:return c('bs_block').__(6,[h(k[0])]);case 7:return c('bs_block').__(7,[h(k[0])]);case 8:return c('bs_block').__(8,[k[0],h(k[1])]);case 9:var l=k[0];return c('bs_block').__(9,[l,l,h(k[2])]);case 10:return c('bs_block').__(10,[h(k[0])]);case 11:return c('bs_block').__(11,[h(k[0])]);case 12:return c('bs_block').__(12,[h(k[0])]);case 13:return c('bs_block').__(13,[h(k[0])]);case 14:return c('bs_block').__(14,[h(k[0])]);}}function i(k,l){if(typeof k==="number"){return l;}else switch(k.tag|0){case 0:return c('bs_block').__(0,[i(k[0],l)]);case 1:return c('bs_block').__(1,[i(k[0],l)]);case 2:return c('bs_block').__(2,[i(k[0],l)]);case 3:return c('bs_block').__(3,[i(k[0],l)]);case 4:return c('bs_block').__(4,[i(k[0],l)]);case 5:return c('bs_block').__(5,[i(k[0],l)]);case 6:return c('bs_block').__(6,[i(k[0],l)]);case 7:return c('bs_block').__(7,[i(k[0],l)]);case 8:return c('bs_block').__(8,[k[0],i(k[1],l)]);case 9:return c('bs_block').__(9,[k[0],k[1],i(k[2],l)]);case 10:return c('bs_block').__(10,[i(k[0],l)]);case 11:return c('bs_block').__(11,[i(k[0],l)]);case 12:return c('bs_block').__(12,[i(k[0],l)]);case 13:return c('bs_block').__(13,[i(k[0],l)]);case 14:return c('bs_block').__(14,[i(k[0],l)]);}}function j(k,l){if(typeof k==="number"){return l;}else switch(k.tag|0){case 0:return c('bs_block').__(0,[j(k[0],l)]);case 1:return c('bs_block').__(1,[j(k[0],l)]);case 2:return c('bs_block').__(2,[k[0],j(k[1],l)]);case 3:return c('bs_block').__(3,[k[0],j(k[1],l)]);case 4:return c('bs_block').__(4,[k[0],k[1],k[2],j(k[3],l)]);case 5:return c('bs_block').__(5,[k[0],k[1],k[2],j(k[3],l)]);case 6:return c('bs_block').__(6,[k[0],k[1],k[2],j(k[3],l)]);case 7:return c('bs_block').__(7,[k[0],k[1],k[2],j(k[3],l)]);case 8:return c('bs_block').__(8,[k[0],k[1],k[2],j(k[3],l)]);case 9:return c('bs_block').__(9,[j(k[0],l)]);case 10:return c('bs_block').__(10,[j(k[0],l)]);case 11:return c('bs_block').__(11,[k[0],j(k[1],l)]);case 12:return c('bs_block').__(12,[k[0],j(k[1],l)]);case 13:return c('bs_block').__(13,[k[0],k[1],j(k[2],l)]);case 14:return c('bs_block').__(14,[k[0],k[1],j(k[2],l)]);case 15:return c('bs_block').__(15,[j(k[0],l)]);case 16:return c('bs_block').__(16,[j(k[0],l)]);case 17:return c('bs_block').__(17,[k[0],j(k[1],l)]);case 18:return c('bs_block').__(18,[k[0],j(k[1],l)]);case 19:return c('bs_block').__(19,[j(k[0],l)]);case 20:return c('bs_block').__(20,[k[0],k[1],j(k[2],l)]);case 21:return c('bs_block').__(21,[k[0],j(k[1],l)]);case 22:return c('bs_block').__(22,[j(k[0],l)]);case 23:return c('bs_block').__(23,[k[0],j(k[1],l)]);case 24:return c('bs_block').__(24,[k[0],k[1],j(k[2],l)]);}}g.concat_fmtty=i;g.erase_rel=h;g.concat_fmt=j;}),null);
__d('bs_pervasives',['bs_curry','bs_caml_io','bs_caml_obj','bs_caml_sys','bs_caml_format','bs_caml_string','bs_caml_exceptions','bs_caml_missing_polyfill','bs_caml_builtin_exceptions','bs_camlinternalFormatBasics'],(function a(b,c,d,e,f,g){'use strict';function h(wc){throw [c('bs_caml_builtin_exceptions').failure,wc];}function i(wc){throw [c('bs_caml_builtin_exceptions').invalid_argument,wc];}var j=c('bs_caml_exceptions').create("Pervasives.Exit");function k(wc,xc){if(c('bs_caml_obj').caml_lessequal(wc,xc)){return wc;}else return xc;}function l(wc,xc){if(c('bs_caml_obj').caml_greaterequal(wc,xc)){return wc;}else return xc;}function m(wc){if(wc>=0){return wc;}else return -wc|0;}function n(wc){return wc^-1;}var o=-2147483648;function p(wc,xc){return wc+xc;}function q(wc){if(wc<0||wc>255){throw [c('bs_caml_builtin_exceptions').invalid_argument,"char_of_int"];}else return wc;}function r(wc){if(wc){return "true";}else return "false";}function s(wc){switch(wc){case "false":return 0;case "true":return 1;default:throw [c('bs_caml_builtin_exceptions').invalid_argument,"bool_of_string"];}}function t(wc){return ""+wc;}function u(wc){var xc=wc.length,yc=0;while(true){var zc=yc;if(zc>=xc){return p(wc,".");}else{var ad=c('bs_caml_string').get(wc,zc);if(ad>=48){if(ad>=58){return wc;}else{yc=zc+1|0;continue;}}else if(ad!==45){return wc;}else{yc=zc+1|0;continue;}}}}function v(wc){return u(c('bs_caml_format').caml_format_float("%.12g",wc));}function w(wc,xc){if(wc){return [wc[0],w(wc[1],xc)];}else return xc;}var x=c('bs_caml_io').stdin,y=c('bs_caml_io').stdout,z=c('bs_caml_io').stderr;function aa(wc,xc,yc){return c('bs_caml_io').caml_ml_open_descriptor_out(c('bs_caml_missing_polyfill').not_implemented("caml_sys_open not implemented by bucklescript yet\n"));}function ba(wc){return aa([1,[3,[4,[7,0]]]],438,wc);}function ca(wc){return aa([1,[3,[4,[6,0]]]],438,wc);}function da(){var wc=c('bs_caml_io').caml_ml_out_channels_list(0);while(true){var xc=wc;if(xc){try{c('bs_caml_io').caml_ml_flush(xc[0]);}catch(yc){}wc=xc[1];continue;}else return 0;}}function ea(wc,xc){return c('bs_caml_io').caml_ml_output(wc,xc,0,xc.length);}function fa(wc,xc){return c('bs_caml_io').caml_ml_output(wc,xc,0,xc.length);}function ga(wc,xc,yc,zc){if(yc<0||zc<0||yc>(xc.length-zc|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"output"];}else return c('bs_caml_io').caml_ml_output(wc,xc,yc,zc);}function ha(wc,xc,yc,zc){if(yc<0||zc<0||yc>(xc.length-zc|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"output_substring"];}else return c('bs_caml_io').caml_ml_output(wc,xc,yc,zc);}function ia(wc,xc){return c('bs_caml_missing_polyfill').not_implemented("caml_output_value not implemented by bucklescript yet\n");}function ja(wc){c('bs_caml_io').caml_ml_flush(wc);return c('bs_caml_missing_polyfill').not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n");}function ka(wc){try{c('bs_caml_io').caml_ml_flush(wc);}catch(xc){}try{return c('bs_caml_missing_polyfill').not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n");}catch(xc){return 0;}}function la(wc,xc,yc){return c('bs_caml_io').caml_ml_open_descriptor_in(c('bs_caml_missing_polyfill').not_implemented("caml_sys_open not implemented by bucklescript yet\n"));}function ma(wc){return la([0,[7,0]],0,wc);}function na(wc){return la([0,[6,0]],0,wc);}function oa(wc,xc,yc,zc){if(yc<0||zc<0||yc>(xc.length-zc|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"input"];}else return c('bs_caml_missing_polyfill').not_implemented("caml_ml_input not implemented by bucklescript yet\n");}function pa(wc,xc,yc,zc){while(true){var ad=zc,bd=yc;if(ad<=0){return 0;}else{var cd=c('bs_caml_missing_polyfill').not_implemented("caml_ml_input not implemented by bucklescript yet\n");if(cd){zc=ad-cd|0;yc=bd+cd|0;continue;}else throw c('bs_caml_builtin_exceptions').end_of_file;}}}function qa(wc,xc,yc,zc){if(yc<0||zc<0||yc>(xc.length-zc|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"really_input"];}else return pa(wc,xc,yc,zc);}function ra(wc,xc){var yc=c('bs_caml_string').caml_create_string(xc);qa(wc,yc,0,xc);return c('bs_caml_string').bytes_to_string(yc);}function sa(wc){var xc=function zc(ad,bd,cd){while(true){var dd=cd,ed=bd;if(dd){var fd=dd[0],gd=fd.length;c('bs_caml_string').caml_blit_bytes(fd,0,ad,ed-gd|0,gd);cd=dd[1];bd=ed-gd|0;continue;}else return ad;}},yc=function zc(ad,bd){while(true){var cd=bd,dd=ad,ed=c('bs_caml_missing_polyfill').not_implemented("caml_ml_input_scan_line not implemented by bucklescript yet\n");if(ed){if(ed>0){var fd=c('bs_caml_string').caml_create_string(ed-1|0);c('bs_caml_missing_polyfill').not_implemented("caml_ml_input not implemented by bucklescript yet\n");c('bs_caml_io').caml_ml_input_char(wc);if(dd){var gd=(cd+ed|0)-1|0;return xc(c('bs_caml_string').caml_create_string(gd),gd,[fd,dd]);}else return fd;}else{var hd=c('bs_caml_string').caml_create_string(-ed|0);c('bs_caml_missing_polyfill').not_implemented("caml_ml_input not implemented by bucklescript yet\n");bd=cd-ed|0;ad=[hd,dd];continue;}}else if(dd){return xc(c('bs_caml_string').caml_create_string(cd),cd,dd);}else throw c('bs_caml_builtin_exceptions').end_of_file;}};return c('bs_caml_string').bytes_to_string(yc(0,0));}function ta(){try{return c('bs_caml_missing_polyfill').not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n");}catch(wc){return 0;}}function ua(wc){return c('bs_caml_io').caml_ml_output_char(y,wc);}function va(wc){return fa(y,wc);}function wa(wc){return ea(y,wc);}function xa(wc){return fa(y,""+wc);}function ya(wc){return fa(y,u(c('bs_caml_format').caml_format_float("%.12g",wc)));}function za(wc){return 0;}function ab(){c('bs_caml_io').caml_ml_output_char(y,10);return c('bs_caml_io').caml_ml_flush(y);}function bb(wc){return c('bs_caml_io').caml_ml_output_char(z,wc);}function cb(wc){return fa(z,wc);}function db(wc){return ea(z,wc);}function eb(wc){return fa(z,""+wc);}function fb(wc){return fa(z,u(c('bs_caml_format').caml_format_float("%.12g",wc)));}function gb(wc){return 0;}function hb(){c('bs_caml_io').caml_ml_output_char(z,10);return c('bs_caml_io').caml_ml_flush(z);}function ib(){c('bs_caml_io').caml_ml_flush(y);return sa(x);}function jb(){return c('bs_caml_format').caml_int_of_string((c('bs_caml_io').caml_ml_flush(y),sa(x)));}function kb(){return c('bs_caml_format').caml_float_of_string((c('bs_caml_io').caml_ml_flush(y),sa(x)));}function lb(wc){return wc[1];}function mb(wc,xc){return [c('bs_camlinternalFormatBasics').concat_fmt(wc[0],xc[0]),p(wc[1],p("%,",xc[1]))];}var nb=[da];function ob(wc){var xc=nb[0];nb[0]=function(){c('bs_curry')._1(wc,0);return c('bs_curry')._1(xc,0);};return 0;}function pb(){return c('bs_curry')._1(nb[0],0);}function qb(wc){pb(0);return c('bs_caml_sys').caml_sys_exit(wc);}var rb=2147483647,sb=Infinity,tb=-Infinity,ub=NaN,vb=Number.MAX_VALUE,wb=Number.MIN_VALUE,xb=2.220446049250313e-16,yb=c('bs_caml_io').caml_ml_flush,zb=c('bs_caml_io').caml_ml_output_char,ac=c('bs_caml_io').caml_ml_output_char;function bc(wc,xc){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_output_int not implemented by bucklescript yet\n");}function cc(wc,xc){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_seek_out not implemented by bucklescript yet\n");}function dc(){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_pos_out not implemented by bucklescript yet\n");}function ec(){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_channel_size not implemented by bucklescript yet\n");}function fc(wc,xc){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_set_binary_mode not implemented by bucklescript yet\n");}var gc=c('bs_caml_io').caml_ml_input_char,hc=c('bs_caml_io').caml_ml_input_char;function ic(){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_input_int not implemented by bucklescript yet\n");}function jc(){return c('bs_caml_missing_polyfill').not_implemented("caml_input_value not implemented by bucklescript yet\n");}function kc(wc,xc){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_seek_in not implemented by bucklescript yet\n");}function lc(){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_pos_in not implemented by bucklescript yet\n");}function mc(){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_channel_size not implemented by bucklescript yet\n");}function nc(){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_close_channel not implemented by bucklescript yet\n");}function oc(wc,xc){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_set_binary_mode not implemented by bucklescript yet\n");}function pc(wc,xc){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_seek_out_64 not implemented by bucklescript yet\n");}function qc(){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_pos_out_64 not implemented by bucklescript yet\n");}function rc(){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_channel_size_64 not implemented by bucklescript yet\n");}function sc(wc,xc){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_seek_in_64 not implemented by bucklescript yet\n");}function tc(){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_pos_in_64 not implemented by bucklescript yet\n");}function uc(){return c('bs_caml_missing_polyfill').not_implemented("caml_ml_channel_size_64 not implemented by bucklescript yet\n");}var vc=[pc,qc,rc,sc,tc,uc];g.invalid_arg=i;g.failwith=h;g.Exit=j;g.min=k;g.max=l;g.abs=m;g.max_int=rb;g.min_int=o;g.lnot=n;g.infinity=sb;g.neg_infinity=tb;g.nan=ub;g.max_float=vb;g.min_float=wb;g.epsilon_float=xb;g.$caret=p;g.char_of_int=q;g.string_of_bool=r;g.bool_of_string=s;g.string_of_int=t;g.string_of_float=v;g.$at=w;g.stdin=x;g.stdout=y;g.stderr=z;g.print_char=ua;g.print_string=va;g.print_bytes=wa;g.print_int=xa;g.print_float=ya;g.print_endline=za;g.print_newline=ab;g.prerr_char=bb;g.prerr_string=cb;g.prerr_bytes=db;g.prerr_int=eb;g.prerr_float=fb;g.prerr_endline=gb;g.prerr_newline=hb;g.read_line=ib;g.read_int=jb;g.read_float=kb;g.open_out=ba;g.open_out_bin=ca;g.open_out_gen=aa;g.flush=yb;g.flush_all=da;g.output_char=zb;g.output_string=fa;g.output_bytes=ea;g.output=ga;g.output_substring=ha;g.output_byte=ac;g.output_binary_int=bc;g.output_value=ia;g.seek_out=cc;g.pos_out=dc;g.out_channel_length=ec;g.close_out=ja;g.close_out_noerr=ka;g.set_binary_mode_out=fc;g.open_in=ma;g.open_in_bin=na;g.open_in_gen=la;g.input_char=gc;g.input_line=sa;g.input=oa;g.really_input=qa;g.really_input_string=ra;g.input_byte=hc;g.input_binary_int=ic;g.input_value=jc;g.seek_in=kc;g.pos_in=lc;g.in_channel_length=mc;g.close_in=nc;g.close_in_noerr=ta;g.set_binary_mode_in=oc;g.LargeFile=vc;g.string_of_format=lb;g.$caret$caret=mb;g.exit=qb;g.at_exit=ob;g.valid_float_lexem=u;g.unsafe_really_input=pa;g.do_at_exit=pb;}),null);
__d('bs_list',['bs_curry','bs_caml_obj','bs_pervasives','bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';function h(bb){var cb=0,db=bb;while(true){var eb=db,fb=cb;if(eb){db=eb[1];cb=fb+1|0;continue;}else return fb;}}function i(bb){if(bb){return bb[0];}else throw [c('bs_caml_builtin_exceptions').failure,"hd"];}function j(bb){if(bb){return bb[1];}else throw [c('bs_caml_builtin_exceptions').failure,"tl"];}function k(bb,cb){if(cb<0){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.nth"];}else{var db=bb,eb=cb;while(true){var fb=eb,gb=db;if(gb){if(fb){eb=fb-1|0;db=gb[1];continue;}else return gb[0];}else throw [c('bs_caml_builtin_exceptions').failure,"nth"];}}}function l(bb,cb){while(true){var db=cb,eb=bb;if(eb){cb=[eb[0],db];bb=eb[1];continue;}else return db;}}function m(bb){return l(bb,0);}function n(bb){if(bb){return c('bs_pervasives').$at(bb[0],n(bb[1]));}else return 0;}function o(bb,cb){if(cb){var db=c('bs_curry')._1(bb,cb[0]);return [db,o(bb,cb[1])];}else return 0;}function p(bb,cb,db){if(db){var eb=c('bs_curry')._2(cb,bb,db[0]);return [eb,p(bb+1|0,cb,db[1])];}else return 0;}function q(bb,cb){return p(0,bb,cb);}function r(bb,cb){var db=0,eb=cb;while(true){var fb=eb,gb=db;if(fb){eb=fb[1];db=[c('bs_curry')._1(bb,fb[0]),gb];continue;}else return gb;}}function s(bb,cb){while(true){var db=cb;if(db){c('bs_curry')._1(bb,db[0]);cb=db[1];continue;}else return 0;}}function t(bb,cb){var db=0,eb=bb,fb=cb;while(true){var gb=fb,hb=db;if(gb){c('bs_curry')._2(eb,hb,gb[0]);fb=gb[1];db=hb+1|0;continue;}else return 0;}}function u(bb,cb,db){while(true){var eb=db,fb=cb;if(eb){db=eb[1];cb=c('bs_curry')._2(bb,fb,eb[0]);continue;}else return fb;}}function v(bb,cb,db){if(cb){return c('bs_curry')._2(bb,cb[0],v(bb,cb[1],db));}else return db;}function w(bb,cb,db){if(cb){if(db){var eb=c('bs_curry')._2(bb,cb[0],db[0]);return [eb,w(bb,cb[1],db[1])];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.map2"];}else if(db){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.map2"];}else return 0;}function x(bb,cb,db){var eb=0,fb=cb,gb=db;while(true){var hb=gb,ib=fb,jb=eb;if(ib){if(hb){gb=hb[1];fb=ib[1];eb=[c('bs_curry')._2(bb,ib[0],hb[0]),jb];continue;}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.rev_map2"];}else if(hb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.rev_map2"];}else return jb;}}function y(bb,cb,db){while(true){var eb=db,fb=cb;if(fb){if(eb){c('bs_curry')._2(bb,fb[0],eb[0]);db=eb[1];cb=fb[1];continue;}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.iter2"];}else if(eb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.iter2"];}else return 0;}}function z(bb,cb,db,eb){while(true){var fb=eb,gb=db,hb=cb;if(gb){if(fb){eb=fb[1];db=gb[1];cb=c('bs_curry')._3(bb,hb,gb[0],fb[0]);continue;}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.fold_left2"];}else if(fb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.fold_left2"];}else return hb;}}function aa(bb,cb,db,eb){if(cb){if(db){return c('bs_curry')._3(bb,cb[0],db[0],aa(bb,cb[1],db[1],eb));}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.fold_right2"];}else if(db){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.fold_right2"];}else return eb;}function ba(bb,cb){while(true){var db=cb;if(db){if(c('bs_curry')._1(bb,db[0])){cb=db[1];continue;}else return 0;}else return 1;}}function ca(bb,cb){while(true){var db=cb;if(db){if(c('bs_curry')._1(bb,db[0])){return 1;}else{cb=db[1];continue;}}else return 0;}}function da(bb,cb,db){while(true){var eb=db,fb=cb;if(fb){if(eb){if(c('bs_curry')._2(bb,fb[0],eb[0])){db=eb[1];cb=fb[1];continue;}else return 0;}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.for_all2"];}else if(eb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.for_all2"];}else return 1;}}function ea(bb,cb,db){while(true){var eb=db,fb=cb;if(fb){if(eb){if(c('bs_curry')._2(bb,fb[0],eb[0])){return 1;}else{db=eb[1];cb=fb[1];continue;}}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.exists2"];}else if(eb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.exists2"];}else return 0;}}function fa(bb,cb){while(true){var db=cb;if(db){if(c('bs_caml_obj').caml_compare(db[0],bb)){cb=db[1];continue;}else return 1;}else return 0;}}function ga(bb,cb){while(true){var db=cb;if(db){if(db[0]===bb){return 1;}else{cb=db[1];continue;}}else return 0;}}function ha(bb,cb){while(true){var db=cb;if(db){var eb=db[0];if(c('bs_caml_obj').caml_compare(eb[0],bb)){cb=db[1];continue;}else return eb[1];}else throw c('bs_caml_builtin_exceptions').not_found;}}function ia(bb,cb){while(true){var db=cb;if(db){var eb=db[0];if(eb[0]===bb){return eb[1];}else{cb=db[1];continue;}}else throw c('bs_caml_builtin_exceptions').not_found;}}function ja(bb,cb){while(true){var db=cb;if(db){if(c('bs_caml_obj').caml_compare(db[0][0],bb)){cb=db[1];continue;}else return 1;}else return 0;}}function ka(bb,cb){while(true){var db=cb;if(db){if(db[0][0]===bb){return 1;}else{cb=db[1];continue;}}else return 0;}}function la(bb,cb){if(cb){var db=cb[1],eb=cb[0];if(c('bs_caml_obj').caml_compare(eb[0],bb)){return [eb,la(bb,db)];}else return db;}else return 0;}function ma(bb,cb){if(cb){var db=cb[1],eb=cb[0];if(eb[0]===bb){return db;}else return [eb,ma(bb,db)];}else return 0;}function na(bb,cb){while(true){var db=cb;if(db){var eb=db[0];if(c('bs_curry')._1(bb,eb)){return eb;}else{cb=db[1];continue;}}else throw c('bs_caml_builtin_exceptions').not_found;}}function oa(bb){return function(cb){var db=0,eb=cb;while(true){var fb=eb,gb=db;if(fb){var hb=fb[1],ib=fb[0];if(c('bs_curry')._1(bb,ib)){eb=hb;db=[ib,gb];continue;}else{eb=hb;continue;}}else return l(gb,0);}};}function pa(bb,cb){var db=0,eb=0,fb=cb;while(true){var gb=fb,hb=eb,ib=db;if(gb){var jb=gb[1],kb=gb[0];if(c('bs_curry')._1(bb,kb)){fb=jb;db=[kb,ib];continue;}else{fb=jb;eb=[kb,hb];continue;}}else return [l(ib,0),l(hb,0)];}}function qa(bb){if(bb){var cb=bb[0],db=qa(bb[1]);return [[cb[0],db[0]],[cb[1],db[1]]];}else return [0,0];}function ra(bb,cb){if(bb){if(cb){return [[bb[0],cb[0]],ra(bb[1],cb[1])];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.combine"];}else if(cb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.combine"];}else return 0;}function sa(bb,cb,db){if(cb){if(db){var eb=db[0],fb=cb[0];if(c('bs_curry')._2(bb,fb,eb)<=0){return [fb,sa(bb,cb[1],db)];}else return [eb,sa(bb,cb,db[1])];}else return cb;}else return db;}function ta(bb,cb){while(true){var db=cb,eb=bb;if(eb){if(db){cb=db[1];bb=eb-1|0;continue;}else throw [c('bs_caml_builtin_exceptions').assert_failure,["list.ml",223,11]];}else return db;}}function ua(bb,cb){var db=function gb(hb,ib){var jb=0;if(hb!==2){if(hb!==3){jb=1;}else if(ib){var kb=ib[1];if(kb){var lb=kb[1];if(lb){var mb=lb[0],nb=kb[0],ob=ib[0];if(c('bs_curry')._2(bb,ob,nb)<=0){if(c('bs_curry')._2(bb,nb,mb)<=0){return [ob,[nb,[mb,0]]];}else if(c('bs_curry')._2(bb,ob,mb)<=0){return [ob,[mb,[nb,0]]];}else return [mb,[ob,[nb,0]]];}else if(c('bs_curry')._2(bb,ob,mb)<=0){return [nb,[ob,[mb,0]]];}else if(c('bs_curry')._2(bb,nb,mb)<=0){return [nb,[mb,[ob,0]]];}else return [mb,[nb,[ob,0]]];}else jb=1;}else jb=1;}else jb=1;}else if(ib){var pb=ib[1];if(pb){var qb=pb[0],rb=ib[0];if(c('bs_curry')._2(bb,rb,qb)<=0){return [rb,[qb,0]];}else return [qb,[rb,0]];}else jb=1;}else jb=1;if(jb===1){var sb=hb>>1,tb=hb-sb|0,ub=ta(sb,ib),vb=eb(sb,ib),wb=eb(tb,ub),xb=vb,yb=wb,zb=0;while(true){var ac=zb,bc=yb,cc=xb;if(cc){if(bc){var dc=bc[0],ec=cc[0];if(c('bs_curry')._2(bb,ec,dc)>0){zb=[ec,ac];xb=cc[1];continue;}else{zb=[dc,ac];yb=bc[1];continue;}}else return l(cc,ac);}else return l(bc,ac);}}},eb=function gb(hb,ib){var jb=0;if(hb!==2){if(hb!==3){jb=1;}else if(ib){var kb=ib[1];if(kb){var lb=kb[1];if(lb){var mb=lb[0],nb=kb[0],ob=ib[0];if(c('bs_curry')._2(bb,ob,nb)>0){if(c('bs_curry')._2(bb,nb,mb)>0){return [ob,[nb,[mb,0]]];}else if(c('bs_curry')._2(bb,ob,mb)>0){return [ob,[mb,[nb,0]]];}else return [mb,[ob,[nb,0]]];}else if(c('bs_curry')._2(bb,ob,mb)>0){return [nb,[ob,[mb,0]]];}else if(c('bs_curry')._2(bb,nb,mb)>0){return [nb,[mb,[ob,0]]];}else return [mb,[nb,[ob,0]]];}else jb=1;}else jb=1;}else jb=1;}else if(ib){var pb=ib[1];if(pb){var qb=pb[0],rb=ib[0];if(c('bs_curry')._2(bb,rb,qb)>0){return [rb,[qb,0]];}else return [qb,[rb,0]];}else jb=1;}else jb=1;if(jb===1){var sb=hb>>1,tb=hb-sb|0,ub=ta(sb,ib),vb=db(sb,ib),wb=db(tb,ub),xb=vb,yb=wb,zb=0;while(true){var ac=zb,bc=yb,cc=xb;if(cc){if(bc){var dc=bc[0],ec=cc[0];if(c('bs_curry')._2(bb,ec,dc)<=0){zb=[ec,ac];xb=cc[1];continue;}else{zb=[dc,ac];yb=bc[1];continue;}}else return l(cc,ac);}else return l(bc,ac);}}},fb=h(cb);if(fb<2){return cb;}else return db(fb,cb);}function va(bb,cb){var db=function gb(hb,ib){var jb=0;if(hb!==2){if(hb!==3){jb=1;}else if(ib){var kb=ib[1];if(kb){var lb=kb[1];if(lb){var mb=lb[0],nb=kb[0],ob=ib[0],pb=c('bs_curry')._2(bb,ob,nb);if(pb){if(pb<0){var qb=c('bs_curry')._2(bb,nb,mb);if(qb){if(qb<0){return [ob,[nb,[mb,0]]];}else{var rb=c('bs_curry')._2(bb,ob,mb);if(rb){if(rb<0){return [ob,[mb,[nb,0]]];}else return [mb,[ob,[nb,0]]];}else return [ob,[nb,0]];}}else return [ob,[nb,0]];}else{var sb=c('bs_curry')._2(bb,ob,mb);if(sb){if(sb<0){return [nb,[ob,[mb,0]]];}else{var tb=c('bs_curry')._2(bb,nb,mb);if(tb){if(tb<0){return [nb,[mb,[ob,0]]];}else return [mb,[nb,[ob,0]]];}else return [nb,[ob,0]];}}else return [nb,[ob,0]];}}else{var ub=c('bs_curry')._2(bb,nb,mb);if(ub){if(ub<0){return [nb,[mb,0]];}else return [mb,[nb,0]];}else return [nb,0];}}else jb=1;}else jb=1;}else jb=1;}else if(ib){var vb=ib[1];if(vb){var wb=vb[0],xb=ib[0],yb=c('bs_curry')._2(bb,xb,wb);if(yb){if(yb<0){return [xb,[wb,0]];}else return [wb,[xb,0]];}else return [xb,0];}else jb=1;}else jb=1;if(jb===1){var zb=hb>>1,ac=hb-zb|0,bc=ta(zb,ib),cc=eb(zb,ib),dc=eb(ac,bc),ec=cc,fc=dc,gc=0;while(true){var hc=gc,ic=fc,jc=ec;if(jc){if(ic){var kc=ic[1],lc=ic[0],mc=jc[1],nc=jc[0],oc=c('bs_curry')._2(bb,nc,lc);if(oc){if(oc>0){gc=[nc,hc];ec=mc;continue;}else{gc=[lc,hc];fc=kc;continue;}}else{gc=[nc,hc];fc=kc;ec=mc;continue;}}else return l(jc,hc);}else return l(ic,hc);}}},eb=function gb(hb,ib){var jb=0;if(hb!==2){if(hb!==3){jb=1;}else if(ib){var kb=ib[1];if(kb){var lb=kb[1];if(lb){var mb=lb[0],nb=kb[0],ob=ib[0],pb=c('bs_curry')._2(bb,ob,nb);if(pb){if(pb>0){var qb=c('bs_curry')._2(bb,nb,mb);if(qb){if(qb>0){return [ob,[nb,[mb,0]]];}else{var rb=c('bs_curry')._2(bb,ob,mb);if(rb){if(rb>0){return [ob,[mb,[nb,0]]];}else return [mb,[ob,[nb,0]]];}else return [ob,[nb,0]];}}else return [ob,[nb,0]];}else{var sb=c('bs_curry')._2(bb,ob,mb);if(sb){if(sb>0){return [nb,[ob,[mb,0]]];}else{var tb=c('bs_curry')._2(bb,nb,mb);if(tb){if(tb>0){return [nb,[mb,[ob,0]]];}else return [mb,[nb,[ob,0]]];}else return [nb,[ob,0]];}}else return [nb,[ob,0]];}}else{var ub=c('bs_curry')._2(bb,nb,mb);if(ub){if(ub>0){return [nb,[mb,0]];}else return [mb,[nb,0]];}else return [nb,0];}}else jb=1;}else jb=1;}else jb=1;}else if(ib){var vb=ib[1];if(vb){var wb=vb[0],xb=ib[0],yb=c('bs_curry')._2(bb,xb,wb);if(yb){if(yb>0){return [xb,[wb,0]];}else return [wb,[xb,0]];}else return [xb,0];}else jb=1;}else jb=1;if(jb===1){var zb=hb>>1,ac=hb-zb|0,bc=ta(zb,ib),cc=db(zb,ib),dc=db(ac,bc),ec=cc,fc=dc,gc=0;while(true){var hc=gc,ic=fc,jc=ec;if(jc){if(ic){var kc=ic[1],lc=ic[0],mc=jc[1],nc=jc[0],oc=c('bs_curry')._2(bb,nc,lc);if(oc){if(oc<0){gc=[nc,hc];ec=mc;continue;}else{gc=[lc,hc];fc=kc;continue;}}else{gc=[nc,hc];fc=kc;ec=mc;continue;}}else return l(jc,hc);}else return l(ic,hc);}}},fb=h(cb);if(fb<2){return cb;}else return db(fb,cb);}var wa=c('bs_pervasives').$at,xa=n,ya=oa,za=ua,ab=ua;g.length=h;g.hd=i;g.tl=j;g.nth=k;g.rev=m;g.append=wa;g.rev_append=l;g.concat=xa;g.flatten=n;g.iter=s;g.iteri=t;g.map=o;g.mapi=q;g.rev_map=r;g.fold_left=u;g.fold_right=v;g.iter2=y;g.map2=w;g.rev_map2=x;g.fold_left2=z;g.fold_right2=aa;g.for_all=ba;g.exists=ca;g.for_all2=da;g.exists2=ea;g.mem=fa;g.memq=ga;g.find=na;g.filter=ya;g.find_all=oa;g.partition=pa;g.assoc=ha;g.assq=ia;g.mem_assoc=ja;g.mem_assq=ka;g.remove_assoc=la;g.remove_assq=ma;g.split=qa;g.combine=ra;g.sort=za;g.stable_sort=ua;g.fast_sort=ab;g.sort_uniq=va;g.merge=sa;}),null);
__d('reactRe',['bs_list','bs_array','bs_curry','React','bs_caml_array','bs_pervasives','bs_js_primitive','bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';var h=c('bs_array').of_list;function i(ja,ka,la,ma,na,oa,pa){var qa=na?na[0]:undefined,ra=oa?oa[0]:undefined,sa=c('bs_curry')._3(la,ka,qa,ra);if(ma){var ta=ma[1],ua=ma[0];if(ta){var va=ta[1],wa=ta[0];if(va){var xa=va[1],ya=va[0];if(xa){var za=xa[1],ab=xa[0];if(za){var bb=za[1],cb=za[0];if(bb){var db=bb[1],eb=bb[0];if(db){var fb=db[1],gb=db[0];if(fb){var hb=fb[1],ib=fb[0];if(hb){var jb=hb[1],kb=hb[0];if(jb){var lb=jb[1],mb=jb[0];if(lb){var nb=lb[1],ob=lb[0];if(nb){var pb=nb[1],qb=nb[0];if(pb){var rb=pb[1],sb=pb[0];if(rb){var tb=rb[1],ub=rb[0];if(tb){var vb=tb[1],wb=tb[0];if(vb){var xb=vb[1],yb=vb[0];if(xb){if(xb[1]){var zb="Reason allows up to 17 static children (but dynamic children in an array can be unlimited in size); You have "+(c('bs_pervasives').string_of_int(c('bs_list').length(ma))+", please put them in an array and assign key to the elements. Sorry for the inconvenience!");throw [c('bs_caml_builtin_exceptions').invalid_argument,zb];}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb,gb,ib,kb,mb,ob,qb,sb,ub,wb,yb,xb[0]);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb,gb,ib,kb,mb,ob,qb,sb,ub,wb,yb);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb,gb,ib,kb,mb,ob,qb,sb,ub,wb);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb,gb,ib,kb,mb,ob,qb,sb,ub);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb,gb,ib,kb,mb,ob,qb,sb);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb,gb,ib,kb,mb,ob,qb);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb,gb,ib,kb,mb,ob);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb,gb,ib,kb,mb);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb,gb,ib,kb);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb,gb,ib);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb,gb);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb,eb);}else return c('React').createElement(ja,sa,ua,wa,ya,ab,cb);}else return c('React').createElement(ja,sa,ua,wa,ya,ab);}else return c('React').createElement(ja,sa,ua,wa,ya);}else return c('React').createElement(ja,sa,ua,wa);}else return c('React').createElement(ja,sa,ua);}else return c('React').createElement(ja,sa);}function j(ja){if(c('bs_js_primitive').is_nil_undef(ja)){return 0;}else if(Array.isArray(ja)){return c('bs_array').to_list(ja);}else return [ja,0];}function k(){return 0;}function l(ja,ka,la){return 0;}function m(ja,ka,la){return 0;}function n(ja,ka){return 0;}function o(){return 0;}function p(ja){var ka=function oa(pa){var qa=pa.reasonProps,ra=ja[8];if(qa!==undefined){return qa;}else if(ra){return c('bs_curry')._1(ra[0],pa);}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"A JS component called the Reason component "+(ja[0]+(" which didn't implement the JS->Reason React props conversion. Did you forget to add `JsProps` to "+(ja[0]+"'s `include ReactRe.Component.*`?")))];},la=c('React').createClass({displayName:ja[0],instanceVars:null,memoizedUpdaterCallbacks:null,memoizedUpdaterCount:0,memoizedRefCallbacks:null,memoizedRefCount:0,getInitialState:function oa(){var pa=this;pa.instanceVars=c('bs_curry')._1(ja[1],0);pa.memoizedUpdaterCallbacks=c('bs_caml_array').caml_make_vect(30,null);pa.memoizedRefCallbacks=c('bs_caml_array').caml_make_vect(30,null);var qa=this,ra=ka(qa.props);return {mlState:c('bs_curry')._1(ja[2],ra)};},componentDidMount:function oa(){var pa=this,qa=this,ra=qa.state.mlState,sa=c('bs_curry')._1(ja[3],[ra,ka(qa.props),pa.updaterMethod,pa.handlerMethod,pa.instanceVars,pa.setStateMethod]);if(sa){var ta=sa[0];return qa.setState(function(ua,va){return {mlState:ta};});}else return 0;},componentWillUpdate:function oa(pa,qa){var ra=this,sa=this,ta=sa.state.mlState,ua=c('bs_curry')._3(ja[5],[ta,ka(sa.props),ra.updaterMethod,ra.handlerMethod,ra.instanceVars,ra.setStateMethod],ka(pa),qa.mlState);if(ua){var va=ua[0];return sa.setState(function(wa,xa){return {mlState:va};});}else return 0;},componentDidUpdate:function oa(pa,qa){var ra=this,sa=this,ta=sa.state.mlState,ua=c('bs_curry')._3(ja[6],ka(pa),qa.mlState,[ta,ka(sa.props),ra.updaterMethod,ra.handlerMethod,ra.instanceVars,ra.setStateMethod]);if(ua){var va=ua[0];return sa.setState(function(wa,xa){return {mlState:va};});}else return 0;},componentWillReceiveProps:function oa(pa){var qa=this,ra=this,sa=ra.state.mlState,ta=c('bs_curry')._2(ja[4],[sa,ka(ra.props),qa.updaterMethod,qa.handlerMethod,qa.instanceVars,qa.setStateMethod],ka(pa));if(ta){var ua=ta[0];return ra.setState(function(va,wa){return {mlState:ua};});}else return 0;},componentWillUnmount:function oa(){var pa=this,qa=this,ra=qa.state.mlState;return c('bs_curry')._1(ja[7],[ra,ka(qa.props),pa.updaterMethod,pa.handlerMethod,pa.instanceVars,pa.setStateMethod]);},handlerMethod:function oa(pa){var qa=this,ra=qa.memoizedRefCount,sa=qa.memoizedRefCallbacks,ta=function(xa,ya){for(var za=0;za<xa.length;za++){if(xa[za]==null)return null;if(xa[za][0]===ya)return xa[za][1];}return null;}(sa,pa);if(ta!==null){return ta;}else{var ua=this,va=function xa(ya){var za=ua.state.mlState;return c('bs_curry')._2(pa,[za,ka(ua.props),qa.updaterMethod,qa.handlerMethod,qa.instanceVars,qa.setStateMethod],ya);};if(ra<30){var wa=qa.memoizedRefCallbacks;c('bs_caml_array').caml_array_set(wa,ra,[pa,va]);qa.memoizedRefCount=qa.memoizedRefCount+1|0;}return va;}},setStateMethod:function oa(pa){var qa=this,ra=this;return ra.setState(function(sa,ta){var ua=sa.mlState,va=ka(ta),wa=qa.updaterMethod,xa=qa.handlerMethod,ya=qa.instanceVars,za=qa.setStateMethod,ab=[ua,va,wa,xa,ya,za];return {mlState:c('bs_curry')._1(pa,ab)};});},updaterMethod:function oa(pa){var qa=this,ra=qa.memoizedUpdaterCount,sa=qa.memoizedUpdaterCallbacks,ta=function(xa,ya){for(var za=0;za<xa.length;za++){if(xa[za]==null)return null;if(xa[za][0]===ya)return xa[za][1];}return null;}(sa,pa);if(ta!==null){return ta;}else{var ua=this,va=function xa(ya){var za=ua.state.mlState,ab=c('bs_curry')._2(pa,[za,ka(ua.props),qa.updaterMethod,qa.handlerMethod,qa.instanceVars,qa.setStateMethod],ya);if(ab){var bb=ab[0];return ua.setState(function(cb,db){return {mlState:bb};});}else return 0;};if(ra<30){var wa=qa.memoizedUpdaterCallbacks;c('bs_caml_array').caml_array_set(wa,ra,[pa,va]);qa.memoizedUpdaterCount=qa.memoizedUpdaterCount+1|0;}return va;}},render:function oa(){var pa=this,qa=this;return c('bs_curry')._1(ja[9],[qa.state.mlState,ka(qa.props),pa.updaterMethod,pa.handlerMethod,pa.instanceVars,pa.setStateMethod]);}}),ma=function oa(pa,qa,ra){return {reasonProps:pa,ref:qa,key:ra};},na=function oa(pa,qa,ra,sa,ta){return i(la,pa,ma,qa,ra,sa,0);};return [la,na];}function q(ja,ka,la){return Object.assign(Object.assign({},ja),{ref:ka,key:la});}function r(ja,ka,la,ma,na,oa){return i(ja,ka,q,la,ma,na,0);}function s(){return 0;}function t(){return 0;}function u(){return 0;}function v(){return 0;}var w=[k,l,m,n,o,v,0],x=[k,l,m,n,o],y=[k,l,m,n,o,0,x],z=[k,l,m,n,o,u,0,w,y];function aa(){return 0;}function ba(){return 0;}var ca=[k,l,m,n,o,aa,ba];function da(){return 0;}function ea(){return 0;}var fa=[k,l,m,n,o,ea],ga=[k,l,m,n,o,da,0,fa],ha=[k,l,m,n,o,s,0,t,z,ca,ga],ia=[];g.listToElement=h;g.jsChildrenToReason=j;g.ComponentBase=ia;g.CreateComponent=p;g.wrapPropsShamelessly=r;g.Component=ha;}),null);
__d('imageBlockReact',['reasonReact','ImageBlock.react','bs_js_null_undefined'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m){return c('reasonReact').wrapJsComponentForReason(c('ImageBlock.react'),{className:c('bs_js_null_undefined').from_opt(i),contentClassName:c('bs_js_null_undefined').from_opt(j),imageClassName:c('bs_js_null_undefined').from_opt(k),spacing:c('bs_js_null_undefined').from_opt(l)},m);}g.make=h;}),null);
__d('imageReact',['Image.react','reasonReact','bs_js_null_undefined'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m,n,o){return c('reasonReact').wrapJsComponentForReason(c('Image.react'),{className:c('bs_js_null_undefined').from_opt(i),alt:c('bs_js_null_undefined').from_opt(j),src:c('bs_js_null_undefined').from_opt(k),height:c('bs_js_null_undefined').from_opt(l),title:c('bs_js_null_undefined').from_opt(m),width:c('bs_js_null_undefined').from_opt(n)},o);}g.make=h;}),null);
__d('linkReact',['Link.react','reasonReact','bs_js_null_undefined'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m,n,o,p,q,r,s,t,u,v){return c('reasonReact').wrapJsComponentForReason(c('Link.react'),{"aria-label":c('bs_js_null_undefined').from_opt(i),"data-hover":c('bs_js_null_undefined').from_opt(k),"data-tooltip-content":c('bs_js_null_undefined').from_opt(l),className:c('bs_js_null_undefined').from_opt(j),href:c('bs_js_null_undefined').from_opt(m),onClick:c('bs_js_null_undefined').from_opt(n),onMouseDown:c('bs_js_null_undefined').from_opt(o),onMouseEnter:c('bs_js_null_undefined').from_opt(p),role:c('bs_js_null_undefined').from_opt(q),style:c('bs_js_null_undefined').from_opt(r),tabIndex:c('bs_js_null_undefined').from_opt(s),target:c('bs_js_null_undefined').from_opt(t),title:c('bs_js_null_undefined').from_opt(u)},v);}g.make=h;}),null);
__d("messengerContactActionsRe",[],(function a(b,c,d,e,f,g){'use strict';var h={ADD_OWNER:"ADD_OWNER",MESSAGE:"MESSAGE",PROFILE:"PROFILE",REMOVE:"REMOVE",REMOVE_OWNER:"REMOVE_OWNER",SELECT:"SELECT"};g.actions=h;}),null);
__d('messengerProfileImageWrapperReact',['utilsRe','reasonReact','bs_js_null_undefined','MessengerProfileImageWrapper.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m,n,o,p,q,r){return c('reasonReact').wrapJsComponentForReason(c('MessengerProfileImageWrapper.react'),{className:c('bs_js_null_undefined').from_opt(i),isMessengerUser:c('utilsRe').optionBoolToNullUndefinedBoolean(j),size:c('bs_js_null_undefined').from_opt(k),customBadge:c('bs_js_null_undefined').from_opt(l),renderOnlineStatus:c('utilsRe').optionBoolToNullUndefinedBoolean(m),tooltipContent:c('bs_js_null_undefined').from_opt(n),threadColor:c('bs_js_null_undefined').from_opt(o),threadType:c('bs_js_null_undefined').from_opt(p),showBadge:c('utilsRe').optionBoolToNullUndefinedBoolean(q)},r);}g.make=h;}),null);
__d('reasonReact',['bs_curry','React','bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';function h(ca,da,ea){var fa=[ca,da].concat(ea);return c('React').createElement.apply(null,fa);}var i=null;function j(){return 0;}function k(ca,da,ea){c('bs_curry')._1(ca,ea);return c('bs_curry')._1(da,ea);}var l=[j,k];function m(ca,da){return 0;}function n(ca,da,ea){return 0;}function o(ca,da,ea){return 0;}function p(ca,da){return 0;}function q(ca,da,ea){return 1;}function r(ca,da){return ca;}function s(ca,da){return "RenderNotImplemented";}function t(){return 0;}function u(ca,da,ea){var fa=ca.reasonProps;if(fa!==undefined){return fa;}else if(da){return [c('bs_curry')._1(da[0],ca)];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"A JS component called the Reason component "+(ea+" which didn't implement the JS->Reason React props conversion.")];}function v(ca){return c('React').createClass({displayName:ca,self:function da(){var ea=this;return [ea.enqueueMethod,ea.handleMethod,ea.updateMethod];},transitionNextTotalState:function da(ea,fa){if(typeof fa==="number"){return ea;}else if(fa.tag){return {reasonState:fa[0],reasonStateVersion:ea.reasonStateVersion+1|0,reasonStateVersionUsedToComputeSubelements:ea.reasonStateVersionUsedToComputeSubelements+1|0};}else return {reasonState:fa[0],reasonStateVersion:ea.reasonStateVersion+1|0,reasonStateVersionUsedToComputeSubelements:ea.reasonStateVersionUsedToComputeSubelements};},getInitialState:function da(){var ea=this,fa=u(ea.props,ea.jsPropsToReason,ca),ga=c('bs_curry')._1(fa[0][11],0);return {reasonState:ga,reasonStateVersion:1,reasonStateVersionUsedToComputeSubelements:1};},componentDidMount:function da(){var ea=this,fa=this,ga=u(fa.props,fa.jsPropsToReason,ca),ha=ga[0];if(ha[4]!==m){var ia=ea.self();return fa.setState(function(ja,ka){var la=ja.reasonState,ma=c('bs_curry')._2(ha[4],la,ia);return ea.transitionNextTotalState(ja,ma);});}else return 0;},componentDidUpdate:function da(ea,fa){var ga=this,ha=this,ia=u(ha.props,ha.jsPropsToReason,ca),ja=ia[0];if(ja[5]!==o){var ka=ga.self(),la=ha.state,ma=fa.reasonState,na=la.reasonState;return c('bs_curry')._3(ja[5],ma,na,ka);}else return 0;},componentWillUnmount:function da(){var ea=this,fa=this,ga=u(fa.props,fa.jsPropsToReason,ca),ha=ga[0];if(ha[7]!==p){var ia=ea.self(),ja=fa.state,ka=ja.reasonState;return c('bs_curry')._2(ha[7],ka,ia);}else return 0;},componentWillUpdate:function da(ea,fa){var ga=this,ha=this,ia=u(ha.props,ha.jsPropsToReason,ca),ja=ia[0];if(ja[8]!==n){var ka=ha.state,la=ga.self(),ma=ka.reasonState,na=fa.reasonState;return c('bs_curry')._3(ja[8],ma,na,la);}else return 0;},componentWillReceiveProps:function da(ea){var fa=this,ga=this,ha=u(ea,ga.jsPropsToReason,ca),ia=ha[0];if(ia[3]!==r){var ja=fa.self();return ga.setState(function(ka,la){var ma=ka.reasonState,na=ka.reasonStateVersion,oa=c('bs_curry')._2(ia[3],ma,ja),pa=+(oa!==ma),qa=pa!==0?na+1|0:na;if(qa!==na){return {reasonState:oa,reasonStateVersion:qa,reasonStateVersionUsedToComputeSubelements:ka.reasonStateVersionUsedToComputeSubelements};}else return ka;});}else return 0;},shouldComponentUpdate:function da(ea,fa,ga){var ha=this,ia=ha.props,ja=+(ea!==ia),ka=fa.reasonStateVersion,la=fa.reasonStateVersionUsedToComputeSubelements,ma=+(la!==ka),na=ja||ma;fa.reasonStateVersionUsedToComputeSubelements=ka;return na;},enqueueMethod:function da(ea){var fa=this,ga=this;return function(ha){var ia=c('bs_curry')._1(ea,ha);return ga.setState(function(ja,ka){var la=ja.reasonState,ma=c('bs_curry')._2(ia,la,fa.self());if(ma){var na=fa.transitionNextTotalState(ja,ma);if(na.reasonStateVersion!==ja.reasonStateVersion){return na;}else return i;}else return i;});};},handleMethod:function da(ea){var fa=this,ga=this;return function(ha){var ia=ga.state,ja=ia.reasonState;return c('bs_curry')._3(ea,ha,ja,fa.self());};},updateMethod:function da(ea){var fa=this,ga=this;return function(ha){var ia=ga.state,ja=ia.reasonState,ka=c('bs_curry')._3(ea,ha,ja,fa.self());if(ka){var la=fa.transitionNextTotalState(ia,ka);if(la.reasonStateVersion!==ia.reasonStateVersion){return ga.setState(la);}else return 0;}else return i;};},render:function da(){var ea=this,fa=this,ga=u(fa.props,fa.jsPropsToReason,ca),ha=ea.self(),ia=fa.state,ja=ia.reasonState;return c('bs_curry')._2(ga[0][10],ja,ha);}});}function w(ca){return [ca,v(ca),[0],r,m,o,m,p,n,q,s,t,0];}var x=w;function y(ca,da,ea){var fa=ca?ca[0]:undefined,ga=da?da[0]:undefined,ha=[ea],ia=ea[12];if(ia){return c('bs_curry')._2(ia[0],fa,ga);}else return c('React').createElement(ea[1],{key:fa,ref:ga,reasonProps:ha});}function z(ca,da){var ea=da[1].prototype;ea.jsPropsToReason=[ca];return da[1];}var aa=w("interop");function ba(ca,da,ea){var fa=[function(ha,ia){var ja=ca,ka=da,la=ea,ma=ha,na=ia,oa=Object.assign(Object.assign({},ka),{ref:na,key:ma}),pa=[ja,oa].concat(la);return c('React').createElement.apply(null,pa);}],ga=aa.slice();ga[12]=fa;return ga;}g.Callback=l;g.statefulComponent=w;g.statelessComponent=x;g.element=y;g.createJsReactClass=z;g.createDomElement=h;g.wrapJsComponentForReason=ba;}),null);
__d('messengerContactImageReact',['React','utilsRe','imageReact','reasonReact','bs_js_primitive','bs_js_null_undefined','MessengerContactImage.react','messengerProfileImageWrapperReact'],(function a(b,c,d,e,f,g){'use strict';var h=c('reasonReact').statefulComponent("MessengerContactImageReact");function i(o,p,q,r,s,t){var u=h.slice();u[10]=function(v,w){return c('React').createElement("div",{className:c('utilsRe').$pipe$unknown(o,"")},c('reasonReact').element(0,0,c('messengerProfileImageWrapperReact').make(0,q,[r],p,0,0,0,0,[1],[c('reasonReact').element(0,0,c('imageReact').make(0,[""],s,[r],0,[r],[]))])));};return u;}function j(o){return i(c('bs_js_primitive').null_undefined_to_opt(o.className),c('bs_js_primitive').null_undefined_to_opt(o.customBadge),c('utilsRe').nullUndefinedBooleanToOptionBool(o.isMessengerUser),o.size,c('bs_js_primitive').null_undefined_to_opt(o.src),[]);}var k=c('reasonReact').createJsReactClass(j,h);function l(o,p,q,r,s,t){return c('reasonReact').wrapJsComponentForReason(c('MessengerContactImage.react'),{className:c('bs_js_null_undefined').from_opt(o),customBadge:c('bs_js_null_undefined').from_opt(p),isMessengerUser:c('utilsRe').optionBoolToNullUndefinedBoolean(q),size:r,src:c('bs_js_null_undefined').from_opt(s)},t);}var m=[l],n=c('utilsRe').$pipe$unknown;g.$pipe$unknown=n;g.component=h;g.make=i;g.jsPropsToReason=j;g.comp=k;g.StraightJSComponent=m;}),null);
__d('MercuryThreadTimestamp.react',['React','formatDate','joinClasses'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){var l=this.props.time;if(!l)return c('React').createElement('abbr',null);return c('React').createElement('abbr',{className:c('joinClasses')(this.props.className,'timestamp'),title:this.props.title||new Date(l).toLocaleDateString(),'data-utime':l/1000},this.props.text||c('formatDate')(new Date(l),'g:ia'));};function k(){h.apply(this,arguments);}k.propTypes={time:j.number,title:j.string,text:j.string};f.exports=k;}),null);
__d('mercuryThreadTimestampReact',['reasonReact','bs_js_null_undefined','MercuryThreadTimestamp.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l){return c('reasonReact').wrapJsComponentForReason(c('MercuryThreadTimestamp.react'),{time:c('bs_js_null_undefined').from_opt(i),title:c('bs_js_null_undefined').from_opt(j),text:c('bs_js_null_undefined').from_opt(k)},l);}g.make=h;}),null);
__d("messengerLocalTimeReact",["cx","fbt","React","bs_js_boolean","reasonReact","joinClasses","mercuryThreadTimestampReact"],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c("reasonReact").statelessComponent("RMessengerLocalTimeReact");function k(n,o,p){var q=j.slice();q[10]=function(r,s){if(o){var t=o[0]-new Date().getTimezoneOffset()*-60;if(t===0){return null;}else{var u=new Date(Date.now()+t*1000),v=u.getHours(),w=+(v<6||v>22),x=c("joinClasses")("_10rk",n);return c("React").createElement("span",{className:x},c("React").createElement("span",{className:c("bs_js_boolean").to_js_boolean(w)?"_2f3x":""},"(",c("reasonReact").element(0,0,c("mercuryThreadTimestampReact").make([u.getTime()],0,0,[]))," ",i._("local time"),")"));}}else return null;};return q;}var l=22,m=6;g.component=j;g.nightStartHour=l;g.nightEndHour=m;g.make=k;}),null);
__d('messengerTextWithEntitiesReact',['utilsRe','reasonReact','bs_js_null_undefined','MessengerTextWithEntities.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l){return c('reasonReact').wrapJsComponentForReason(c('MessengerTextWithEntities.react'),{renderEmoji:c('utilsRe').optionBoolToNullUndefinedBoolean(i),renderEmoticons:c('utilsRe').optionBoolToNullUndefinedBoolean(j),text:c('bs_js_null_undefined').from_opt(k)},l);}g.make=h;}),null);
__d('MercuryParticipantsImage.react',['MercuryParticipants','React','SplitImage.react','areEqual'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'MercuryParticipantsImage',_bigImageToken:null,propTypes:{participants:h.array.isRequired,size:h.number},getInitialState:function j(){return {participantImages:[]};},componentDidMount:function j(){this._getParticipantImages(this.props);},componentWillReceiveProps:function j(k){this._getParticipantImages(k);},componentWillUnmount:function j(){this._bigImageToken&&this._bigImageToken.remove();},shouldComponentUpdate:function j(k,l){return k.size!==this.props.size||!c('areEqual')(l.participantImages,this.state.participantImages);},render:function j(){if(this.state.participantImages.length>0)return c('React').createElement(c('SplitImage.react'),{border:true,className:this.props.className,srcs:this.state.participantImages,size:this.props.size});return null;},_getParticipantImages:function j(k){this._bigImageToken&&this._bigImageToken.remove();if(!k.participants||!k.participants.length){this.setState({participantImages:[]});}else this._bigImageToken=c('MercuryParticipants').getOrderedBigImageMulti(k.participants,function(l){this.isMounted()&&this.setState({participantImages:l});}.bind(this));}});f.exports=i;}),null);
__d('MercuryThreadImage.react',['cx','ImmutableObject','MercuryIDs','MercuryParticipantsImage.react','MessagingThreadType','MercuryParticipantsConstants','Pixelz.react','React','areEqual'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.shouldComponentUpdate=function(m,n){return m.thread.image_src!==this.props.thread.image_src||!c('areEqual')(m.thread.participants,this.props.thread.participants)||m.size!==this.props.size||m.viewer!==this.props.viewer||m.useBackground!==this.props.useBackground;};l.prototype.render=function(){var m=this.props.thread,n=this.props.size||c('MercuryParticipantsConstants').BIG_IMAGE_SIZE,o=m.image_src;if(o){if(this.props.useBackground)return c('React').createElement('div',{style:{height:n,backgroundImage:'url('+o+')',backgroundPosition:'50% 50%',backgroundRepeat:'no-repeat',backgroundSize:'cover',width:n}});return c('React').createElement(c('Pixelz.react'),{alt:'',height:n,resizeMode:'cover',src:o,width:n});}if(m.thread_type===c('MessagingThreadType').ROOM){var p={height:n+'px',width:n+'px'};if(m.custom_color)p.background=m.custom_color;return c('React').createElement('span',{className:"_asv _asw",style:p},m.name[0]);}var q=c('MercuryIDs').isCanonical(m.thread_id),r=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),s=[];if(m.participants)s=q?m.participants.filter(function(t){return t!==r;}):m.participants.slice(0,3);if(s.length===0&&q)s.push(r);return c('React').createElement(c('MercuryParticipantsImage.react'),{className:this.props.className,participants:s,size:n});};function l(){i.apply(this,arguments);}l.propTypes={thread:k.instanceOf(c('ImmutableObject')).isRequired,viewer:k.string.isRequired,size:k.number,useBackground:k.bool};f.exports=l;}),null);
__d('mercuryThreadImageReact',['reasonReact','bs_js_null_undefined','MercuryThreadImage.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m){return c('reasonReact').wrapJsComponentForReason(c('MercuryThreadImage.react'),{size:c('bs_js_null_undefined').from_opt(i),thread:j,useBackground:c('bs_js_null_undefined').from_opt(k),viewer:l},m);}g.make=h;}),null);
__d('messengerThreadImageReact',['utilsRe','MercuryIDs','reasonReact','bs_js_primitive','mercuryThreadImageReact','messengerProfileImageWrapperReact'],(function a(b,c,d,e,f,g){'use strict';function h(m,n){var o=m.other_user_fbid,p=n.size,q=+c('MercuryIDs').isCanonical(m.thread_id);if(c('bs_js_primitive').is_nil_undef(o)){return 0;}else if(q!==0){if(p!==0){var r=c('MercuryIDs').getParticipantIDFromUserID(o),s=n.get(r);if(s!==undefined&&!c('bs_js_primitive').is_nil_undef(s)){return c('utilsRe').isTruthy(s.is_messenger_user);}else return 0;}else return 0;}else return 0;}var i=c('reasonReact').statefulComponent("MessengerThreadImageReact");function j(m,n,o,p,q,r,s){var t=n?n[0]:1,u=i.slice();u[10]=function(v,w){return c('reasonReact').element(0,0,c('messengerProfileImageWrapperReact').make(m,[h(q,p)],o,0,0,0,c('bs_js_primitive').null_undefined_to_opt(q.custom_color),c('bs_js_primitive').null_undefined_to_opt(q.thread_type),[t&&+c('MercuryIDs').isCanonical(q.thread_id)],[c('reasonReact').element(0,0,c('mercuryThreadImageReact').make(o,q,[true],r,[]))]));};return u;}function k(m){return j(c('bs_js_primitive').null_undefined_to_opt(m.className),[c('utilsRe').isTruthy(m.showBadge)],c('bs_js_primitive').null_undefined_to_opt(m.size),m.participants,m.thread,m.viewer,[]);}var l=c('reasonReact').createJsReactClass(k,i);g.getIsMessengerUser=h;g.component=i;g.make=j;g.jsPropsToReason=k;g.comp=l;}),null);
__d('messengerContactListRowReact',['cx','ix','fbt','bs_array','bs_block','bs_curry','React','utilsRe','linkReact','imageReact','bs_js_boolean','MercuryIDs','Badge.react','reasonReact','joinClasses','bs_js_primitive','PresenceStatus','imageBlockReact','AvailableListConstants','MercuryParticipantTypes','messengerLocalTimeReact','MessengerAdminGroupUtils','messengerContactActionsRe','messengerThreadImageReact','messengerContactImageReact','messengerTextWithEntitiesReact'],(function a(b,c,d,e,f,g,h,i,j){'use strict';function k(x,y){if(x){return +x[0].contains(y);}else return 0;}function l(x,y,z){var aa=z.photo,ba=0;if(c('bs_js_primitive').is_nil_undef(aa)){ba=1;}else if(aa===""){ba=1;}else return c('reasonReact').element(0,0,c('messengerContactImageReact').make(["_5l39 _5rmm"],0,c('utilsRe').nullUndefinedBooleanToOptionBool(z.isMessengerUser),32,[aa],[]));if(ba===1){var ca=z.thread,da=z.participants,ea=+(z.type===c('MercuryParticipantTypes').THREAD),fa=0,ga,ha;if(y){if(c('bs_js_primitive').is_nil_undef(da)){fa=2;}else if(ea!==0){ga=y[0];ha=da;fa=3;}else fa=2;}else if(c('bs_js_primitive').is_nil_undef(ca)){fa=2;}else if(c('bs_js_primitive').is_nil_undef(da)){fa=2;}else if(ea!==0){ga=ca;ha=da;fa=3;}else fa=2;switch(fa){case 2:return c('React').createElement("div",{className:"_5l39"});case 3:return c('reasonReact').element(0,0,c('messengerThreadImageReact').make(["_5l39"],0,[32],ha,ga,x,[]));}}}function m(x){var y=x.subtitle,z=0;if(c('bs_js_primitive').is_nil_undef(y)){z=1;}else if(y===""){z=1;}else return c('React').createElement("div",undefined,c('React').createElement("div",{className:"_3q34"},c('reasonReact').element(0,0,c('messengerTextWithEntitiesReact').make([1],[1],[x.title],[]))),c('React').createElement("div",{className:"_3q35"},y));if(z===1){var aa=c('utilsRe').isTruthy(x.isWorkUser);return c('React').createElement("div",{className:"_364g"},x.title,c('reasonReact').element(0,0,c('messengerLocalTimeReact').make("_5ywd",c('bs_js_primitive').null_undefined_to_opt(x.timezone),[])),aa!==0?c('React').createElement(c('Badge.react'),{size:"small",type:"work"}):null);}}function n(x,y){var z=y.type;if(x){if(x[0]!==0){if(c('bs_js_primitive').is_nil_undef(z)){return 0;}else if(z===c('MercuryParticipantTypes').FRIEND||z===c('MercuryParticipantTypes').USER){var aa=c('MercuryIDs').getUserIDFromParticipantID(y.uid);if(c('bs_js_primitive').is_nil_undef(aa)){return 0;}else return +(c('PresenceStatus').get(aa)===c('AvailableListConstants').ACTIVE);}else return 0;}else return 0;}else return 0;}var o=c('React').createElement("span",{className:"_5rh4"},j._("Added")),p=c('React').createElement("span",{className:"_5rh4"},j._("Invited")),q=c('reasonReact').element(0,0,c('imageReact').make(["_1kqm"],0,[i("86852")],0,0,0,[]));function r(x,y,z){y[3]=x===null?0:[x];return 0;}function s(x,y){var z=x[4],aa=x[5],ba=x[3];if(z){if(z[0]!==0){if(aa){if(ba){var ca=ba[0];c('bs_curry')._1(aa[0],ca);var da=x[6];if(da){c('bs_curry')._1(da[0],ca);return 0;}else return 0;}else return 0;}else return 0;}else return 0;}else return 0;}function t(x,y,z){var aa=y[4],ba=x[5],ca=y[3];if(aa){if(aa[0]!==0){if(ba){if(ca){var da=ca[0];c('bs_curry')._1(ba[0],da);var ea=y[6];if(ea){return c('bs_curry')._1(ea[0],da);}else return 0;}else return 0;}else return 0;}else return 0;}else return 0;}function u(x,y,z){var aa=y.slice();return c('bs_block').__(0,[(aa[2]=x,aa)]);}function v(){var x=c('reasonReact').statefulComponent("MessengerContactListRowReact"),y=function ba(ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa){var xa=ra?ra[0]:"",ya=function db(eb,fb,gb){if(ha){return 0;}else{eb.stopPropagation();eb.preventDefault();return 0;}},za=function db(eb,fb,gb){var hb=eb[0];if(hb===c('messengerContactActionsRe').actions.SELECT){return c('bs_curry')._2(fa,da,eb[1]);}else if(ga){return c('bs_curry')._2(ga[0],hb,da);}else return 0;},ab=function db(eb,fb,gb){var hb=c('utilsRe').isSomeTrue(la);if(hb!==0&&ea){return c('bs_curry')._1(ea[0],da);}else return 0;},bb=function db(eb,fb,gb){eb.stopPropagation();return za([c('messengerContactActionsRe').actions.SELECT,eb],fb,gb);},cb=function db(eb,fb){if(k(qa,eb[1].uid)){return o;}else if(k(ma,eb[1].uid)){return p;}else if(k(sa,eb[1].uid)){return q;}else if(n(ta,eb[1])){return c('React').createElement("div",{className:"_jg2"});}else{var gb=ia?c('utilsRe').arrayCompact(ia[0]):undefined,hb=eb[1].thread,ib,jb=0,kb;if(ua){kb=ua[0];jb=1;}else if(c('bs_js_primitive').is_nil_undef(hb)){ib=0;}else{kb=hb;jb=1;}if(jb===1){var lb=+c('MessengerAdminGroupUtils').isAdmin(gb,eb[1].uid);ib=+c('MessengerAdminGroupUtils').isOwner(c('bs_js_boolean').to_js_boolean(lb),kb);}var mb=ib!==0?c('React').createElement("span",{className:"_5qsj"},j._("Admin")):null,nb=function ob(pb,qb){return c('bs_curry')._2(fb[1],za,[pb,qb]);};if(ha){return c('React').createElement("div",undefined,mb,c('React').createElement(ha[0],{className:"_rwo",adminIds:gb,contact:eb[1],extrasEnabled:c('bs_js_boolean').to_js_boolean(ka),isOpen:c('bs_js_boolean').to_js_boolean(eb[2]),onAction:nb,onToggle:c('bs_curry')._1(fb[2],u),viewer:va}));}else return mb;}};return [x[0],x[1],x[2],function(db,eb){var fb=+(da===db[0]);return [da,fb!==0?db[1]:c('bs_curry')._1(ca,da),db[2],db[3],na,pa,oa];},s,t,x[6],x[7],x[8],x[9],function(db,eb){var fb=c('joinClasses')(xa,"_5l37"+(c('utilsRe').optionBoolToBoolean(na)?' '+"_1k1p":'')+(c('bs_js_boolean').to_js_boolean(db[2])?' '+"_rwn":'')),gb=ha?-1:0,hb=c('reasonReact').element(0,0,c('linkReact').make(0,["_5f0v"],0,0,0,[c('bs_curry')._1(eb[1],bb)],[c('bs_curry')._1(eb[1],ya)],[c('bs_curry')._1(eb[1],ab)],0,0,[gb],0,0,[c('reasonReact').element(0,0,c('imageBlockReact').make(0,["_5l38"],0,["medium"],[l(va,ua,db[1]),m(db[1]),cb(db,eb)]))])),ib=c('utilsRe').isSomeTrue(ja);if(ib!==0){return c('React').createElement("li",{ref:c('bs_curry')._1(eb[1],r),className:fb},hb);}else return c('React').createElement("li",{className:fb,"aria-selected":c('utilsRe').optionBoolToNullUndefinedBoolean(na),role:"option",ref:c('bs_curry')._1(eb[1],r)},hb);},function(){return [da,c('bs_curry')._1(ca,da),0,0,na,pa,oa];},x[12]];},z=function ba(ca){var da=ca.adminIds;return y(ca.contactAdapter,ca.rawContact,c('bs_js_primitive').null_undefined_to_opt(ca.onHighlight),ca.onSelect,c('bs_js_primitive').null_undefined_to_opt(ca.onAction),c('bs_js_primitive').null_undefined_to_opt(ca.actionsClass),c('bs_js_primitive').is_nil_undef(da)?0:[c('bs_array').map(c('bs_js_primitive').null_undefined_to_opt,da)],c('utilsRe').nullUndefinedBooleanToOptionBool(ca.disableRole),+ca.extraActionsEnabled,c('utilsRe').nullUndefinedBooleanToOptionBool(ca.hasHoverState),c('bs_js_primitive').null_undefined_to_opt(ca.invitedEntryIDs),c('utilsRe').nullUndefinedBooleanToOptionBool(ca.isHighlighted),c('bs_js_primitive').null_undefined_to_opt(ca.onRenderHighlight),c('bs_js_primitive').null_undefined_to_opt(ca.onScrollIntoView),c('bs_js_primitive').null_undefined_to_opt(ca.originalEntryIDs),c('bs_js_primitive').null_undefined_to_opt(ca.rowClassName),c('bs_js_primitive').null_undefined_to_opt(ca.selectedEntryIDs),c('utilsRe').nullUndefinedBooleanToOptionBool(ca.showPresence),c('bs_js_primitive').null_undefined_to_opt(ca.thread),ca.viewer,[]);},aa=c('reasonReact').createJsReactClass(z,x);return [aa,y];}var w=32;g.imageSize=w;g.idsContain=k;g.renderContactImage=l;g.renderContactText=m;g.getPresenceStatus=n;g.isOriginal=o;g.isInvited=p;g.isSelected=q;g.setThisRef=r;g.didMount=s;g.didUpdate=t;g.handleActionsToggle=u;g.createMake=v;}),null);
__d('MessengerContactList.react',['cx','fbt','messengerContactListRowReact','ImageBlock.react','immutable','ImmutableObject','MessengerSpinner.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerContactListRowReact').createMake(),m=l[0],n=l[1],o=c('React').PropTypes;j=babelHelpers.inherits(p,c('React').PureComponent);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$MessengerContactList1=function(v,w){return c('React').createElement('div',{key:w,className:"_29hk"},this.$MessengerContactList4(w),c('React').createElement('ul',{id:this.props.ariaOwneeID,role:this.props.disableRole?undefined:'listbox',className:"_29hl"},v.map(function(x,y){var z=y===0?c('joinClasses')(this.props.rowClassName,"_3h3c"):this.props.rowClassName;return c('React').createElement(m,{actionsClass:this.props.actionsClass,adminIds:this.props.adminIds,contactAdapter:this.props.contactAdapter,disableRole:this.props.disableRole,extraActionsEnabled:!!this.props.extraActionsEnabled,hasHoverState:this.props.hasHoverState,invitedEntryIDs:this.props.invitedEntryIDs,isHighlighted:this.props.highlightedEntry&&this.props.highlightedEntry.getUniqueID()===x.getUniqueID(),key:x.id||x.getUniqueID(),onAction:this.props.onAction,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,rawContact:x,rowClassName:z,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:this.props.showPresence,thread:this.props.thread,viewer:this.props.viewer});}.bind(this))));}.bind(this),r;}p.prototype.render=function(){return c('React').createElement('div',{className:this.props.className},this.props.listSections.map(this.$MessengerContactList1).toArray(),this.$MessengerContactList2(),this.$MessengerContactList3());};p.prototype.$MessengerContactList4=function(q){if(!q)return null;return c('React').createElement('div',{className:"_225b"},q);};p.prototype.$MessengerContactList2=function(){if(!this.props.isLoading)return null;return c('React').createElement(c('ImageBlock.react'),{className:"_225c",spacing:'medium'},c('React').createElement(c('MessengerSpinner.react'),{className:"_2i59",color:'grey'}),c('React').createElement('div',{className:"_4g0h"},i._("Searching...")));};p.prototype.$MessengerContactList3=function(){if(this.props.isLoading||this.props.listSections.size>0||!this.props.queryString||this.props.queryString.length===0)return null;return c('React').createElement('div',{className:"_3xcx"},i._("No results found"));};p.propTypes={actionsClass:o.func,adminIds:o.arrayOf(o.string),ariaOwneeID:o.string,contactAdapter:o.func.isRequired,disableRole:o.bool,extraActionsEnabled:o.bool,hasHoverState:o.bool,highlightedEntry:o.object,invitedEntryIDs:o.instanceOf(c('immutable').Set),isLoading:o.bool,listSections:o.instanceOf(c('immutable').OrderedMap).isRequired,onAction:o.func,onHighlight:o.func,onRenderHighlight:o.func,onScrollIntoView:o.func,onSelect:o.func.isRequired,originalEntryIDs:o.instanceOf(c('immutable').Set),queryString:o.string,rowClassName:o.string,selectedEntryIDs:o.instanceOf(c('immutable').Set),showPresence:o.bool,thread:o.instanceOf(c('ImmutableObject')),viewer:o.string.isRequired};f.exports=p;}),null);
__d('MessengerTypeaheadResultView.react',['cx','immutable','Keys','MessengerContactAdapters','MessengerContactList.react','MessengerGraphQLTypeaheadHighlighter','MessengerSearchFunnelLogger','MessengerTypeaheadUtils','MessengerGraphQLTypeaheadAdapter','MercuryConfig','MercuryParticipantTypes','MercuryTypeaheadConstants','React','Relay','RelayQL','SearchableEntry','joinClasses','wrapNullableForReact'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=20,l=50,m=c('MercuryConfig').SearchMorePeople?c('MercuryConfig').SearchMorePeople:c('MercuryTypeaheadConstants').COMPOSER_NON_FRIENDS_MAX,n=c('React').PropTypes;i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.$MessengerTypeaheadResultView1=null,this.onKeyDown=function(u){if(u===c('Keys').RETURN){this.props.onSelectHighlighted();return;}if(!this.$MessengerTypeaheadResultView1)return;var v=c('MessengerGraphQLTypeaheadHighlighter').getNextHighlightedEntry(u,this.$MessengerTypeaheadResultView1,this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(v);}.bind(this),this.$MessengerTypeaheadResultView3=function(u){this.props.onNextHighlighted(u);}.bind(this),q;}o.prototype.componentWillMount=function(){this.$MessengerTypeaheadResultView1=this.$MessengerTypeaheadResultView2(this.props);};o.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown);};o.prototype.componentWillUpdate=function(p){this.$MessengerTypeaheadResultView1=this.$MessengerTypeaheadResultView2(p);};o.prototype.componentWillUnmount=function(){this.props.onUnmount();};o.prototype.render=function(){var p=this.$MessengerTypeaheadResultView1;if(!p)return null;return c('React').createElement(c('MessengerContactList.react'),{ariaOwneeID:this.props.ariaOwneeID,className:c('joinClasses')(this.props.className,"_4p-s"),contactAdapter:c('MessengerContactAdapters').fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:c('wrapNullableForReact')(this.props.highlightedEntry),isLoading:false,listSections:c('MessengerTypeaheadUtils').buildListSections(p,this.props.queryString),onHighlight:this.$MessengerTypeaheadResultView3,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:false,viewer:this.props.viewer});};o.prototype.$MessengerTypeaheadResultView2=function(p){var q=p.localEntries,r={};q.forEach(function(u){r[u.getUniqueID()]=true;});var s=c('MessengerTypeaheadUtils').sortEntries(this.$MessengerTypeaheadResultView4(p,r),p.queryString),t=q.concat(s).filter(function(u){return !p.selectedEntryIDs.contains(u.getUniqueID());}).slice(0,l);c('MessengerSearchFunnelLogger').logUpdateQuery('WWW_MESSENGER_SEARCH_SESSION_FUNNEL','fetched_state_impression_list',this.props.queryString,t.map(function(u){return u.getUniqueID();}));return t;};o.prototype.$MessengerTypeaheadResultView4=function(p,q){var r=[];if(!p.profiles&&p.roomAudience){if(p.roomAudience.user_results&&p.roomAudience.user_results.edges)r=p.roomAudience.user_results.edges.map(function(fa){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(fa.node);});}else if(p.profiles)r=p.profiles.user_results.edges.map(function(fa){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(fa.node);});var s=[],t=[],u=[];for(var v=r,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var y;if(w){if(x>=v.length)break;y=v[x++];}else{x=v.next();if(x.done)break;y=x.value;}var z=y;if(!z||q[z.getUniqueID()])continue;if(z.getType()===c('MercuryParticipantTypes').FRIEND&&s.length<c('MercuryTypeaheadConstants').COMPOSER_FRIENDS_MAX){s.push(z);}else if(z.getType()===c('MercuryParticipantTypes').FB4C&&t.length<c('MercuryTypeaheadConstants').COMPOSER_FB4C_MAX){t.push(z);}else if(z.getType()===c('MercuryParticipantTypes').NON_FRIEND&&u.length<m)u.push(z);}r=s.concat(t).concat(u);if(p.profiles&&p.profiles.page_results)r=r.concat(p.profiles.page_results.edges.map(function(fa){return c('MessengerGraphQLTypeaheadAdapter').convertPageToEntry(fa.node,this.$MessengerTypeaheadResultView5(fa.node));}.bind(this)).filter(function(fa){return fa&&!q[fa.getUniqueID()];}).slice(0,c('MercuryTypeaheadConstants').COMPOSER_PAGES_MAX));if(p.profiles&&p.profiles.vc_results)r=r.concat(p.profiles.vc_results.edges.map(function(fa){return c('MessengerGraphQLTypeaheadAdapter').convertPageToEntry(fa.node,c('MercuryTypeaheadConstants').MEETING_ROOM_PAGE_TYPE);}));if(p.profiles&&p.profiles.internal_bot_results)r=r.concat(p.profiles.internal_bot_results.edges.map(function(fa){return c('MessengerGraphQLTypeaheadAdapter').convertPageToEntry(fa.node,c('MercuryTypeaheadConstants').INTERNAL_BOT_PAGE_TYPE);}));var aa=[],ba=[];if(p.groups&&p.groups.threads_matching_name)ba=ba.concat(p.groups.threads_matching_name.edges);if(p.groups&&p.groups.threads_matching_participant_ids)ba=ba.concat(p.groups.threads_matching_participant_ids.edges);if(p.groups&&p.groups.threads_matching_participant_names)ba=ba.concat(p.groups.threads_matching_participant_names.edges);for(var ca=0;ca<ba.length;ca++){var da=ba[ca],ea=c('MessengerGraphQLTypeaheadAdapter').convertGroupToEntry(da.node,ca);if(!ea||q[ea.getUniqueID()])continue;aa.push(ea);q[ea.getUniqueID()]=true;}return r.concat(aa);};o.prototype.$MessengerTypeaheadResultView5=function(p){if(!p||!p.category_type)return c('MercuryParticipantTypes').PAGE;if(p.category_type===c('MercuryTypeaheadConstants').WORKPLACE_BOT_CATEGORY_TYPE)return c('MercuryTypeaheadConstants').INTERNAL_BOT_PAGE_TYPE;return c('MercuryTypeaheadConstants').PAGE_TYPE;};o.propTypes={ariaOwneeID:n.string.isRequired,className:n.string.isRequired,localEntries:n.arrayOf(n.instanceOf(c('SearchableEntry'))).isRequired,localEntryIDs:n.arrayOf(n.string.isRequired).isRequired,hasHoverState:n.bool.isRequired,highlightedEntry:n.object,onMount:n.func.isRequired,onNextHighlighted:n.func.isRequired,onScrollIntoView:n.func.isRequired,onSelect:n.func.isRequired,onSelectHighlighted:n.func.isRequired,onUnmount:n.func.isRequired,originalEntryIDs:n.instanceOf(c('immutable').Set).isRequired,queryString:n.string.isRequired,selectedEntryIDs:n.instanceOf(c('immutable').Set).isRequired,shouldQueryInternalBot:n.bool.isRequired,shouldQueryPages:n.bool.isRequired,shouldQueryParticipantIDs:n.bool.isRequired,shouldQueryParticipantNames:n.bool.isRequired,shouldQueryThreadName:n.bool.isRequired,shouldQueryVCEndpoint:n.bool.isRequired,viewer:n.string.isRequired};o.defaultProps={ariaOwneeID:'',className:''};f.exports=c('Relay').createContainer(o,{initialVariables:{friendEntryCount:k,queryString:'',localEntryIDs:[],shouldQueryPages:false,shouldQueryThreadName:false,shouldQueryParticipantIDs:false,shouldQueryParticipantNames:false,shouldQueryRoomsAudience:false,shouldQueryVCEndpoint:false,shouldQueryInternalBot:false,shouldQueryMessengerOnlyUsersForWebMessenger:true},fragments:{profiles:function p(q){var r=q.friendEntryCount,s=q.shouldQueryPages,t=q.shouldQueryVCEndpoint,u=q.shouldQueryMessengerOnlyUsersForWebMessenger;return function(v,w,x,y,z){return {children:[{alias:'user_results',calls:[{kind:'Call',metadata:{type:'[SearchEntityType]'},name:'of_type',value:{kind:'CallValue',callValue:'user'}},{kind:'Call',metadata:{},name:'include_messenger_only_results_for_web_messenger',value:{kind:'CallVariable',callVariableName:'shouldQueryMessengerOnlyUsersForWebMessenger'}},{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallVariable',callVariableName:'friendEntryCount'}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(v),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true,isRequisite:true},type:'Searchable'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'SearchableResultsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'skip',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryRoomsAudience'}}]}],fieldName:'search_results',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'SearchableResultsConnection'},{alias:'page_results',calls:[{kind:'Call',metadata:{},name:'messenger_commerce',value:{kind:'CallValue',callValue:true}},{kind:'Call',metadata:{},name:'include_games',value:{kind:'CallValue',callValue:true}},{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:5}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(w),c('RelayQL').__frag(x),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true,isRequisite:true},type:'Searchable'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'SearchableResultsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryPages'}}]}],fieldName:'search_results',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'SearchableResultsConnection'},{alias:'vc_results',calls:[{kind:'Call',metadata:{},name:'vc_endpoint',value:{kind:'CallValue',callValue:true}},{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:20}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(y),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true,isRequisite:true},type:'Searchable'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'SearchableResultsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryVCEndpoint'}}]}],fieldName:'search_results',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'SearchableResultsConnection'},{alias:'internal_bot_results',calls:[{kind:'Call',metadata:{},name:'internal_bot',value:{kind:'CallValue',callValue:true}},{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:20}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(z),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true,isRequisite:true},type:'Searchable'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'SearchableResultsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryInternalBot'}}]}],fieldName:'search_results',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'SearchableResultsConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerTypeaheadResultView_react_ProfilesRelayQL',type:'SearchableEntitiesQuery'};}(c('MessengerGraphQLTypeaheadAdapter').userFragment,c('MessengerGraphQLTypeaheadAdapter').pageFragment,c('MessengerGraphQLTypeaheadAdapter').gameFragment,c('MessengerGraphQLTypeaheadAdapter').pageFragment,c('MessengerGraphQLTypeaheadAdapter').pageFragment);},groups:function p(q){var r=q.queryString,s=q.localEntryIDs,t=q.shouldQueryThreadName,u=q.shouldQueryParticiapnts,v=q.shouldQueryParticipantNames;return function(w,x,y,z,aa,ba){return {children:[{alias:'threads_matching_name',calls:[{kind:'Call',metadata:{},name:'with_thread_name',value:{kind:'CallVariable',callVariableName:'queryString'}},{kind:'Call',metadata:{type:'Int'},name:'last',value:c('RelayQL').__var(w)}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(x)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessageThread'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'ViewerMessageThreadsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryThreadName'}}]}],fieldName:'message_threads',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'ViewerMessageThreadsConnection'},{alias:'threads_matching_participant_ids',calls:[{kind:'Call',metadata:{},name:'with_participant_ids',value:{kind:'CallVariable',callVariableName:'localEntryIDs'}},{kind:'Call',metadata:{type:'Int'},name:'last',value:c('RelayQL').__var(y)}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(z)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessageThread'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'ViewerMessageThreadsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryParticipantIDs'}}]}],fieldName:'message_threads',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'ViewerMessageThreadsConnection'},{alias:'threads_matching_participant_names',calls:[{kind:'Call',metadata:{},name:'with_participants',value:{kind:'CallVariable',callVariableName:'queryString'}},{kind:'Call',metadata:{},name:'with_group',value:{kind:'CallValue',callValue:true}},{kind:'Call',metadata:{type:'Int'},name:'last',value:c('RelayQL').__var(aa)}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(ba)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessageThread'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'ViewerMessageThreadsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryParticipantNames'}}]}],fieldName:'message_threads',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'ViewerMessageThreadsConnection'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerTypeaheadResultView_react_GroupsRelayQL',type:'Viewer'};}(c('MercuryConfig').MaxThreadResults,c('MessengerGraphQLTypeaheadAdapter').groupFragment,c('MercuryConfig').MaxThreadResults,c('MessengerGraphQLTypeaheadAdapter').groupFragment,c('MercuryConfig').MaxThreadResults,c('MessengerGraphQLTypeaheadAdapter').groupFragment);},roomAudience:function p(q){var r=q.queryString,s=q.shouldQueryRoomsAudience;return function(t){return {children:[{alias:'user_results',calls:[{kind:'Call',metadata:{},name:'named',value:{kind:'CallVariable',callVariableName:'queryString'}},{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallValue',callValue:10}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(t)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true,isRequisite:true},type:'MessagingActor'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'AllAudienceListOfMessageThreadEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryRoomsAudience'}}]}],fieldName:'messaging_audience_list',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'AllAudienceListOfMessageThreadConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerTypeaheadResultView_react_RoomAudienceRelayQL',type:'MessageThread'};}(c('MessengerGraphQLTypeaheadAdapter').userFragment);}}});}),null);
__d('MessengerTypeaheadTopFriendsView.react',['cx','immutable','Keys','MessengerContactAdapters','MessengerContactList.react','MessengerGraphQLTypeaheadHighlighter','MessengerTypeaheadUtils','React','joinClasses','wrapNullableForReact'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onKeyDown=function(r){if(r===c('Keys').RETURN){this.props.onSelectHighlighted();return;}var s=c('MessengerGraphQLTypeaheadHighlighter').getNextHighlightedEntry(r,this.props.entries.toArray(),this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(s);}.bind(this),this.$MessengerTypeaheadTopFriendsView1=function(r){this.props.onNextHighlighted(r);}.bind(this),n;}l.prototype.componentWillMount=function(){if(this.props.hasHoverState)if(this.props.entries.size>0)this.props.onNextHighlighted(this.props.entries.first());};l.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown);};l.prototype.componentWillUnmount=function(){this.props.onUnmount();};l.prototype.render=function(){return c('React').createElement(c('MessengerContactList.react'),{ariaOwneeID:this.props.ariaOwneeID,className:c('joinClasses')(this.props.className,"_4p-s"),contactAdapter:c('MessengerContactAdapters').fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:c('wrapNullableForReact')(this.props.highlightedEntry),isLoading:!!this.props.queryString,listSections:c('MessengerTypeaheadUtils').buildListSections(this.props.entries.toArray(),this.props.queryString),onHighlight:this.$MessengerTypeaheadTopFriendsView1,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:false,viewer:this.props.viewer});};l.propTypes={ariaOwneeID:k.string.isRequired,className:k.string.isRequired,entries:k.instanceOf(c('immutable').List).isRequired,hasHoverState:k.bool.isRequired,highlightedEntry:k.object,onNextHighlighted:k.func.isRequired,onMount:k.func.isRequired,onScrollIntoView:k.func.isRequired,onSelect:k.func.isRequired,onSelectHighlighted:k.func.isRequired,onUnmount:k.func.isRequired,originalEntryIDs:k.instanceOf(c('immutable').Set).isRequired,queryString:k.string.isRequired,selectedEntryIDs:k.instanceOf(c('immutable').Set).isRequired,viewer:k.string.isRequired};l.defaultProps={ariaOwneeID:'',className:''};f.exports=l;}),null);
__d('MessengerGraphQLTypeaheadView.react',['CurrentUser','immutable','MercuryParticipantTypes','MercuryTypeaheadConstants','MessengerRoomPrivacyMode','MessengerRoomWithAssocObjectAudienceLocalCacheManager','MessengerSearchFunnelLogger','MessengerTypeaheadLocalCache','MessengerTypeaheadResultRoute','MessengerTypeaheadResultView.react','MessengerTypeaheadTopFriendsView.react','MessengerTypeaheadUtils','React','RelayRootContainer','createCancelableFunction','debounce'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k='WWW_MESSENGER_SEARCH_SESSION_FUNNEL',l=5,m=100;h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.state={route:null,localEntries:c('immutable').List(),highlightedEntry:null},this.$MessengerGraphQLTypeaheadView1=null,this.$MessengerGraphQLTypeaheadView2=null,this.$MessengerGraphQLTypeaheadView3=null,this.$MessengerGraphQLTypeaheadView4=true,this.$MessengerGraphQLTypeaheadView5=c('MessengerRoomWithAssocObjectAudienceLocalCacheManager').get(),this.$MessengerGraphQLTypeaheadView9=function(t){this.$MessengerGraphQLTypeaheadView3=t;}.bind(this),this.$MessengerGraphQLTypeaheadView12=function(){this.$MessengerGraphQLTypeaheadView3=null;}.bind(this),this.$MessengerGraphQLTypeaheadView10=function(t){this.setState({highlightedEntry:t});}.bind(this),this.$MessengerGraphQLTypeaheadView11=function(){if(this.state.highlightedEntry)this.props.onSelect(this.state.highlightedEntry);}.bind(this),p;}n.prototype.componentDidMount=function(){this.$MessengerGraphQLTypeaheadView6();this.$MessengerGraphQLTypeaheadView2=c('debounce')(function(){if(this.$MessengerGraphQLTypeaheadView4){var o=new (c('MessengerTypeaheadResultRoute'))(this.$MessengerGraphQLTypeaheadView7());this.setState({route:o});}}.bind(this),150,this,true);};n.prototype.componentWillReceiveProps=function(o){this.setState({highlightedEntry:null});if(!o.queryString){this.$MessengerGraphQLTypeaheadView6();}else if(o.queryString!==this.props.queryString){this.$MessengerGraphQLTypeaheadView2&&this.$MessengerGraphQLTypeaheadView2();var p=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(p===c('MessengerRoomPrivacyMode').WHITELISTED_MODE){this.$MessengerGraphQLTypeaheadView8(o);return;}c('MessengerTypeaheadLocalCache').search(o.queryString,function(q,r){if(this.$MessengerGraphQLTypeaheadView4)if(r===o.queryString){var s=c('MessengerTypeaheadUtils').sortEntries(q,r).slice(0,this.props.maxEntries),t=this.props.enableMessageSearch?c('MessengerTypeaheadUtils').getMessageSearchEntry(r):null;if(t)s.unshift(t);var u=c('immutable').List(s).filter(function(v){if(this.props.excludeGroups&&v.getType()===c('MercuryParticipantTypes').THREAD)return false;if(this.props.excludePages&&v.getType()===c('MercuryParticipantTypes').PAGE)return false;return true;}.bind(this));this.setState({localEntries:u});}}.bind(this));}};n.prototype.shouldComponentUpdate=function(o,p){return o.queryString!==this.props.queryString||o.isFocused!==this.props.isFocused||p.localEntries!==this.state.localEntries||p.route!==this.state.route||p.highlightedEntry!==this.state.highlightedEntry;};n.prototype.componentWillUnmount=function(){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1.cancel();this.$MessengerGraphQLTypeaheadView4=false;};n.prototype.render=function(){if(!this.props.isFocused&&!this.props.queryString||!c('MessengerTypeaheadLocalCache').isBootstrapped()&&!this.$MessengerGraphQLTypeaheadView5.isBootstrapped(this.props.threadFBID))return null;if(!this.props.queryString||!this.state.route){c('MessengerSearchFunnelLogger').logUpdateQuery(k,'null_state_impression','',this.state.localEntries.toArray().map(function(q){return q.getUniqueID();}));return c('React').createElement(c('MessengerTypeaheadTopFriendsView.react'),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onMount:this.$MessengerGraphQLTypeaheadView9,onNextHighlighted:this.$MessengerGraphQLTypeaheadView10,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView11,onUnmount:this.$MessengerGraphQLTypeaheadView12,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer});}var o=this.$MessengerGraphQLTypeaheadView7(),p=this.state.localEntries.slice(0,l);return c('React').createElement(c('RelayRootContainer'),{Component:c('MessengerTypeaheadResultView.react'),route:this.state.route,renderLoading:function(){return c('React').createElement(c('MessengerTypeaheadTopFriendsView.react'),{className:this.props.typeaheadViewClassName,entries:this.$MessengerGraphQLTypeaheadView13(p),hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onNextHighlighted:this.$MessengerGraphQLTypeaheadView10,onMount:this.$MessengerGraphQLTypeaheadView9,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView11,onUnmount:this.$MessengerGraphQLTypeaheadView12,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer});}.bind(this),renderFetched:function(q){return c('React').createElement(c('MessengerTypeaheadResultView.react'),babelHelpers['extends']({},q,{className:this.props.typeaheadViewClassName,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,localEntries:p.toArray(),onMount:this.$MessengerGraphQLTypeaheadView9,onNextHighlighted:this.$MessengerGraphQLTypeaheadView10,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView11,onUnmount:this.$MessengerGraphQLTypeaheadView12,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer},o));}.bind(this)});};n.prototype.$MessengerGraphQLTypeaheadView13=function(o){var p=o.filter(function(q){return !this.props.selectedEntryIDs.contains(q.getUniqueID());}.bind(this));c('MessengerSearchFunnelLogger').logLoadingStateQuery(k,this.props.queryString,p.toArray().map(function(q){return q.getUniqueID();}));return p;};n.prototype.onKeyDown=function(o){this.$MessengerGraphQLTypeaheadView3&&this.$MessengerGraphQLTypeaheadView3(o);};n.prototype.$MessengerGraphQLTypeaheadView8=function(o){this.$MessengerGraphQLTypeaheadView5.search(o.threadFBID,o.queryString,function(p,q){if(this.$MessengerGraphQLTypeaheadView4)if(q===o.queryString){var r=c('MessengerTypeaheadUtils').sortEntries(p,q).slice(0,this.props.maxEntries);this.setState({localEntries:c('immutable').List(r)});}}.bind(this));};n.prototype.$MessengerGraphQLTypeaheadView14=function(){this.setState({localEntries:c('immutable').List()});this.$MessengerGraphQLTypeaheadView1=c('createCancelableFunction')(function(o){var p=o.slice(0,30);this.setState({localEntries:c('immutable').List(p)});}.bind(this));this.$MessengerGraphQLTypeaheadView5.onEntriesLoaded(this.props.threadFBID,function(o){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1(o);this.$MessengerGraphQLTypeaheadView1=null;}.bind(this));};n.prototype.$MessengerGraphQLTypeaheadView6=function(){var o=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(o===c('MessengerRoomPrivacyMode').WHITELISTED_MODE){this.$MessengerGraphQLTypeaheadView14();return;}this.setState({localEntries:c('immutable').List()});this.$MessengerGraphQLTypeaheadView1=c('createCancelableFunction')(function(p,q,r){var s=p.slice(0,50);if(!this.props.excludeGroups)s=s.concat(q);if(!r||!this.props.queryString){var t=this.props.enableMessageSearch?c('MessengerTypeaheadUtils').getMessageSearchEntry(this.props.queryString):null;if(t)s.unshift(t);this.setState({localEntries:c('immutable').List(s)});}}.bind(this));c('MessengerTypeaheadLocalCache').onEntriesLoaded(function(p,q,r){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1(p,q,r);this.$MessengerGraphQLTypeaheadView1=null;}.bind(this));};n.prototype.$MessengerGraphQLTypeaheadView7=function(){var o=this.state.localEntries.toArray(),p=o.filter(function(z){return z.getType()!==c('MercuryTypeaheadConstants').SEARCH_TYPE;}).map(function(z){return z.getUniqueID();}),q=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode,r=q===c('MessengerRoomPrivacyMode').WHITELISTED_MODE,s=!this.props.excludeGroups&&this.props.queryString&&this.props.queryString.length>1&&!r,t=!this.props.excludeGroups&&p.length>0&&!r,u=!this.props.excludeGroups&&(!t||c('CurrentUser').isEmployee())&&!r,v=!this.props.excludePages&&!r,w=this.props.shouldQueryVCEndpoint&&(c('CurrentUser').isEmployee()||c('CurrentUser').isWorkUser())&&!r,x=this.props.shouldQueryInternalBot&&c('CurrentUser').isEmployee()&&c('CurrentUser').isWorkUser()&&!r,y=this.props.threadFBID;return {queryString:this.props.queryString,localEntryIDs:p,shouldQueryPages:v,shouldQueryThreadName:s,shouldQueryParticipantIDs:t,shouldQueryParticipantNames:u,shouldQueryVCEndpoint:w,shouldQueryInternalBot:x,shouldQueryRoomsAudience:r,threadFBID:y};};n.propTypes={enableMessageSearch:j.bool.isRequired,excludeGroups:j.bool.isRequired,excludePages:j.bool.isRequired,isFocused:j.bool.isRequired,hasHoverState:j.bool.isRequired,maxEntries:j.number.isRequired,onScrollIntoView:j.func.isRequired,onSelect:j.func.isRequired,originalEntryIDs:j.instanceOf(c('immutable').Set).isRequired,queryString:j.string.isRequired,roomAssociatedObject:j.object,selectedEntryIDs:j.instanceOf(c('immutable').Set).isRequired,shouldQueryInternalBot:j.bool.isRequired,shouldQueryVCEndpoint:j.bool.isRequired,threadFBID:j.string,typeaheadViewClassName:j.string.isRequired,viewer:j.string.isRequired};n.defaultProps={maxEntries:m,typeaheadViewClassName:''};f.exports=n;}),null);
__d('MessengerScrollableArea.react',['cx','React','ReactDOM','ScrollableArea.react','Style','UserAgent','clearImmediate','joinClasses','setImmediate','throttle'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=20;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),n.call(this),p;}m.prototype.componentDidMount=function(){this.$MessengerScrollableArea2=c('setImmediate')(this.$MessengerScrollableArea4);this.$MessengerScrollableArea1=true;this.$MessengerScrollableArea3=c('throttle')(this.$MessengerScrollableArea5,50);};m.prototype.componentWillUnmount=function(){c('clearImmediate')(this.$MessengerScrollableArea2);this.$MessengerScrollableArea1=false;};m.prototype.render=function(){return c('React').createElement(c('ScrollableArea.react'),{className:c('joinClasses')("_5f0v",this.props.className),height:this.props.height,onScroll:this.props.needsFastScrollHandler?this.$MessengerScrollableArea5:this.$MessengerScrollableArea3,ref:'scrollable',shadow:false,tabIndex:this.props.tabIndex,width:this.props.width},this.props.children);};m.prototype.scrollToPosition=function(o){var p=arguments.length<=1||arguments[1]===undefined?false:arguments[1],q=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],r=this.getArea();if(!r)return;r.setScrollTop(o,p,q);};m.propTypes={needsFastScrollHandler:k.bool,onScroll:k.func,width:k.number};var n=function o(){this.$MessengerScrollableArea1=false;this.$MessengerScrollableArea2=null;this.$MessengerScrollableArea5=function(){if(this.$MessengerScrollableArea1){var p;this.props.onScroll&&(p=this.props).onScroll.apply(p,arguments);}}.bind(this);this.$MessengerScrollableArea4=function(){if(!c('UserAgent').isBrowser('IE'))return;var p=this.refs.scrollable.refs.wrap,q=this.refs.scrollable.refs.body;if(!q||!p)return;q=c('ReactDOM').findDOMNode(q);p=c('ReactDOM').findDOMNode(p);var r=p.offsetWidth-p.clientWidth;if(r>0)c('Style').set(q,'margin-right',-r+'px');}.bind(this);this.getArea=function(){return this.refs.scrollable.getArea();}.bind(this);this.scrollToBottom=function(){var p=this.getArea();if(p)this.scrollToPosition(p.getScrollHeight());}.bind(this);this.scrollToTop=function(p){var q=this.getArea();if(q)q.scrollToTop(!!p);}.bind(this);this.isScrolledToBottom=function(){return this.isScrolledToBottomWithHeight(0);}.bind(this);this.isScrolledToBottomWithHeight=function(p){var q=this.getArea();if(!q)return false;return q.getScrollTop()+q.getClientHeight()+p>=q.getScrollHeight()-l;}.bind(this);this.isScrolledToTop=function(){var p=this.getArea();if(!p)return true;return p.getScrollTop()<=l;}.bind(this);this.getScrollTop=function(){var p=this.getArea();if(!p)return 0;return p.getScrollTop();}.bind(this);};f.exports=m;}),null);
__d('MessengerGraphQLSearchTypeahead.react',['cx','ix','BootloadOnRender.react','ContextualLayer.react','Event','Image.react','immutable','InstantGameContextType','JSResource','Keys','LazyComponent.react','MercuryIDs','MercuryThreadIDMap','MercuryThreads','MercuryTypeaheadConstants','MercuryVanityIDMap','MessagingSourceEnum','MessengerActions','MessengerGraphQLTypeaheadView.react','MessengerScrollableArea.react','MessengerSearchFunnelLogger','MessengerSpinner.react','MessengerTypeaheadUtils','MNPlatformTagsDataManager','QuicksilverSources','React','ReactDOM','ReactLayeredComponentMixin_DEPRECATED','clearImmediate','emptyFunction','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('MercuryThreadIDMap').get(),k=c('MercuryThreads').get(),l=c('React').PropTypes,m=i("86933"),n=30,o=100,p=c('React').createClass({displayName:'MessengerGraphQLSearchTypeahead',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],_input:null,_timer:null,_view:null,propTypes:{className:l.string.isRequired,context:l.object,enableMessageSearch:l.bool.isRequired,excludeGroups:l.bool.isRequired,excludePages:l.bool.isRequired,hasHoverState:l.bool.isRequired,hideClearButton:l.bool.isRequired,hideResults:l.bool,isFacebookChat:l.bool.isRequired,isFocused:l.bool.isRequired,isTokenizer:l.bool.isRequired,onBackspace:l.func.isRequired,onBlur:l.func.isRequired,onChange:l.func.isRequired,onClear:l.func.isRequired,onClick:l.func.isRequired,onFocus:l.func.isRequired,onScrollIntoView:l.func.isRequired,onSelect:l.func.isRequired,originalEntryIDs:l.instanceOf(c('immutable').Set).isRequired,placeholder:l.string.isRequired,queryString:l.string.isRequired,roomAssociatedObject:l.object,scrollableViewClassName:l.string.isRequired,selectedEntryIDs:l.instanceOf(c('immutable').Set).isRequired,shouldQueryInternalBot:l.bool.isRequired,shouldQueryVCEndpoint:l.bool.isRequired,tabIndex:l.number,threadFBID:l.string,typeaheadViewClassName:l.string.isRequired,useLayer:l.bool.isRequired,viewer:l.string.isRequired,width:l.number},getInitialState:function q(){return {gameID:null};},getDefaultProps:function q(){return {isFacebookChat:false,isTokenizer:false,onBackspace:c('emptyFunction'),onChange:c('emptyFunction'),onClear:c('emptyFunction'),onClick:c('emptyFunction'),onScrollIntoView:c('emptyFunction'),originalEntryIDs:c('immutable').Set(),placeholder:'',scrollableViewClassName:'',selectedEntryIDs:c('immutable').Set(),typeaheadViewClassName:'',useLayer:false};},componentDidMount:function q(){this._timer=c('setImmediate')(this._syncInputWidth);},componentDidUpdate:function q(){clearTimeout(this._timer);this._timer=c('setImmediate')(this._syncInputWidth);},componentWillUnmount:function q(){clearTimeout(this._timer);},renderLayers:function q(){if(!this.props.useLayer)return {};var r=null,s=null;if(this.props.context){r=this.props.context;}else s=function(){return this._input;}.bind(this);return {typeaheadView:c('React').createElement(c('ContextualLayer.react'),{context:r,contextRef:s,position:"below",shown:this.props.queryString&&this.props.isFocused,shouldSetARIAProperties:false},this._renderView())};},render:function q(){var r=this.props.useLayer?null:this._renderView();return c('React').createElement('div',{className:(!this.props.isTokenizer?"_3rh8":'')+(this.props.isTokenizer?' '+"_3mkz":'')},c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_58ah"+(this.props.hideResults?' '+"_1a03":'')),onChange:this.props.onChange,onSelect:c('emptyFunction'),tabIndex:null},c('React').createElement('label',{className:"_58ak"},c('React').createElement('input',{className:"_58al",disabled:this.props.hideResults,onBlur:this._handleBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyDown:function(s){return this._handleKeyDown(s);}.bind(this),placeholder:this.props.placeholder,ref:function(s){return this._input=s;}.bind(this),spellCheck:false,tabIndex:this.props.tabIndex,type:'text',value:this.props.queryString})),r),c('React').createElement(c('Image.react'),{onMouseDown:this.props.onClear,className:(this.props.hideClearButton?"hidden_elem":'')+(' '+"_2xme"),src:m}),c('React').createElement('span',{ref:'textSizeProxy',className:"_58-3",'aria-hidden':'true'},this.props.queryString||this.props.placeholder),this._renderGame());},focusInput:function q(){this._input&&this._input.focus();},_syncInputWidth:function q(){if(!this.props.isTokenizer)return;var r=c('ReactDOM').findDOMNode(this.refs.textSizeProxy),s=r?r.offsetWidth:0;if(s===0)return;if(this._input)this._input.style.width=s+'px';},_renderGame:function q(){if(!this.state.gameID)return null;return c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('MessengerGamesQuicksilverPlayerContainer.react').__setRef('MessengerGraphQLSearchTypeahead.react'),placeholder:c('React').createElement(c('MessengerSpinner.react'),null),component:c('React').createElement(c('LazyComponent.react'),{contextType:c('InstantGameContextType').SOLO,contextSourceID:null,gameID:this.state.gameID,onHide:this._handleHideGame,source:c('QuicksilverSources').MESSENGER_GAME_SEARCH,sourceID:null})});},_renderView:function q(){if(!this.props.queryString&&!this.props.isFocused)return null;var r=this.props.isTokenizer?n:o,s=c('React').createElement(c('MessengerGraphQLTypeaheadView.react'),{enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,isFocused:this.props.isFocused,hasHoverState:this.props.hasHoverState,maxEntries:r,onScrollIntoView:this._handleScrollIntoView,onSelect:this._handleSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,ref:function(t){return this._view=t;}.bind(this),roomAssociatedObject:this.props.roomAssociatedObject,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,selectedEntryIDs:this.props.selectedEntryIDs,threadFBID:this.props.threadFBID,typeaheadViewClassName:this.props.typeaheadViewClassName,viewer:this.props.viewer});if(this.props.isTokenizer){return c('React').createElement(c('MessengerScrollableArea.react'),{className:this.props.scrollableViewClassName,ref:'scrollable',width:this.props.width},s);}else return s;},_handleScrollIntoView:function q(r){if(!r)return;if(!this.props.isTokenizer){this.props.onScrollIntoView(r);return;}if(this.refs.scrollable)c('MessengerTypeaheadUtils').scrollEntryIntoView(r,this.refs.scrollable);},_handleSelect:function q(r,event){var s=r.getUniqueID(),t=r.getType(),u=r.getAuxiliaryData().alias;if(u)c('MercuryVanityIDMap').set(u,c('MercuryIDs').getParticipantIDFromUserID(s));if(t===c('MercuryTypeaheadConstants').SEARCH_TYPE){c('MessengerSearchFunnelLogger').logContentSearchInitiation('WWW_MESSENGER_SEARCH_SESSION_FUNNEL',this.props.queryString);c('MessengerActions').changeQueryAll(this.props.queryString);}else if(t===c('MercuryTypeaheadConstants').GAME_TYPE){this.setState({gameID:s});}else if(t===c('MercuryTypeaheadConstants').THREAD_TYPE){j.getClientIDFromServerID(s,function(v){return this.props.onSelect(v,t,r);}.bind(this));}else{k.getThreadMeta(c('MercuryIDs').getThreadIDFromUserID(s),function(v){return this.props.onSelect(v.thread_id,t,r);}.bind(this));c('MNPlatformTagsDataManager').updateThreadTabAfterSelectThread(c('MessagingSourceEnum').MESSENGER_WEB_SEARCH,s);}},_handleHideGame:function q(){this.setState({gameID:null});},_handleKeyDown:function q(r){var s=r.keyCode;if(s===c('Keys').DOWN||s===c('Keys').UP||s===c('Keys').RETURN){this._view&&this._view.onKeyDown&&this._view.onKeyDown(s);}else if(s===c('Keys').BACKSPACE){this.props.onBackspace(r);}else if(s===c('Keys').ESC)this._input&&this._input.blur();},_handleBlur:function q(){var r=null,s=c('Event').listen(window,'blur',function(){s.remove();c('clearImmediate')(r);});r=c('setImmediate')(function(){s.remove();this.props.onBlur();}.bind(this));}});f.exports=p;}),null);
__d('MessengerTokenizerToken.react',['cx','Keys','React','SearchableEntry','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=100;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerTokenizerToken2=function(event){if(event.keyCode===c('Keys').BACKSPACE){event.preventDefault();this.props.onRemove&&this.props.onRemove(this.props.entry);}}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_14-8"),label:null,onClick:this.$MessengerTokenizerToken1,onKeyDown:this.$MessengerTokenizerToken2,role:'option',tabIndex:this.props.index+l},c('React').createElement('span',{'aria-label':this.props.label,title:this.props.label,className:"_14-9"},this.props.label));};m.prototype.$MessengerTokenizerToken1=function(event){event.stopPropagation();};m.propTypes={className:k.string,entry:k.instanceOf(c('SearchableEntry')),index:k.number,label:k.string.isRequired,onRemove:k.func};f.exports=m;}),null);
__d('MessengerGraphQLTokenizer.react',['cx','invariant','immutable','MessengerGraphQLSearchTypeahead.react','MessengerTokenizerToken.react','React','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={focused:this.props.autoFocus,queryString:''},this.focusInput=function(){this.refs.typeahead&&this.refs.typeahead.focusInput();}.bind(this),this.$MessengerGraphQLTokenizer2=function(event){if(this.state.queryString||this.props.entries.size===0)return;this.$MessengerGraphQLTokenizer6(this.props.entries.last());event.preventDefault();c('setImmediate')(this.focusInput);}.bind(this),this.$MessengerGraphQLTokenizer3=function(event){event.target instanceof HTMLInputElement||i(0);this.setState({queryString:event.target.value});}.bind(this),this.$MessengerGraphQLTokenizer4=function(){this.setState({queryString:''});this.props.onClear&&this.props.onClear();}.bind(this),this.$MessengerGraphQLTokenizer5=function(s,t,u){var v=this.props.entries,w=u.getUniqueID();if(this.props.originalEntryIDs.contains(w)){return;}else if(v.some(function(x){return x.getUniqueID()===w;})){this.$MessengerGraphQLTokenizer6(u);return;}this.props.onAddEntryAttempt(u);this.setState({queryString:''});}.bind(this),this.$MessengerGraphQLTokenizer6=function(s){this.props.onRemoveEntryAttempt(s);}.bind(this),o;}m.prototype.componentDidMount=function(){if(this.props.autoFocus)c('setImmediate')(this.focusInput);};m.prototype.render=function(){var n=this.props.entries.map(function(q,r){return this.$MessengerGraphQLTokenizer1(q,r);}.bind(this)),o=n.size>0?'':this.props.placeholder,p=this.props.forceHideClearButton||this.state.queryString===''&&this.props.entries.isEmpty();return c('React').createElement('div',null,c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_14-7")},c('React').createElement('div',{className:c('joinClasses')("_58-2",'clearfix')},n,c('React').createElement(c('MessengerGraphQLSearchTypeahead.react'),{className:"_58-0",context:this.props.context,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,hasHoverState:this.props.hasHoverState,hideClearButton:p,isFacebookChat:false,isFocused:this.state.focused,isTokenizer:true,onBlur:function(){return this.setState({focused:false});}.bind(this),onBackspace:this.$MessengerGraphQLTokenizer2,onChange:this.$MessengerGraphQLTokenizer3,onClear:this.$MessengerGraphQLTokenizer4,onFocus:function(){return this.setState({focused:true});}.bind(this),onSelect:this.$MessengerGraphQLTokenizer5,originalEntryIDs:this.props.originalEntryIDs,placeholder:o,queryString:this.state.queryString,ref:'typeahead',roomAssociatedObject:this.props.roomAssociatedObject,selectedEntryIDs:c('immutable').Seq(this.props.entries).map(function(q){return q.getUniqueID();}).toSet(),scrollableViewClassName:this.props.scrollableViewClassName,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,tabIndex:this.props.tabIndex,threadFBID:this.props.threadFBID,useLayer:this.props.useLayer,viewer:this.props.viewer,width:this.props.width}))),this.state.queryString===''&&!this.state.focused?this.props.defaultEntries:null);};m.prototype.$MessengerGraphQLTokenizer1=function(n,o){return c('React').createElement(c('MessengerTokenizerToken.react'),{className:"_2ei6",key:n.getUniqueID(),label:n.getTitle(),entry:n,index:o,onRemove:this.$MessengerGraphQLTokenizer6});};m.propTypes={autoFocus:l.bool.isRequired,className:l.string.isRequired,context:l.object,defaultEntries:l.element,enableMessageSearch:l.bool.isRequired,entries:l.instanceOf(c('immutable').List).isRequired,excludeGroups:l.bool.isRequired,excludePages:l.bool.isRequired,forceHideClearButton:l.bool,hasHoverState:l.bool.isRequired,onAddEntryAttempt:l.func.isRequired,onClear:l.func,onRemoveEntryAttempt:l.func.isRequired,originalEntryIDs:l.instanceOf(c('immutable').Set).isRequired,placeholder:l.node.isRequired,roomAssociatedObject:l.object,scrollableViewClassName:l.string.isRequired,shouldQueryInternalBot:l.bool.isRequired,shouldQueryVCEndpoint:l.bool.isRequired,tabIndex:l.number,threadFBID:l.string,useLayer:l.bool.isRequired,viewer:l.string.isRequired,width:l.number.isRequired};f.exports=m;}),null);
__d('MessengerTabIndices',[],(function a(b,c,d,e,f,g){'use strict';var h={NEW_MESSAGE_TOKENIZER:9998,COMPOSER_INPUT:9999};f.exports=h;}),null);
__d('MessengerComposeViewHeader.react',['cx','fbt','immutable','MessengerGraphQLTokenizer.react','MessengerTabIndices','React','clearImmediate','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=320;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={tokenizerContext:null},this.$MessengerComposeViewHeader1=null,this.$MessengerComposeViewHeader2=function(){this.$MessengerComposeViewHeader1=c('setImmediate')(function(){this.refs.tokenizer&&this.refs.tokenizer.focusInput();}.bind(this));}.bind(this),p;}n.prototype.componentDidMount=function(){this.$MessengerComposeViewHeader2();this.setState({tokenizerContext:this.refs.tokenizerContext});};n.prototype.componentDidUpdate=function(o){if(this.props.recipients!==o.recipients)this.props.onResize();};n.prototype.componentWillUnmount=function(){this.$MessengerComposeViewHeader1&&c('clearImmediate')(this.$MessengerComposeViewHeader1);};n.prototype.render=function(){var o={enableMessageSearch:false,excludeGroups:false,excludePages:false,hasHoverState:true,originalEntryIDs:c('immutable').Set(),scrollableViewClassName:"_2y8_",shouldQueryInternalBot:true,shouldQueryVCEndpoint:false,width:m};return c('React').createElement('div',{className:c('joinClasses')("_2y8y _5l-3",this.props.className),onClick:this.$MessengerComposeViewHeader2,role:'presentation'},c('React').createElement('div',{className:"_2y8z"},i._("To:")),c('React').createElement('div',null,c('React').createElement(c('MessengerGraphQLTokenizer.react'),babelHelpers['extends']({autoFocus:true,className:"_2y8-",context:this.state.tokenizerContext,entries:this.props.recipients,forceHideClearButton:this.props.forceHideClearButton,onAddEntryAttempt:this.props.onAddRecipient,onClear:this.props.onClear,onRemoveEntryAttempt:this.props.onRemoveRecipient,placeholder:i._("Type the name of a person or group"),ref:'tokenizer',tabIndex:c('MessengerTabIndices').NEW_MESSAGE_TOKENIZER,useLayer:true,viewer:this.props.viewer},o)),c('React').createElement('div',{ref:'tokenizerContext'})));};n.propTypes={forceHideClearButton:l.bool.isRequired,onAddRecipient:l.func.isRequired,onClear:l.func,onRemoveRecipient:l.func.isRequired,onResize:l.func.isRequired,recipients:l.instanceOf(c('immutable').List).isRequired,viewer:l.string.isRequired};f.exports=n;}),null);
__d('MessengerDialogCancelButton.react',['fbt','MessengerDialogButton.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement(c('MessengerDialogButton.react'),babelHelpers['extends']({action:'cancel',label:h._("Cancel"),type:'secondary'},this.props));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MNCommerceAttachmentConstants',[],(function a(b,c,d,e,f,g){var h={XLARGE_IMAGE_DIMENSION:72,LARGE_IMAGE_DIMENSION:60,SMALL_IMAGE_DIMENSION:32,SINGLE_IMAGE_HEIGHT:108,BUBBLE_PADDING:6,IMAGE_HEIGHT:{CHAT:108,WEB_INBOX:130},UNLINK_ERROR_DIALOG:{WIDTH:300},DIALOG:{WIDTH:445,PADDING:12},MDOTCOMDIALOG:{WIDTH:495},ORDER_DETAIL:{SUB_TOTAL:'subTotal',SHIPPING:'shippingCost',TAX:'tax',TOTAL:'totalCost'}};f.exports=h;}),null);
__d('MNCommerceDialog.react',['cx','MessengerEnvironment','LayerFadeOnHide','LayerHideOnEscape','MNCommerceAttachmentConstants','MessengerDialog.react','React','XUIDialog.react','emptyFunction','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'MNCommerceDialog',propTypes:{onToggle:i.func,shown:i.bool,width:i.number.isRequired},getDefaultProps:function k(){return {onToggle:c('emptyFunction'),repositionOnUpdate:true,shown:true,width:c('MessengerEnvironment').messengerui?c('MNCommerceAttachmentConstants').MDOTCOMDIALOG.WIDTH:c('MNCommerceAttachmentConstants').DIALOG.WIDTH};},componentDidUpdate:function k(){if(this.props.repositionOnUpdate)setTimeout(function(){if(this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer)this.refs.dialog.layer.updatePosition();}.bind(this),0);},render:function k(){var l=c('MessengerEnvironment').messengerui,m=l?c('MessengerDialog.react'):c('XUIDialog.react');return c('React').createElement(m,babelHelpers['extends']({behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')}},this.props,{className:c('joinClasses')(this.props.className,l?"_3rx0":''),ref:'dialog'}),this.props.children);}});f.exports=j;}),null);
__d('MNCommerceDialogBody.react',['MessengerEnvironment','MessengerDialogBody.react','React','XUIDialogBody.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('MessengerEnvironment').messengerui,l=k?c('MessengerDialogBody.react'):c('XUIDialogBody.react');return c('React').createElement(l,this.props,this.props.children);};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('MNCommerceDialogTitle.react',['MessengerEnvironment','MessengerDialogHeader.react','React','XUIDialogTitle.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('MessengerEnvironment').messengerui,l=k?c('MessengerDialogHeader.react'):c('XUIDialogTitle.react');return c('React').createElement(l,this.props,this.props.children);};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('MNCommerceDetailsDialog.react',['cx','fbt','React','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogTitle.react','XUISpinner.react','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MNCommerceDetailsDialog3=function(){return this.props.title?c('React').createElement(c('MNCommerceDialogTitle.react'),null,this.props.title):null;}.bind(this),this.$MNCommerceDetailsDialog2=function(){return c('React').createElement('div',{className:"_4y9b"},c('React').createElement('p',{className:"_4y9c"},i._("Sorry, Something Went Wrong")),c('React').createElement('p',{className:"_4y9d"},this.props.errorMessage),c('React').createElement(c('XUIButton.react'),{onClick:this.props.onTryAgain,label:i._("Try Again")}));}.bind(this),this.$MNCommerceDetailsDialog1=function(){return c('React').createElement('div',{className:"_4y9e"},c('React').createElement(c('XUISpinner.react'),{background:'light',size:'large',paused:false}));},o;}m.prototype.render=function(){var n=null;if(this.props.loading){n=this.$MNCommerceDetailsDialog1();}else if(this.props.error){n=this.$MNCommerceDetailsDialog2();}else n=this.props.children;return c('React').createElement(c('MNCommerceDialog.react'),{className:this.props.className,modal:true,onToggle:this.props.onToggle,shown:this.props.shown},this.$MNCommerceDetailsDialog3(),c('React').createElement(c('MNCommerceDialogBody.react'),{useCustomPadding:true},n));};m.propTypes={error:l.object,errorMessage:l.node,loading:l.bool.isRequired,onToggle:l.func,onTryAgain:l.func,title:l.node,shown:l.bool.isRequired};m.defaultProps={shown:false};f.exports=m;}),null);
__d('MNCommerceButton.react',['MessengerEnvironment','MessengerDialogButton.react','React','XUIButton.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=c('MessengerEnvironment').messengerui,l=k?c('MessengerDialogButton.react'):c('XUIButton.react'),m=this.props.type;if(!m)m=this.props.type==='confirm'?'primary':'secondary';var n=k?'default':this.props.use,o=babelHelpers['extends']({},this.props,{type:m,use:n});return c('React').createElement(l,o,this.props.children);};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('MNCommerceDialogFooter.react',['cx','MessengerEnvironment','MessengerDialogFooter.react','React','XUIDialogFooter.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=c('MessengerEnvironment').messengerui,m=l?c('MessengerDialogFooter.react'):c('XUIDialogFooter.react'),n=void 0,o=this.props.children;if(l){n=c('React').Children.count(this.props.children);o=c('React').Children.map(this.props.children,function(p,q){if(!p)return null;return c('React').cloneElement(p,{className:c('joinClasses')(p.props.className,"_4ec0"),type:q===0&&n===2?'secondary':'primary'});});}return c('React').createElement(m,this.props,o);};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MessengerRTCGroupCallContactListItem.react',['cx','fbt','ix','Image.react','Link.react','messengerContactImageReact','MultiwayTypes','React','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l=c('messengerContactImageReact').comp,m=c('MultiwayTypes').ParticipantCallState,n=(k={},k[m.DISCONNECTED]=i._("Disconnected"),k[m.NO_ANSWER]=i._("No Answer"),k[m.REJECTED]=i._("Rejected"),k[m.UNREACHABLE]=i._("Unreachable"),k[m.CONNECTION_DROPPED]=i._("Connection Dropped"),k[m.CONTACTING]=i._("Contacting..."),k[m.RINGING]=i._("Ringing..."),k[m.CONNECTING]=i._("Connecting..."),k[m.CONNECTED]=i._("Connected"),k[m.PARTICIPANT_LIMIT_REACHED]=i._("Participant Limit Reached"),k[m.IN_ANOTHER_CALL]=i._("In Another Call"),k),o=32,p=function t(u){var v=u.isSelected,w=u.onClick,x=u.participant,y=u.participantState;return c('React').createElement(c('Link.react'),{'aria-checked':v,className:"_4nvn",onClick:s(y)?c('emptyFunction'):w,role:'checkbox'},c('React').createElement(l,{className:"_4nvr",isMessengerUser:x.is_messenger_user,size:o,src:x.image_src}),c('React').createElement('div',{className:"_4nvs"},c('React').createElement('div',{className:"_4nvt"},c('React').createElement('div',{className:"_4nv_"},x.name),c('React').createElement(q,{participant:x,participantState:y})),c('React').createElement(r,{isSelected:v,participantState:y})));},q=function t(u){var v=u.participant.vanity,w=u.participantState;if(w){var x=n[w.state]||i._("Unknown");return c('React').createElement('div',{className:"_4nw0"},x);}if(v)return c('React').createElement('div',{className:"_4nw0"},'@',v);return null;},r=function t(u){var v=u.isSelected,w=u.participantState;if(s(w)){return c('React').createElement('div',{className:"_1j79"},i._("In Call"));}else if(v)return c('React').createElement('div',{className:"_1j79"},c('React').createElement(c('Image.react'),{src:j("86852")}));return null;};function s(t){if(!t)return false;switch(t.state){case m.CONTACTING:case m.RINGING:case m.CONNECTING:case m.CONNECTED:return true;default:return false;}}f.exports=p;}),null);
__d('MessengerRTCGroupCallContactList.react',['cx','immutable','MessengerRTCGroupCallContactListItem.react','MessengerScrollableArea.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=k.isParticipantSelected,m=k.onClick,n=k.participants,o=k.participantStates,p=o===undefined?c('immutable').Map():o,q=n.map(function(r){return c('React').createElement(c('MessengerRTCGroupCallContactListItem.react'),{isSelected:l.get(r.id),key:r.id,onClick:function(s){function t(){return s.apply(this,arguments);}t.toString=function(){return s.toString();};return t;}(function(){return m(r.id);}),participant:r,participantState:p.get(r.fbid||'')});});return c('React').createElement(c('MessengerScrollableArea.react'),{className:"_12zw"},q);};f.exports=i;}),null);
__d('MessengerRTCGroupCallRingParticipantsRow.react',['cx','fbt','React','intlList'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=function k(l){var m=l.names;return c('React').createElement('div',{className:"_1wsd"},c('React').createElement('div',{className:"_1wse"},i._("Ring:")),c('React').createElement('div',{className:"_1wsg"},c('intlList')(m,c('intlList').CONJUNCTIONS.NONE)));};f.exports=j;}),null);
__d('MessengerRTCGroupCallThreadRow.react',['cx','fbt','MercuryThreadTitle.react','messengerThreadImageReact','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('messengerThreadImageReact').comp,k=function l(m){var n=m.displayAddMemberWarning,o=m.participants,p=m.thread,q=m.viewerID;return c('React').createElement('div',{className:"_5y31"},c('React').createElement(j,{className:"_5y32",participants:o,thread:p,viewer:q}),c('React').createElement('div',{className:"_5y34"},c('React').createElement(c('MercuryThreadTitle.react'),{className:"_5y37",thread:p,viewer:q}),n?c('React').createElement('div',{className:"_1apf"},i._("People you add to this group video will see previous messages in this conversation.")):null));};f.exports=k;}),null);
__d('MessengerRTCGroupCallParticipantsPickerDialog.react',['cx','fbt','FBRTCCore','immutable','ImmutableObject','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerRTCGroupCallContactList.react','MessengerRTCGroupCallRingParticipantsRow.react','MessengerRTCGroupCallThreadRow.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=460,n=5;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={isParticipantSelected:this.props.participants.mapEntries(function(u){var v=u[0],w=u[1];return [v,this.props.participants.size<=n];}.bind(this))},this.$MessengerRTCGroupCallParticipantsPickerDialog1=function(){var u=this.$MessengerRTCGroupCallParticipantsPickerDialog2().map(function(v){return v.fbid;});if(this.props.handleCall){this.props.handleCall(u);}else c('FBRTCCore').startGroupCall({conferenceName:this.props.conferenceName,hasVideo:this.props.hasVideo,trigger:this.props.trigger,usersToRing:u});this.props.onUnmount();}.bind(this),q;}o.prototype.render=function(){var p=this.props,q=p.participants,r=p.thread,s=p.viewerID;return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onUnmount,type:'default',width:m},c('React').createElement('div',{className:"_2m1r"},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Ring Group Members")),c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Call"),onClick:this.$MessengerRTCGroupCallParticipantsPickerDialog1,disabled:this.$MessengerRTCGroupCallParticipantsPickerDialog2().length===0,type:'primary'})),c('React').createElement(c('MessengerRTCGroupCallThreadRow.react'),{participants:q,thread:r,viewerID:s}),c('React').createElement(c('MessengerRTCGroupCallRingParticipantsRow.react'),{names:this.$MessengerRTCGroupCallParticipantsPickerDialog2().map(function(t){var u=t.name;return u;}).sort(function(t,u){return t.localeCompare(u);})}),c('React').createElement(c('MessengerRTCGroupCallContactList.react'),{participants:q.toArray().sort(function(t,u){return t.name.localeCompare(u.name);}),isParticipantSelected:this.state.isParticipantSelected,onClick:function(t){return this.setState({isParticipantSelected:this.state.isParticipantSelected.set(t,!this.state.isParticipantSelected.get(t))});}.bind(this)})));};o.prototype.$MessengerRTCGroupCallParticipantsPickerDialog2=function(){return this.props.participants.filter(function(p,q){return this.state.isParticipantSelected.get(q);}.bind(this)).toArray();};o.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,thread:l.instanceOf(c('ImmutableObject')).isRequired,viewerID:l.string.isRequired,trigger:l.string.isRequired,conferenceName:l.string.isRequired,hasVideo:l.bool.isRequired,handleCall:l.func,onUnmount:l.func.isRequired};f.exports=o;}),null);
__d('MessengerRTCGroupCallParticipantsPickerDialogController',['DOM','immutable','MessengerRTCGroupCallParticipantsPickerDialog.react','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h={_container:c('DOM').create('div'),render:function i(j){var k=j.participants,l=j.thread,m=j.viewerID,n=j.trigger,o=j.conferenceName,p=j.hasVideo,q=j.handleCall;c('ReactDOM').render(c('React').createElement(c('MessengerRTCGroupCallParticipantsPickerDialog.react'),{participants:k,thread:l,viewerID:m,trigger:n,conferenceName:o,hasVideo:p,handleCall:q,onUnmount:function(){return this._onUnmount();}.bind(this)}),this._container);},_onUnmount:function i(){c('ReactDOM').unmountComponentAtNode(this._container);}};f.exports=h;}),null);
__d('MNCommerceLoggingConstants',[],(function a(b,c,d,e,f,g){var h={DIALOG_SURFACE:{CHECKOUT_ORDER_CONFIG:'checkout_order_config',SHIPMENT:'shipment',RECEIPT:'receipt',UNLINK:'unlink',UNLINK_ERROR:'unlink_error',MANAGE:'manage'}};f.exports=h;}),null);
__d('messengerComposeViewHeaderReact',['bs_js_boolean','reasonReact','bs_js_null_undefined','MessengerComposeViewHeader.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m,n,o,p,q){return c('reasonReact').wrapJsComponentForReason(c('MessengerComposeViewHeader.react'),{className:c('bs_js_null_undefined').from_opt(i),forceHideClearButton:c('bs_js_boolean').to_js_boolean(j),onClear:c('bs_js_null_undefined').from_opt(k),onAddRecipient:l,onRemoveRecipient:m,onResize:n,recipients:o,viewer:p},q);}g.make=h;}),null);
__d('messengerDialogBodyReact',['cx','reasonReact','joinClasses','bs_js_primitive'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('reasonReact').statefulComponent("MessengerDialogBodyReact");function j(m,n){var o=m?m[0]:"",p=i.slice();p[10]=function(q,r){return c('reasonReact').createDomElement("div",{className:c('joinClasses')("_4eb-",o)},n);};return p;}function k(m){return j(c('bs_js_primitive').null_undefined_to_opt(m.className),m.children);}var l=c('reasonReact').createJsReactClass(k,i);g.component=i;g.make=j;g.jsPropsToReason=k;g.comp=l;}),null);
__d('messengerDialogReact',['utilsRe','reasonReact','bs_js_null_undefined','MessengerDialog.react','MessengerDialogTitle.react','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerDialogCancelButton.react'],(function a(b,c,d,e,f,g){'use strict';function h(w){if(w){switch(w[0]){case 0:return ["cancel"];case 1:return ["button"];case 2:return ["confirm"];}}else return 0;}function i(w){if(w){if(w[0]!==0){return ["secondary"];}else return ["primary"];}else return 0;}function j(w,x,y,z,aa,ba,ca,da){return c('reasonReact').wrapJsComponentForReason(c('MessengerDialog.react'),{className:c('bs_js_null_undefined').from_opt(w),onToggle:x,repositionOnUpdate:c('utilsRe').optionBoolToNullUndefinedBoolean(y),shown:c('utilsRe').optionBoolToNullUndefinedBoolean(z),titleID:c('bs_js_null_undefined').from_opt(aa),type:c('bs_js_null_undefined').from_opt(ba),width:c('bs_js_null_undefined').from_opt(ca)},da);}var k=[j];function l(w,x,y){return c('reasonReact').wrapJsComponentForReason(c('MessengerDialogHeader.react'),{className:c('bs_js_null_undefined').from_opt(w),id:c('bs_js_null_undefined').from_opt(x)},y);}var m=[l];function n(w,x){return c('reasonReact').wrapJsComponentForReason(c('MessengerDialogTitle.react'),{className:c('bs_js_null_undefined').from_opt(w)},x);}var o=[n];function p(w,x,y){return c('reasonReact').wrapJsComponentForReason(c('MessengerDialogFooter.react'),{className:c('bs_js_null_undefined').from_opt(w),leftContent:c('bs_js_null_undefined').from_opt(x)},y);}var q=[p];function r(w,x){return c('reasonReact').wrapJsComponentForReason(c('MessengerDialogCancelButton.react'),{onClick:c('bs_js_null_undefined').from_opt(w)},x);}var s=[r];function t(w,x,y,z,aa,ba,ca,da,ea){return c('reasonReact').wrapJsComponentForReason(c('MessengerDialogButton.react'),{action:c('bs_js_null_undefined').from_opt(h(w)),label:c('bs_js_null_undefined').from_opt(x),disabled:c('utilsRe').optionBoolToNullUndefinedBoolean(y),use:c('bs_js_null_undefined').from_opt(z),onClick:c('bs_js_null_undefined').from_opt(aa),type:c('bs_js_null_undefined').from_opt(i(ba)),className:c('bs_js_null_undefined').from_opt(ca),leftContent:c('bs_js_null_undefined').from_opt(da)},ea);}var u=[t],v=0;g.stringOfButtonAction=h;g.stringOfButtonType=i;g.Dialog=k;g.Header=m;g.Title=o;g.Footer=q;g.CancelButton=s;g.Button=u;g.Body=v;}),null);
__d('messengerDialogsRe',['bs_list','bs_curry'],(function a(b,c,d,e,f,g){'use strict';var h=[0],i=[0];function j(){var o=i[0],p=h[0];if(o){var q=o[0];if(c('bs_list').length(p)>0){return c('bs_curry')._1(q,[p]);}else return c('bs_curry')._1(q,0);}else return 0;}function k(o){i[0]=[o];return j(0);}function l(o){h[0]=[o,h[0]];return j(0);}function m(){var o=h[0];h[0]=o?o[1]:0;return j(0);}function n(){h[0]=0;return j(0);}g.visibleDialogs=h;g.setDialogComponentState=i;g.updateComponent=j;g.addHandler=k;g.showDialog=l;g.removeDialog=m;g.removeAllDialogs=n;}),null);
__d("XMessagingForwardAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/forward\/",{});}),null);
__d("XMessengerPlatformShareCTAController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/platform\/share\/",{});}),null);
__d('messengerSpinnerReact',['reasonReact','bs_js_null_undefined','MessengerSpinner.react'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l){return c('reasonReact').wrapJsComponentForReason(c('MessengerSpinner.react'),{className:c('bs_js_null_undefined').from_opt(i),color:c('bs_js_null_undefined').from_opt(j),size:c('bs_js_null_undefined').from_opt(k)},l);}g.make=h;}),null);
__d('messengerForwardAttachmentDialogReact',['ix','cx','fbt','bs_block','bs_curry','React','immutable','imageReact','bs_js_boolean','CurrentUser','fbglyph','reasonReact','AsyncRequest','bs_js_primitive','MercuryLocalIDs','MessageShareType','messengerDialogReact','messengerSpinnerReact','messengerDialogBodyReact','messengerComposeViewHeaderReact','XMessengerPlatformShareCTAController','XMessagingForwardAttachmentController'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=j._("Send"),l=c('reasonReact').statefulComponent("MessengerForwardAttachmentDialogReact");function m(t,u,v){return c('bs_block').__(0,[[u[0].push(t),u[1],u[2]]]);}function n(t,u,v){return c('bs_block').__(0,[[u[0].filter(function(w){return c('bs_js_boolean').to_js_boolean(+(w!==t));}),u[1],u[2]]]);}function o(t,u,v){return c('bs_block').__(0,[[c('immutable').List([]),u[1],u[2]]]);}function p(t,u,v){new (c('AsyncRequest'))(t.getURIBuilder().getURI()).setMethod("POST").setHandler(v).setData(u).send();return 0;}function q(t,u,v,w,x,y,z){var aa=function ea(fa,ga,ha){if(fa){return 0;}else return c('bs_curry')._1(u,0);},ba=function ea(fa,ga,ha){if(fa.payload.success){c('bs_curry')._1(u,0);return c('bs_block').__(0,[[c('immutable').List([]),ga[1],0]]);}else return c('bs_block').__(0,[[ga[0],c('bs_js_primitive').null_undefined_to_opt(fa.payload.error),0]]);},ca=function ea(fa,ga,ha){var ia={};ga[0].forEach(function(ka,la,ma){ia[String(c('MercuryLocalIDs').generateOfflineThreadingID(undefined))]=ka.getUniqueID();return true;});var ja=0;if(y&&v&&y[0]===c('MessageShareType').PLATFORM_SHARE_CTA){p(c('XMessengerPlatformShareCTAController'),{cta_id:t,message_id:v[0],recipient_map:ia},c('bs_curry')._1(ha[2],ba));}else ja=1;if(ja===1)p(c('XMessagingForwardAttachmentController'),{attachment_id:t,recipient_map:ia},c('bs_curry')._1(ha[2],ba));return c('bs_block').__(0,[[ga[0],0,1]]);},da=l.slice();da[10]=function(ea,fa){var ga=ea[2],ha=ea[1],ia;if(ga!==0){ia=c('React').createElement("div",undefined,c('reasonReact').element(0,0,c('messengerSpinnerReact').make(0,0,0,[])),c('React').createElement("span",{className:"_1e1n _3-99"},j._("Sending")));}else if(ha){var ja=h("141787");ia=c('React').createElement("div",{className:"_1e1n"},c('reasonReact').element(0,0,c('imageReact').make(0,0,[ja],0,0,0,[])),c('React').createElement("span",{className:"_3-99"},ha[0]));}else ia=null;return c('reasonReact').element(0,0,c('bs_curry')._8(c('messengerDialogReact').Dialog[0],0,c('bs_curry')._1(fa[1],aa),0,[w],0,0,[560],[c('reasonReact').element(0,0,c('bs_curry')._3(c('messengerDialogReact').Header[0],0,0,[c('reasonReact').element(0,0,c('bs_curry')._2(c('messengerDialogReact').Title[0],0,[x]))])),c('reasonReact').element(0,0,c('messengerDialogBodyReact').make(0,[c('reasonReact').element(0,0,c('messengerComposeViewHeaderReact').make(["_1e1o"],0,[c('bs_curry')._1(fa[2],o)],c('bs_curry')._1(fa[2],m),c('bs_curry')._1(fa[2],n),function(){return 0;},ea[0],c('CurrentUser').getID(),[]))])),c('reasonReact').element(0,0,c('bs_curry')._3(c('messengerDialogReact').Footer[0],0,[ia],[c('reasonReact').element(0,0,c('bs_curry')._2(c('messengerDialogReact').CancelButton[0],0,[])),c('reasonReact').element(0,0,c('bs_curry').app(c('messengerDialogReact').Button[0],[[2],[k],[+ea[0].isEmpty()||ea[2]],0,[c('bs_curry')._1(fa[2],ca)],[0],0,0,[]]))]))]));};da[11]=function(){return [c('immutable').List([]),0,0];};return da;}function r(t){return q(t.attachmentID,t.onClose,c('bs_js_primitive').null_undefined_to_opt(t.messageID),+t.shown,t.title,c('bs_js_primitive').null_undefined_to_opt(t.shareType),[]);}var s=c('reasonReact').createJsReactClass(r,l);g.sendButtonLabel=k;g.component=l;g.handleAddRecipient=m;g.handleRemoveRecipient=n;g.handleClear=o;g.sendData=p;g.make=q;g.jsPropsToReason=r;g.comp=s;}),null);
__d('MNCommerceCacheTimeoutLimits',[],(function a(b,c,d,e,f,g){'use strict';var h={SUCCESS_TIMEOUT:10,ERROR_TIMEOUT:1};f.exports=h;}),null);
__d('MercuryShareAttachmentReactShape',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=h.shape({share_id:h.string,description:h.string,media:h.shape({image:h.string,image_size:h.shape({height:h.number,width:h.number}),duration:h.number,playable:h.bool,source:h.string}),source:h.string,style_list:h.arrayOf(h.string),subattachments:h.array,target:h.object,title:h.string,properties:h.object,uri:h.string,action_links:h.array,messaging_attribution:h.shape({attribution_type:h.string,attribution_id:h.string,name:h.string,icon_url:h.string}),messenger_ctas:h.arrayOf(h.shape({id:h.string,action_title:h.string,action_url:h.string,action_open_type:h.number,is_high_confidence:h.bool,is_mutable_by_server:h.bool,user_confirmation:h.bool,native_url:h.string,is_disabled:h.bool,nested_ctas:h.array}))}).isRequired;f.exports=i;}),null);
__d('MercuryShareAttachmentSnippet.react',['MercuryShareAttachmentReactShape','MercuryShareStyleMap','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('MercuryShareStyleMap').getStyleFactory(this.props.attachment);if(l.factory&&!!l.factory.getSnippetComponent){var m=l.factory.getSnippetComponent();return c('React').createElement(m,babelHelpers['extends']({},this.props,{attachment:l.attachment}));}return null;};function k(){h.apply(this,arguments);}k.propTypes={attachment:c('MercuryShareAttachmentReactShape'),isSenderViewer:j.bool,senderName:j.oneOfType([j.string,j.object])};f.exports=k;}),null);
__d('MercuryAttachmentSnippet.react',['cx','ix','fbt','EmoticonsList','Image.react','MercuryAttachment','MercuryAttachmentSnippetRenderer','MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryIDs','MercuryShareAttachmentSnippet.react','MessengerTextWithEmoticons.react','MercuryParticipants','React','StickerConstants','TextWithEmoticons.react','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$MercuryAttachmentSnippet6=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').PHOTO,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5));}.bind(this),this.$MercuryAttachmentSnippet7=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').GIF,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5));}.bind(this),this.$MercuryAttachmentSnippet8=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').VIDEO,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet9=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').AUDIO_CLIP,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet15=function(v){return c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet11=function(v){return c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').STICKER,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet12=function(v){if(!!this.$MercuryAttachmentSnippet5[0].share)return c('React').createElement(c('MercuryShareAttachmentSnippet.react'),{attachment:this.$MercuryAttachmentSnippet5[0].share,senderName:v,isViewerSender:this.$MercuryAttachmentSnippet18});return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').SHARE,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet13=function(v){return c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').GIFT,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet16=function(v){return c('React').createElement('span',null,this.$MercuryAttachmentSnippet5.filter(function(w){return w.attach_type===c('MercuryAttachmentType').FILE||w.attach_type===c('MercuryAttachmentType').PHOTO||w.attach_type===c('MercuryAttachmentType').VIDEO;}).map(function(w,x){return this.$MercuryAttachmentSnippet17(w.name,w.icon_type,x);}.bind(this)));}.bind(this),this.$MercuryAttachmentSnippet17=function(v,w,x){var y=c('MercuryAttachment').getAttachIconClass(w||this.$MercuryAttachmentSnippet5[0].icon_type),z=c('joinClasses')(y,"uiIconText _3l6h");return c('React').createElement('span',{key:x},c('React').createElement('span',{className:z},c('React').createElement(c('Image.react'),{src:i("86988")})),v);}.bind(this),this.$MercuryAttachmentSnippet14=function(v){var w=c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').ERROR,this.$MercuryAttachmentSnippet18,v);return this.$MercuryAttachmentSnippet17(w);}.bind(this),this.$MercuryAttachmentSnippet2=function(v){this.$MercuryAttachmentSnippet19=v.viewer;this.$MercuryAttachmentSnippet20=v.thread.snippet_sender;this.$MercuryAttachmentSnippet5=v.thread.snippet_attachments;this.$MercuryAttachmentSnippet18=p(this.$MercuryAttachmentSnippet20,this.$MercuryAttachmentSnippet19);}.bind(this),this.$MercuryAttachmentSnippet1=function(v){if(!v)return;this.$MercuryAttachmentSnippet3();if(!c('MercuryParticipants').getNow(v))this.$MercuryAttachmentSnippet21=c('MercuryParticipants').get(v,function(w){return this.forceUpdate();}.bind(this));}.bind(this),this.$MercuryAttachmentSnippet3=function(){this.$MercuryAttachmentSnippet21&&this.$MercuryAttachmentSnippet21.remove();}.bind(this),r;}n.prototype.componentWillMount=function(){this.$MercuryAttachmentSnippet1(this.props.thread.snippet_sender);this.$MercuryAttachmentSnippet2(this.props);};n.prototype.componentWillReceiveProps=function(q){this.$MercuryAttachmentSnippet1(q.thread.snippet_sender);this.$MercuryAttachmentSnippet2(q);};n.prototype.componentWillUnmount=function(){this.$MercuryAttachmentSnippet3();};n.prototype.render=function(){var q=this.$MercuryAttachmentSnippet4(),r=c('MercuryAttachmentSnippetRenderer').getAttachmentSnippetType(this.$MercuryAttachmentSnippet5);switch(r){case c('MercuryAttachmentSnippetType').PHOTO:return this.$MercuryAttachmentSnippet6(q);case c('MercuryAttachmentSnippetType').GIF:return this.$MercuryAttachmentSnippet7(q);case c('MercuryAttachmentSnippetType').VIDEO:return this.$MercuryAttachmentSnippet8(q);case c('MercuryAttachmentSnippetType').AUDIO_CLIP:return this.$MercuryAttachmentSnippet9(q);case c('MercuryAttachmentSnippetType').LIKE_STICKER:return this.$MercuryAttachmentSnippet10(q);case c('MercuryAttachmentSnippetType').STICKER:return this.$MercuryAttachmentSnippet11(q);case c('MercuryAttachmentSnippetType').SHARE:return this.$MercuryAttachmentSnippet12(q);case c('MercuryAttachmentSnippetType').GIFT:return this.$MercuryAttachmentSnippet13(q);case c('MercuryAttachmentSnippetType').ERROR:return this.$MercuryAttachmentSnippet14(q);case c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER:return this.$MercuryAttachmentSnippet15(q);default:return this.$MercuryAttachmentSnippet16(q);}};n.prototype.$MercuryAttachmentSnippet10=function(q){var r=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,text:c('EmoticonsList').symbols.like});if(this.$MercuryAttachmentSnippet18){return c('React').createElement('span',null,j._("You: {conversation_snippet}",[j.param('conversation_snippet',r)]));}else return this.props.thread.is_canonical?c('React').createElement('span',null,j._("{conversation_snippet}",[j.param('conversation_snippet',r)])):c('React').createElement('span',null,j._("{sender name}: {conversation_snippet}",[j.param('sender name',q),j.param('conversation_snippet',r)]));};n.prototype.$MercuryAttachmentSnippet4=function(){if(!this.$MercuryAttachmentSnippet20||this.$MercuryAttachmentSnippet18)return null;var q=c('MercuryParticipants').getNow(this.$MercuryAttachmentSnippet20);if(!q)return null;var r=c('MercuryIDs').getUserIDFromParticipantID(this.$MercuryAttachmentSnippet20),s=this.props.thread.custom_nickname&&this.props.thread.custom_nickname[r];if(s)s=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:s});return s?s:q.short_name;};n.propTypes={thread:m.object.isRequired,viewer:m.string.isRequired};function o(q){return q==c('StickerConstants').LIKE_STICKER_ID||q==c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID||q==c('StickerConstants').HOT_LIKE_MEDIUM_STICKER_ID||q==c('StickerConstants').HOT_LIKE_LARGE_STICKER_ID;}function p(q,r){return !!(q&&c('MercuryIDs').getParticipantIDFromUserID(r)==q);}f.exports=n;}),null);
__d('MNAdsLogMessageUtils',['MercuryConfig','MessagingTag','MessengerAdsWebTypedLogger','MNAdsLoggerEventEnum','AdPageMessageTypeEnum'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryConfig').LOG_INTERVAL_MS||60000;function i(){this.$MNAdsLogMessageUtils1={};}i.prototype.isLoggedWithinInterval=function(j){if(this.$MNAdsLogMessageUtils1[j]&&this.$MNAdsLogMessageUtils1[j]-Date.now()<h)return true;return false;};i.prototype.setLoggingTime=function(j){this.$MNAdsLogMessageUtils1[j]=Date.now();};i.prototype.logAdsThreadListImpression=function(j){switch(j.folder){case c('MessagingTag').INBOX:this.logWithThreadMetaData(j,c('MNAdsLoggerEventEnum').MESSAGE_SEEN_INBOX);break;case c('MessagingTag').PENDING:this.logWithThreadMetaData(j,c('MNAdsLoggerEventEnum').MESSAGE_SEEN_REQUEST);break;default:return;}};i.prototype.logWithThreadMetaData=function(j,event){if(j.last_message_type!==c('AdPageMessageTypeEnum').NON_AD){var k=j.last_message_timestamp+String(event);if(!c('MercuryConfig').MercuryThreadListEnableImpressionLog||this.isLoggedWithinInterval(k))return;new (c('MessengerAdsWebTypedLogger'))().setEvent(event).setMessageTimestamp(j.last_message_timestamp).setPageID(j.other_user_fbid).log();this.setLoggingTime(k);}};f.exports=new i();}),null);
__d('MercuryThreadSnippet.react',['cx','fbt','immutable','MercuryAttachmentSnippet.react','MercuryIDs','MessengerTextWithEmoticons.react','MNAdsLogMessageUtils','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.shouldComponentUpdate=function(p){return this.props.shouldRenderYou!==p.shouldRenderYou||this.props.thread!==p.thread||this.props.viewer!==p.viewer||this.props.className!==p.className||!c('immutable').is(p.participants,this.props.participants);};m.prototype.render=function(){return c('React').createElement('span',{className:this.props.className},this.$MercuryThreadSnippet1(),this.$MercuryThreadSnippet2());};m.prototype.$MercuryThreadSnippet1=function(){if(!this.props.thread.snippet||!n(this.props.thread))return null;return c('React').createElement('span',{className:"_j0r"});};m.prototype.$MercuryThreadSnippet2=function(){var p=this.props.thread,q=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),r=p.snippet,s=this.props.shouldRenderYou;if(p.snippetCount!=null)return i._({"*":"{number} results","268435456":"1 result"},[i.plural(p.snippetCount,'number')]);if(p.snippet_attachments&&p.snippet_attachments.length>0||!p.snippet_sender)return this.$MercuryThreadSnippet3(r);var t=this.$MercuryThreadSnippet3(r);c('MNAdsLogMessageUtils').logAdsThreadListImpression(p);var u=o(p);if(u)return i._("{name}: {conversation_snippet}",[i.param('name',u),i.param('conversation_snippet',t)]);if(p.snippet_sender===q){if(!s)return t;return i._("You: {conversation_snippet}",[i.param('conversation_snippet',t)]);}if(c('MercuryIDs').isCanonical(p.thread_id)&&!this.props.shouldAlwaysRenderSender)return t;var v=this.props.participants.get(p.snippet_sender);if(!v)return t;var w=v.short_name||v.name;if(p){var x=p.custom_nickname?p.custom_nickname:null,y=c('MercuryIDs').getUserIDFromParticipantID(v.id);if(x&&y&&x[y])w=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:x[y]});}if(!w)return t;return i._("{name}: {conversation_snippet}",[i.param('name',w),i.param('conversation_snippet',t)]);};m.prototype.$MercuryThreadSnippet3=function(p){if(p&&p.startsWith('?OTR'))return i._("[encrypted message]");if(p)return c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:p.replace(/\r\n|[\r\n]/g,' ')});var q=this.props.thread;if(n(q))return c('React').createElement(c('MercuryAttachmentSnippet.react'),{thread:q,viewer:this.props.viewer});return null;};function m(){j.apply(this,arguments);}m.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,shouldAlwaysRenderSender:l.bool,shouldRenderYou:l.bool,thread:l.object.isRequired,viewer:l.string.isRequired};function n(p){return !!(p.snippet_attachments&&p.snippet_attachments.length>0);}function o(p){if(p&&p.snippet_attachments&&p.snippet_attachments[0]&&p.snippet_attachments[0].share&&p.snippet_attachments[0].share.target&&p.snippet_attachments[0].share.target.genie_name)return p.snippet_attachments[0].share.target.genie_name;return null;}f.exports=m;}),null);
__d('MercuryOrderedThreadlist',['invariant','FBID','LogHistory','MercuryActionType','MercuryDispatcher','MercuryFilters','MercuryFolders','MercuryPayloadSource','MercuryServerRequests','MercurySingletonProvider','MercuryThreadIDMap','MessagingTag','PageMessageEnumTag','RangedCallbackManager','MercuryThreadInformer','MercuryThreads','arrayContains'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('LogHistory').getInstance('ordered_threadlist_model'),j=c('MercuryFilters').getSupportedFilters().concat([c('MercuryFilters').ALL,c('MessagingTag').GROUPS]),k=c('MercuryFolders').getSupportedFolders().concat([c('MessagingTag').SPAM]);l.getForFBID=function(o){return n.getForFBID(o);};l.get=function(){return n.get();};function l(o){this.$MercuryOrderedThreadlist1=o;this.$MercuryOrderedThreadlist2=c('MercuryThreadIDMap').getForFBID(this.$MercuryOrderedThreadlist1);this.$MercuryOrderedThreadlist3=c('MercuryThreadInformer').getForFBID(this.$MercuryOrderedThreadlist1);this.$MercuryOrderedThreadlist4=c('MercuryThreads').getForFBID(this.$MercuryOrderedThreadlist1);this.$MercuryOrderedThreadlist5=c('MercuryDispatcher').getForFBID(this.$MercuryOrderedThreadlist1);this.$MercuryOrderedThreadlist6={};this.$MercuryOrderedThreadlist7();this.$MercuryOrderedThreadlist5.subscribe('update-threadlist',function(p,q){if(!m(q))return;var r=q.ordered_threadlists;if(r&&r.length){this.$MercuryOrderedThreadlist8(r);}else{var s=(q.actions||[]).filter(function(t){return t.thread_id;});this.$MercuryOrderedThreadlist9(q.threads||[]);this.$MercuryOrderedThreadlist10(s);}this.$MercuryOrderedThreadlist3.updatedThreadlist();}.bind(this));this.$MercuryOrderedThreadlist5.subscribe('invalidate-global-state',function(){return this.$MercuryOrderedThreadlist11();}.bind(this));}l.prototype.getThreadlistOrderMap=function(o,p){if(!this.$MercuryOrderedThreadlist6[o][p]){j=j.concat([p]);k.forEach(function(q){this.$MercuryOrderedThreadlist6[q][p]=new (c('RangedCallbackManager'))(function(r){var s=this.$MercuryOrderedThreadlist4.getThreadMetaNow(r);return s&&s.timestamp;}.bind(this),function(r,s){return s-r;},this.$MercuryOrderedThreadlist2.canLinkExternally.bind(this.$MercuryOrderedThreadlist2));}.bind(this));}return this.$MercuryOrderedThreadlist6[o][p];};l.prototype.getThreadlist=function(o,p,q,r,s,t){return this.getFilteredThreadlist(o,p,q,c('MercuryFilters').ALL,r,s,t);};l.prototype.getFilteredThreadlist=function(o,p,q,r,s,t,u){var v=this.getThreadlistOrderMap(q,r),w=v.executeOrEnqueue(o,p,s,t),x=v.getUnavailableResources(w),y=v.getError(o,p,t);if(x.length||y){if(v.getCurrentArraySize()<o){var z={start:o,limit:p,filter:r,resources_size:v.getCurrentArraySize()};i.warn('range_with_gap',JSON.stringify(z));}v.setError(false);this.getServerRequests().fetchThreadlistInfo(v.getCurrentArraySize(),x.length,q,r==c('MercuryFilters').ALL?null:r,u);}return w;};l.prototype.getServerRequests=function(){return c('MercuryServerRequests').getForFBID(this.$MercuryOrderedThreadlist1);};l.prototype.getThreadlistUntilTimestamp=function(o,p,q){q=q||c('MercuryFilters').ALL;return this.getThreadlistOrderMap(p,q).getElementsUntil(o);};l.prototype.getAvailableThreadlistNow=function(o,p){p=p||c('MercuryFilters').ALL;return this.getThreadlistOrderMap(o,p).getAllResources();};l.prototype.getThreadCount=function(o,p){p=p||c('MercuryFilters').ALL;return this.getThreadlistOrderMap(o,p).getCurrentArraySize();};l.prototype.hasLoadedThreadlist=function(o,p){p=p||c('MercuryFilters').ALL;return this.getThreadlistOrderMap(o,p).hasReachedEndOfArray();};l.prototype.unsubscribe=function(o,p,q){q=q||c('MercuryFilters').ALL;this.getThreadlistOrderMap(p,q).unsubscribe(o);};l.prototype.$MercuryOrderedThreadlist11=function(){this.$MercuryOrderedThreadlist6={};this.$MercuryOrderedThreadlist7();};l.prototype.$MercuryOrderedThreadlist7=function(){k.forEach(function(o){this.$MercuryOrderedThreadlist6[o]={};j.forEach(function(p){this.$MercuryOrderedThreadlist6[o][p]=new (c('RangedCallbackManager'))(function(q){var r=this.$MercuryOrderedThreadlist4.getThreadMetaNow(q);return r&&r.timestamp;}.bind(this),function(q,r){return r-q;},this.$MercuryOrderedThreadlist2.canLinkExternally.bind(this.$MercuryOrderedThreadlist2));}.bind(this));}.bind(this));};l.prototype.$MercuryOrderedThreadlist12=function(o,p,q){var r=this.$MercuryOrderedThreadlist4.getThreadMetaNow(o);return !!(r&&r.timestamp&&q&&p&&this.$MercuryOrderedThreadlist13(o)==p&&c('arrayContains')(this.$MercuryOrderedThreadlist14(o),q));};l.prototype.$MercuryOrderedThreadlist15=function(o,p,q){var r,s=this,t=[],u=false,v=false,w=(o||[]).filter(function(aa){var ba=aa.filter||c('MercuryFilters').ALL;return (aa.folder==p||!aa.folder&&p==c('MessagingTag').INBOX)&&ba==q;}),x=this.$MercuryOrderedThreadlist6[p][q].getAllResources(),y=void 0;w.forEach(function(aa){t=t.concat(aa.thread_ids);if(aa.error){if(aa.end>x.length)v=aa.error;}else{var ba=aa.end-aa.start;if(aa.thread_ids.length<ba)u=true;}if(!y||aa.end>y)y=aa.end;});this.$MercuryOrderedThreadlist16(t,p,q);if(u){this.$MercuryOrderedThreadlist6[p][q].setReachedEndOfArray();}else if(v){this.$MercuryOrderedThreadlist6[p][q].setError(v);}else{var z=this.$MercuryOrderedThreadlist6[p][q].getCurrentArraySize();if(y&&z<y)(function(){var aa={},ba=x.concat(t),ca=ba.filter(function(da){var ea=aa[da];aa[da]=true;return ea;});if(ca.length){i.warn('duplicate_threads',JSON.stringify({folder:p,expected_final_size:y,actual_final_size:z,duplicate_thread_ids:ca}));s.getServerRequests().fetchThreadlistInfo(y,ca.length,p,q==c('MercuryFilters').ALL?null:q);}})();}};l.prototype.$MercuryOrderedThreadlist8=function(o){k.forEach(function(p){j.forEach(function(q){this.$MercuryOrderedThreadlist15(o,p,q);}.bind(this));}.bind(this));};l.prototype.$MercuryOrderedThreadlist10=function(o){var p={},q=this.$MercuryOrderedThreadlist4;k.forEach(function(r){p[r]={};j.forEach(function(s){p[r][s]={to_add:[],to_remove:[],to_remove_if_last_after_add:{}};});});o.forEach(function(r){var s=r.thread_id;this.$MercuryOrderedThreadlist17(s,function(t){this.$MercuryOrderedThreadlist18(s,function(u){var v=function(){u.forEach(function(x){if(!c('arrayContains')(j,x))return;!!t||h(0);p[t][x].to_add.push(s);if(!this.$MercuryOrderedThreadlist6[t][x].hasReachedEndOfArray()&&!this.$MercuryOrderedThreadlist6[t][x].hasResource(s))p[t][x].to_remove_if_last_after_add[s]=true;}.bind(this));}.bind(this);function w(x){!!t||h(0);if(c('arrayContains')(j,x))if(c('arrayContains')(u,x)){p[t][x].to_add.push(s);}else p[t][x].to_remove.push(s);}if(!t){if(r.action_type===c('MercuryActionType').CHANGE_FOLDER||r.action_type===c('MercuryActionType').CHANGE_ARCHIVED_STATUS)k.forEach(function(x){if(x!==t)j.forEach(function(y){this.$MercuryOrderedThreadlist6[x][y].removeResources([s]);}.bind(this));}.bind(this));return;}!!t||h(0);switch(r.action_type){case c('MercuryActionType').DELETE_THREAD:u.forEach(function(x){if(!c('arrayContains')(j,x))return;p[t][x].to_remove.push(s);});break;case c('MercuryActionType').CHANGE_ARCHIVED_STATUS:case c('MercuryActionType').CHANGE_FOLDER:v();break;case c('MercuryActionType').CHANGE_READ_STATUS:w(c('MessagingTag').UNREAD);break;case c('MercuryActionType').USER_GENERATED_MESSAGE:case c('MercuryActionType').LOG_MESSAGE:u.forEach(function(x){if(!c('arrayContains')(j,x))return;if(this.$MercuryOrderedThreadlist12(s,t,x))p[t][x].to_add.push(s);}.bind(this));break;case c('MercuryActionType').CHANGE_FLAG:w(c('PageMessageEnumTag').FLAG);break;}}.bind(this));}.bind(this));}.bind(this));k.forEach(function(r){j.forEach(function(s){var t=this.$MercuryOrderedThreadlist6[r][s];this.$MercuryOrderedThreadlist16(p[r][s].to_add,r,s);for(var u=t.getCurrentArraySize()-1;u>=0;u--){var v=t.getResourceAtIndex(u);if(!p[r][s].to_remove_if_last_after_add[v])break;p[r][s].to_remove.push(v);}t.removeResources(p[r][s].to_remove);}.bind(this));}.bind(this));};l.prototype.$MercuryOrderedThreadlist9=function(o){var p={};k.forEach(function(q){p[q]={};j.forEach(function(r){p[q][r]=[];});});o.forEach(function(q){this.$MercuryOrderedThreadlist17(q.thread_id,function(r){this.$MercuryOrderedThreadlist18(q.thread_id,function(s){if(r)s.forEach(function(t){if(this.$MercuryOrderedThreadlist12(q.thread_id,r,t))p[r][t].push(q.thread_id);}.bind(this));}.bind(this));}.bind(this));}.bind(this));k.forEach(function(q){j.forEach(function(r){if(p[q][r].length>0)this.$MercuryOrderedThreadlist16(p[q][r],q,r);}.bind(this));}.bind(this));};l.prototype.$MercuryOrderedThreadlist16=function(o,p,q){q=q||c('MercuryFilters').ALL;this.$MercuryOrderedThreadlist6[p][q].addResources(o);k.forEach(function(r){if(r!=p)this.$MercuryOrderedThreadlist6[r][q].removeResources(o);}.bind(this));};l.prototype.$MercuryOrderedThreadlist17=function(o,p){this.$MercuryOrderedThreadlist4.getThreadMeta(o,function(q){p(this.$MercuryOrderedThreadlist13(o,q));}.bind(this));};l.prototype.$MercuryOrderedThreadlist13=function(o,p){p=p||this.$MercuryOrderedThreadlist4.getThreadMetaNow(o);var q=null;if(!p){q='No thread metadata';}else if(!p.folder)q='No thread folder';if(q){var r={error:q,tid:o};i.warn('no_thread_folder',JSON.stringify(r));return null;}!!p||h(0);var s=p.folder;if(p.is_archived)s=c('MessagingTag').ACTION_ARCHIVED;if(this.$MercuryOrderedThreadlist6[s]){return s;}else return null;};l.prototype.$MercuryOrderedThreadlist18=function(o,p){this.$MercuryOrderedThreadlist4.getThreadMeta(o,function(q){p(this.$MercuryOrderedThreadlist14(o,q));}.bind(this));};l.prototype.$MercuryOrderedThreadlist14=function(o,p){p=p||this.$MercuryOrderedThreadlist4.getThreadMetaNow(o);var q=[c('MercuryFilters').ALL];if(!p){var r={error:'no_thread_metadata',tid:o};i.warn('no_thread_metadata',JSON.stringify(r));return [];}if(p.unread_count)q.push(c('MessagingTag').UNREAD);if(!p.is_canonical)q.push(c('MessagingTag').GROUPS);var s=p.page_thread_info;if(s&&s.flagged)q.push(c('PageMessageEnumTag').FLAG);return q;};function m(o){switch(o.payload_source){case c('MercuryPayloadSource').CLIENT_CHANGE_ARCHIVED_STATUS:case c('MercuryPayloadSource').CLIENT_CHANGE_READ_STATUS:case c('MercuryPayloadSource').CLIENT_CHANGE_FOLDER:case c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE:case c('MercuryPayloadSource').CLIENT_DELETE_MESSAGES:case c('MercuryPayloadSource').CLIENT_DELETE_THREAD:case c('MercuryPayloadSource').CLIENT_SEND_MESSAGE:case c('MercuryPayloadSource').SERVER_SEND_MESSAGE:case c('MercuryPayloadSource').SERVER_FETCH_THREADLIST_INFO:case c('MercuryPayloadSource').SERVER_THREAD_SYNC:case c('MercuryPayloadSource').SERVER_INVALIDATE_GLOBAL_STATE:return true;case c('MercuryPayloadSource').SERVER_INITIAL_DATA:return !!o.ordered_threadlists;default:return false;}}var n=new (c('MercurySingletonProvider'))(l);f.exports=l;}),null);
__d('MercuryThreadMetadataRawRenderer',['cx','fbt','Event','CSS','DOM','MercuryActionStatus','MercuryErrorInfo','MercuryStatusTemplates','TooltipData'],(function a(b,c,d,e,f,g,h,i){var j={renderParticipantListWithNoThreadName:function k(l,m,n,o,p,q){var r={callback:true,check_length:true,show_unread_count:true};q=q||{};var s={};for(var t in q)if(r[t]){s[t]=q[t];delete q[t];}var u=n.map(function(z){return o[z];}),v=this.renderRawParticipantList(l,u,n.length,q);v=this.renderRawTitleWithUnreadCount(v,s.show_unread_count?m.unread_count:0);var w=q.abbr_mode,x={};for(var y in q)x[y]=q[y];x.abbr_mode=true;p.forEach(function(z){var aa=p.length>1?this._cloneIfDOMElement(v):v;c('DOM').setContent(z,aa);if(s.check_length&&!w&&z.scrollWidth>z.clientWidth){var ba=this.renderRawParticipantList(l,u,n.length,x),ca=this.renderRawTitleWithUnreadCount(ba,s.show_unread_count?m.unread_count:0);c('DOM').setContent(z,ca);}}.bind(this));s.callback&&s.callback(v);},renderRawParticipantList:function k(l,m,n,o){var p={abbr_mode:true,last_separator_uses_and:true,names_renderer:true};o=o||{};var q=null;if(o.names_renderer){q=o.names_renderer(m);}else q=m.map(function(s){return s.name;});var r=null;if(q.length===0){if(!l){r=i._("New Message");}else r=i._("No Participants");}else if(q.length==1){r=q[0];}else if(q.length==2){if(o.last_separator_uses_and){r=i._("{participant1} and {participant2}",[i.param('participant1',q[0]),i.param('participant2',q[1])]);}else r=i._("{participant1}, {participant2}",[i.param('participant1',q[0]),i.param('participant2',q[1])]);}else if(o.last_separator_uses_and){if(o.abbr_mode){r=i._("{participant1} and {others_link}",[i.param('participant1',q[0]),i.param('others_link',this.renderRawParticipantCount({render_subset:true,count:n-1}))]);}else if(q.length==3){r=i._("{participant1}, {participant2} and {participant3}",[i.param('participant1',q[0]),i.param('participant2',q[1]),i.param('participant3',q[2])]);}else r=i._("{participant1}, {participant2} and {others_link}",[i.param('participant1',q[0]),i.param('participant2',q[1]),i.param('others_link',this.renderRawParticipantCount({render_subset:true,count:n-2}))]);}else if(q.length==3){r=i._("{participant1}, {participant2}, {participant3}",[i.param('participant1',q[0]),i.param('participant2',q[1]),i.param('participant3',q[2])]);}else r=i._("{participant1}, {participant2}, {participant3}, {others_link}",[i.param('participant1',q[0]),i.param('participant2',q[1]),i.param('participant3',q[2]),i.param('others_link',this.renderRawParticipantCount({render_subset:true,count:n-3}))]);if(Array.isArray(r))r=c('DOM').create('span',{},r);return r;},renderRawTitleWithUnreadCount:function k(l,m){var n=l;if(m&&m>1)n=c('DOM').create('span',{},i._("{conversation_title} ({unread_count})",[i.param('conversation_title',l),i.param('unread_count',m)]));return n;},renderRawParticipantCount:function k(l){var m=l.render_subset,n;if(!m){n=l.count>1?i._({"*":"{num} people"},[i.param('num',l.count,[0])]):i._("1 person");}else n=l.count>1?i._({"*":"{others_count} others"},[i.param('others_count',l.count,[0])]):i._("1 other");return n;},renderShortNames:function k(l){if(l.length==1)return [l[0].name];return l.map(function(m){return m.short_name;});},renderStatusIndicator:function k(l,m,n){var o;if(l==c('MercuryActionStatus').RESENDING){o=this.renderResendIndicator();}else if(l!==undefined&&l!=c('MercuryActionStatus').UNSENT&&l!=c('MercuryActionStatus').UNCONFIRMED&&l!=c('MercuryActionStatus').SUCCESS)o=this.renderErrorIndicator(m,n);return o;},renderResendIndicator:function k(){return c('MercuryStatusTemplates')[':fb:mercury:resend-indicator'].render();},renderErrorIndicator:function k(l,m){if(!l)return null;var n=c('MercuryStatusTemplates')[':fb:mercury:error-indicator'].render(),o=l.is_transient,p=c('MercuryErrorInfo').getMessage(l);if(o)if(c('MercuryErrorInfo').isConnectionError(l)){p=i._("{message} Check your internet connection and click to try again.",[i.param('message',p)]);}else p=i._("{message} Click to send again.",[i.param('message',p)]);c('TooltipData').set(n,p,'above','center');if(m&&o){c('Event').listen(n,'click',m);n.setAttribute('tabindex','0');c('CSS').addClass(n,"_55q-");}return n;},_cloneIfDOMElement:function k(l){if(l&&l.cloneNode){return l.cloneNode();}else return l;}};f.exports=j;}),null);
__d('MercurySearchSnippetResults',['MessengerEnvironment','MercuryAPIArgsSource','MercuryIDs','MercurySingletonMixin','MercuryThreadlistConstants','MercuryThreadIDMap','RangedCallbackManager','MercuryServerDispatcher','MercuryServerPayloadPreprocessor'],(function a(b,c,d,e,f,g){var h=c('MessengerEnvironment').messengerui?c('MercuryAPIArgsSource').MESSENGER:c('MercuryAPIArgsSource').WEBMESSENGER,i={},j={},k=null,l=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_COUNT,m=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_LIMIT,n=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_MORE;function o(x){'use strict';this.$MercurySearchSnippetResults1=x;this.$MercurySearchSnippetResults2=c('MercuryServerPayloadPreprocessor').getForFBID(x);c('MercuryServerDispatcher').registerEndpoints({'/ajax/mercury/search_snippets.php':{request_user_id:x,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(y){this.handleUpdate(y);}.bind(this)}});this.$MercurySearchSnippetResults3=c('MercuryThreadIDMap').getForFBID(x);}o.prototype.getFBID=function(){'use strict';return this.$MercurySearchSnippetResults1;};o.prototype.getThreadIDMap=function(){'use strict';return this.$MercurySearchSnippetResults3;};o.prototype.getAllThreadSearchResults=function(x,y){'use strict';if(x)p(this.$MercurySearchSnippetResults1,x,m,0,y);};o.prototype.getAllThreadSearchMoreResults=function(x,y){'use strict';if(x){var z=i[x];if(z){var aa=z.getCurrentArraySize();p(this.$MercurySearchSnippetResults1,x,n,aa,y);}}};o.prototype.getSingleThreadSearchResults=function(x,y,z){'use strict';if(!x||!y)return;q.call(this,x,y,l,0,z);};o.prototype.getSingleThreadSearchMoreResults=function(x,y,z){'use strict';if(!x||!y)return;if(!j[y])return;var aa=j[y][x];if(aa){var ba=aa.num_total_snippets,ca=aa.snippets_cbm.getCurrentArraySize(),da=ba-ca;if(da>0){var ea=da>n?n:da;q.call(this,x,y,ea,ca,z);}}};o.prototype.countSnippetsMatchingQueryInThread=function(x,y){'use strict';var z=j[y][x];if(z)return z.num_total_snippets;};o.prototype.findIndexOfSnippet=function(x,y,z,aa){'use strict';var ba=v(x,y),ca=ba.getAllResources();for(var da=0;da<ca.length;da++)if(z===ca[da].message_id)return da;};o.prototype.findSnippetAtIndex=function(x,y,z,aa){'use strict';s(x,y,z);t.call(this,x,y,z,aa);};o.prototype.handleUpdate=function(x){'use strict';if(x.mercury_payload)this.$MercurySearchSnippetResults2.handleUpdate(x.mercury_payload);var y=x.search_snippets||{};Object.keys(y).filter(function(oa){return !!y[oa];}).forEach(function(oa){Object.keys(y[oa]).forEach(function(pa){if(!y[oa][pa].snippets)return;y[oa][pa].snippets.forEach(function(qa){qa.matched_keywords=r(qa.matched_keywords);});});});var z=x.offset,aa=[];for(var ba in y){var ca=y[ba];for(var da in ca){var ea=ca[da],fa=x.other_user_fbid||x.thread_fbid,ga=this.$MercurySearchSnippetResults3.getClientIDFromServerIDNow(da),ha=ea.snippets,ia=v(ba,ga),ja=ia.getCurrentArraySize();if(!fa){aa.push(ga);if(ja)continue;}else if(z!=ja)continue;var ka=j[ga][ba];ka.num_total_snippets=ea.num_total_snippets;var la=ha?ha.length:0;if(la>0)ia.addResourcesWithoutSorting(ha,ja);if(!fa||x.limit>la)if(ia.getCurrentArraySize()==ka.num_total_snippets)ia.setReachedEndOfArray();}if(!fa){var ma=u(ba),na=ma.getCurrentArraySize();if(z==na){ma.addResourcesWithoutSorting(aa,na);if(x.limit>aa.length)ma.setReachedEndOfArray();}}}};function p(x,y,z,aa,ba){if(k)if(!k.thread_id){var ca=u(k.query);ca.unsubscribe(k.subscriber_id);k=null;}var ca=u(y),da=aa+z,ea=ca.executeOrEnqueue(0,da,function(ha){var ia={};for(var ja=0;ja<ha.length;ja++){var ka=ha[ja],la=j[ka][y];ia[ka]={num_total_snippets:la.num_total_snippets,snippets:la.snippets_cbm.getAllResources()};}var ma=ca.hasReachedEndOfArray();ba(ia,ma);}),fa=ca.getUnavailableResources(ea);if(fa.length){k={query:y,thread_id:null,subscriber_id:ea};var ga={query:y,offset:aa,limit:z+1,snippetLimit:l};ga.identifier='thread_fbid';w(ga,x);}}function q(x,y,z,aa,ba){if(k)if(k.thread_id){var ca=v(k.query,k.thread_id);ca.unsubscribe(k.subscriber_id);k=null;}var ca=v(x,y),da=aa+z,ea=ca.executeOrEnqueue(0,da,function(){var ka=ca.getAllResources(),la=j[y][x].num_total_snippets;ba(ka,la);}),fa=ca.getUnavailableResources(ea);if(fa.length){k={query:x,thread_id:y,subscriber_id:ea};var ga={query:x,snippetOffset:aa,snippetLimit:z},ha=this.getThreadIDMap().getServerIDFromClientIDNow(y),ia=c('MercuryIDs').tokenize(y),ja=ia.type;if(ja=='user'){ga.other_user_fbid=ha;}else ga.thread_fbid=ha;ga.identifier='thread_fbid';w(ga,this.getFBID());}}function r(x){if(x instanceof Array){var y={};for(var z=0;z<x.length;z++)y[z.toString()]=x[z];return y;}else return x;}function s(x,y,z){}function t(x,y,z,aa){var ba=j[y][x],ca=ba.snippets_cbm.getAllResources(),da=ba.num_total_snippets,ea=ca.length;if(z<ea){aa(ca[z].message_id);return;}var fa=da-ea,ga=fa>n?n:fa;q.call(this,x,y,ga,ea,function(ha,ia){t.call(this,x,y,z,aa);});}function u(x){if(!i[x])i[x]=new (c('RangedCallbackManager'))();return i[x];}function v(x,y){if(!j[y])j[y]={};var z=j[y][x];if(!z){z={num_total_snippets:-1,snippets_cbm:new (c('RangedCallbackManager'))()};j[y][x]=z;}return z.snippets_cbm;}function w(x,y){x.client=h;c('MercuryServerDispatcher').trySend('/ajax/mercury/search_snippets.php',x,null,y);}Object.assign(o,c('MercurySingletonMixin'));f.exports=o;}),null);
__d('MessagingRecipientTypeaheadItem.react',['cx','BackgroundImage.react','ChatTypeaheadConstants','ImageBlock.react','LeftRight.react','React','SplitImage.react','MercuryThreadMetadataRawRenderer','TypeaheadViewItem','joinClasses','Keys'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessagingRecipientTypeaheadItem',propTypes:babelHelpers['extends']({},c('TypeaheadViewItem').propTypes,{imageSize:i.number.isRequired}),mixins:[c('TypeaheadViewItem').Mixin],isThreadRecipient:function k(){return this.props.entry.getType()===c('ChatTypeaheadConstants').THREAD_TYPE;},_getImage:function k(){var l=this.props.entry;if(l.getType()===c('ChatTypeaheadConstants').THREAD_TYPE&&!l.getPhoto()){var m=l.getAuxiliaryData();return c('React').createElement(c('SplitImage.react'),{size:this.props.imageSize,srcs:m.participantsToRender.map(function(n){return n.image_src;})});}if(l.getPhoto())return c('React').createElement(c('BackgroundImage.react'),{width:this.props.imageSize,height:this.props.imageSize,backgroundSize:'cover',src:l.getPhoto()});return c('React').createElement('span',null);},_getThreadParticipantList:function k(){if(!this.isThreadRecipient())return null;var l=this.props.entry;return c('MercuryThreadMetadataRawRenderer').renderRawParticipantList(l.getUniqueID(),l.getAuxiliaryData().participantsToRender,l.getAuxiliaryData().thread.participants.length-1,{names_renderer:c('MercuryThreadMetadataRawRenderer').renderShortNames});},_getTitle:function k(){var l=this.props.entry;if(this.isThreadRecipient()&&!l.getTitle())return this._getThreadParticipantList();return l.getTitle();},_getSubtitle:function k(){var l=this.props.entry;if(this.isThreadRecipient()&&!l.getTitle())return this._getThreadParticipantList();return l.getSubtitle()?l.getSubtitle().split(' \u00b7 ')[0]:null;},_onKeyDown:function k(event){if(event.keyCode===c('Keys').SPACE||event.keyCode===c('Keys').RETURN){event.preventDefault();this._onSelect(event);}},render:function k(){var l=this._getSubtitle(),m=c('joinClasses')("_599m"+(' '+"_55xn")+(!l?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":''),this.props.className);return c('React').createElement('li',{'aria-selected':this.props.selected,className:m,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,onKeyDown:this._onKeyDown,role:this.props.role},c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},this._getImage(),c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',null,c('React').createElement('div',{className:"_55xt _599p"},this._getTitle()),c('React').createElement('div',{className:"_55z3 _599q"},l)),this.props.children)));}});f.exports=j;}),null);
__d('MessagingRecipientSelectedList.react',['ix','cx','fbt','xuiglyph','Image.react','LeftRight.react','Map','MessagingRecipientTypeaheadItem.react','React'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=c('React').PropTypes;l=babelHelpers.inherits(o,c('React').Component);m=l&&l.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$MessagingRecipientSelectedList1=function(u){var v=h("88982");return c('React').createElement(c('MessagingRecipientTypeaheadItem.react'),{key:u.getUniqueID(),entry:u,imageSize:24,onSelect:this.props.onSelect},c('React').createElement(c('Image.react'),{className:"_1jm4",src:v}));}.bind(this),q;}o.prototype.render=function(){'use strict';var p=j._("Send to:"),q=[];this.props.entries.forEach(function(r){return q.push(this.$MessagingRecipientSelectedList1(r));}.bind(this));return c('React').createElement('div',{className:"_1jm5"},c('React').createElement(c('LeftRight.react'),{className:"_1jm6 _2ph-"},c('React').createElement('span',null,p),c('React').createElement('span',null,this.props.entries.size)),c('React').createElement('ul',null,q));};o.propTypes={entries:n.instanceOf(c('Map')),onSelect:n.func.isRequired};f.exports=o;}),null);
__d('MessagingRecipientTypeaheadView.react',['cx','fbt','CenteredContainer.react','Link.react','Map','MessagingRecipientTypeaheadItem.react','React','TypeaheadViewPropTypes','XUISpinner.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=32;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessagingRecipientTypeaheadView1=function(t){var u=t===this.props.highlightedEntry,v=this.props.selectedEntries.has(t.getUniqueID());return c('React').createElement(c('MessagingRecipientTypeaheadItem.react'),{key:t.getUniqueID(),entry:t,highlighted:u,imageSize:m,selected:v,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight},c('React').createElement(c('Link.react'),{'aria-checked':v,className:"_2i83"+(v?' '+"_2i85":'')+(!v?' '+"_2i86":''),href:'#',role:'checkbox',tabIndex:'0'}));}.bind(this),p;}n.prototype.render=function(){'use strict';if(this.props.entries.length===0&&!this.props.loading)return c('React').createElement(c('CenteredContainer.react'),{className:"_2pi1"},i._("No results"));return c('React').createElement('ul',{id:this.props.ariaOwneeID,className:"_51do",role:this.props.role},this.props.entries.map(this.$MessagingRecipientTypeaheadView1),c('React').createElement('div',{className:"_51dq"},this.props.loading?c('React').createElement(c('XUISpinner.react'),null):null));};n.propTypes=babelHelpers['extends']({},c('TypeaheadViewPropTypes'),{selectedEntries:l.instanceOf(c('Map')),loading:l.bool});n.defaultProps={role:'listbox'};f.exports=n;}),null);
__d('MessagingForwardAttachmentDialog.react',['ix','cx','fbt','AsyncRequest','ChatSearchSource','Image.react','LayerFadeOnHide','Layout.react','Map','MercuryLocalIDs','MessageShareType','MessagingRecipientSelectedList.react','MessagingRecipientTypeaheadView.react','React','SearchableTextInput.react','ScrollableArea.react','XMessagingForwardAttachmentController','XMessengerPlatformShareCTAController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUISpinner.react','fbglyph','requireWeak'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn,o=c('React').PropTypes;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.state={bootstrappedEntries:[],entries:[],loading:true,selectedEntries:new (c('Map'))(),sendError:null,sendErrorRecipientMap:null,sending:false,query:''},this.$MessagingForwardAttachmentDialog2=function(v){var w=v.getUniqueID(),x=new (c('Map'))(this.state.selectedEntries);if(x.has(w)){x['delete'](w);}else x.set(w,v);this.setState({selectedEntries:x,sendError:null,sendErrorRecipientMap:null});}.bind(this),this.$MessagingForwardAttachmentDialog3=function(v){var w=v.target.value;this.setState({loading:true,query:w});}.bind(this),this.$MessagingForwardAttachmentDialog4=function(v){this.setState({entries:v});}.bind(this),this.$MessagingForwardAttachmentDialog5=function(v){v===this.state.query&&this.setState({loading:false});}.bind(this),this.$MessagingForwardAttachmentDialog6=function(){var v={};if(this.state.sendError){v=this.state.sendErrorRecipientMap;}else this.state.selectedEntries.forEach(function(y){var z=c('MercuryLocalIDs').generateOfflineThreadingID();v[z]=y.getUniqueID();});var w=this.$MessagingForwardAttachmentDialog7.bind(this,v);if(this.props.shareType===c('MessageShareType').PLATFORM_SHARE_CTA){var x=c('XMessengerPlatformShareCTAController').getURIBuilder().getURI();new (c('AsyncRequest'))(x).setMethod('POST').setHandler(this.$MessagingForwardAttachmentDialog8).setErrorHandler(w).setData({cta_id:this.props.attachmentID,message_id:this.props.messageID,recipient_map:v}).send();}else{x=c('XMessagingForwardAttachmentController').getURIBuilder().getURI();new (c('AsyncRequest'))(x).setMethod('POST').setHandler(this.$MessagingForwardAttachmentDialog8).setErrorHandler(w).setData({attachment_id:this.props.attachmentID,recipient_map:v}).send();}this.setState({sending:true,sendError:null});}.bind(this),this.$MessagingForwardAttachmentDialog8=function(v){this.setState({bootstrappedEntries:[],selectedEntries:new (c('Map'))(),sending:false,query:''},this.props.onClose);}.bind(this),this.$MessagingForwardAttachmentDialog7=function(v,w){this.setState({sending:false,sendError:w.errorSummary,sendErrorRecipientMap:v});}.bind(this),this.$MessagingForwardAttachmentDialog9=function(v){if(!v)this.props.onClose();}.bind(this),r;}p.prototype.componentWillMount=function(){'use strict';this.$MessagingForwardAttachmentDialog1=new (c('ChatSearchSource'))({queryRequests:[{uri:'/ajax/mercury/composer_query.php'}]});};p.prototype.componentDidMount=function(){'use strict';c('requireWeak')('OrderedFriendsList',function(q){return q.getSearchableEntries(20,function(r){this.setState({bootstrappedEntries:r,loading:false});}.bind(this));}.bind(this));};p.prototype.render=function(){'use strict';var q=j._("Send"),r=null;if(this.state.sending){r=c('React').createElement('div',null,c('React').createElement(c('XUISpinner.react'),null),c('React').createElement('span',{className:"_5s0d _3-99"},j._("Sending")));}else if(this.state.sendError){var s=h("141787");r=c('React').createElement('div',{className:"_5s0d"},c('React').createElement(c('Image.react'),{src:s}),c('React').createElement('span',{className:"_3-99"},this.state.sendError));}var t=j._("Search for people and groups");return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},hideOnEscape:true,onToggle:this.$MessagingForwardAttachmentDialog9,shown:this.props.shown,width:560},c('React').createElement(c('XUIDialogTitle.react'),null,this.props.title),c('React').createElement(c('XUIDialogBody.react'),{useCustomPadding:true},c('React').createElement(c('Layout.react'),null,c('React').createElement(m,{className:"_5s0e"},c('React').createElement('div',{className:"_2ph_"},c('React').createElement(c('SearchableTextInput.react'),{className:"_5s0f autofocus",onChange:this.$MessagingForwardAttachmentDialog3,onEntriesFound:this.$MessagingForwardAttachmentDialog4,placeholder:t,queryString:this.state.query,searchSource:this.$MessagingForwardAttachmentDialog1,searchSourceOptions:{onQueryFinished:this.$MessagingForwardAttachmentDialog5}})),c('React').createElement(c('ScrollableArea.react'),{className:"_5s0g",height:400,width:360},c('React').createElement(c('MessagingRecipientTypeaheadView.react'),{entries:this.state.query?this.state.entries:this.state.bootstrappedEntries,loading:this.state.loading,selectedEntries:this.state.selectedEntries,onSelect:this.$MessagingForwardAttachmentDialog2}))),c('React').createElement(n,{className:"_5s0h"},c('React').createElement(c('ScrollableArea.react'),{height:457,shadow:false},c('React').createElement(c('MessagingRecipientSelectedList.react'),{entries:this.state.selectedEntries,onSelect:this.$MessagingForwardAttachmentDialog2}))))),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:r},c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.props.onClose}),c('React').createElement(c('XUIDialogButton.react'),{use:'confirm',disabled:!this.state.selectedEntries.size||this.state.sending,label:q,onClick:this.$MessagingForwardAttachmentDialog6})));};p.propTypes={attachmentID:o.string.isRequired,messageID:o.string,onClose:o.func,shown:o.bool.isRequired,title:o.string.isRequired,shareType:o.string};p.defaultProps={shareType:c('MessageShareType').IMAGE};f.exports=p;}),null);
__d('P2PBigAmount.react',['cx','ix','MessengerEnvironment','Image.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.getImage=function(){if(this.isMessengerDotCom()){if(this.props.isPending){if(this.props.size==='large'){return i("94389");}else return i("94388");}else if(this.props.size==='large'){return i("94393");}else return i("94387");}else if(this.props.isPending){if(this.props.size==='large'){return i("94392");}else return i("94391");}else if(this.props.size==='large'){return i("94390");}else return i("94394");}.bind(this),this.isMessengerDotCom=function(){return c('MessengerEnvironment').messengerui;},o;}m.prototype.render=function(){var n=this.props.size==='large'?'24':'16';return c('React').createElement('div',{className:"_8j6"+(this.isMessengerDotCom()?' '+"_8j7":'')+(this.props.size==='large'?' '+"_1fv":'')},c('React').createElement('div',{className:"_8j8"},c('React').createElement(c('Image.react'),{height:n,src:this.getImage(),width:n})),c('React').createElement('div',{className:"_8jc"+(this.props.isPending?' '+"_8jd":'')+(this.props.amount.length>=8?' '+"_8je":'')+(' '+"_3oh-")},this.props.amount));};m.propTypes={amount:l.string.isRequired,isPending:l.bool,size:l.oneOf(['medium','large'])};m.defaultProps={size:'medium'};f.exports=m;}),null);