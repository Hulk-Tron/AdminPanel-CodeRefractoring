if (self.CavalryLogger) { CavalryLogger.start_js(["iMk2b"]); }

__d("LiveMapEntryPointsEnum",[],(function a(b,c,d,e,f,g){f.exports={APPS:"bookmarks",FAVORITES:"favorites",ENDSCREEN:"endscreen",TRENDING:"trending",BLUEBAR:"bluebar",NUX:"nux",FACEBAR_TYPEAHEAD:"br_tf",SHAREABLE:"shareable",VIDEO_HOME:"video_home"};}),null);
__d("LiveMapEntryPointsEvent",[],(function a(b,c,d,e,f,g){f.exports={IMPRESSION:"impression",CLICKED:"clicked",EMPTY_UNIT:"empty_unit",VIEWER_COUNT:"viewer_count"};}),null);
__d("TahoeMediaType",[],(function a(b,c,d,e,f,g){f.exports={VIDEO:"video"};}),null);
__d("FeedbackAddStreamingReactionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1251593804932454",queryID:"1015170841921153"});}),null);
__d('FeedbackAddStreamingReactionSubscription',['BaseGraphQLSubscription','FeedbackAddStreamingReactionWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/feedback_add_streaming_reaction_subscribe/feedback_id_'+j;},_getQueryID:function i(){return c('FeedbackAddStreamingReactionWebGraphQLSubscription').getLegacyQueryID();},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),feedback_id:j})};},_getSubscriptionCallName:function i(){return 'feedback_add_streaming_reaction_subscribe';}});f.exports=h;}),null);
__d('LiveMapEntryPointsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:LiveMapEntryPointsLoggerConfig',this.$LiveMapEntryPointsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:LiveMapEntryPointsLoggerConfig',this.$LiveMapEntryPointsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$LiveMapEntryPointsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$LiveMapEntryPointsTypedLogger1=babelHelpers['extends']({},this.$LiveMapEntryPointsTypedLogger1,j);return this;};h.prototype.setEntryPoint=function(j){this.$LiveMapEntryPointsTypedLogger1.entry_point=j;return this;};h.prototype.setEvent=function(j){this.$LiveMapEntryPointsTypedLogger1.event=j;return this;};h.prototype.setVC=function(j){this.$LiveMapEntryPointsTypedLogger1.vc=j;return this;};h.prototype.setViewerCount=function(j){this.$LiveMapEntryPointsTypedLogger1.viewer_count=j;return this;};var i={entry_point:true,event:true,vc:true,viewer_count:true};f.exports=h;}),null);
__d('LiveMapEntryPointsLoggerController',['LiveMapEntryPointsTypedLogger','LiveMapEntryPointsEvent','LiveMapEntryPointsEnum'],(function a(b,c,d,e,f,g){'use strict';var h={logEndscreenImpression:function i(){new (c('LiveMapEntryPointsTypedLogger'))().setEvent(c('LiveMapEntryPointsEvent').IMPRESSION).setEntryPoint(c('LiveMapEntryPointsEnum').ENDSCREEN).log();}};f.exports=h;}),null);
__d('OptimisticVideoProgressBar.react',['cx','fbt','Arbiter','AsyncRequest','BUIProgressBar.react','ChannelConstants','React','Run','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=5000,n='video_encode';j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={videoProgress:0,completed:false,encodeToken:{}},this.inactivityTimer=0,this.checkVideoStatus=function(u){new (c('AsyncRequest'))().setURI('/ajax/video/encode/feedback/ping/').setData({video_id:u}).setHandler(function(v){var w=v.getPayload();if(w.is_ready){this.onEncodeFinished(u);}else this.inactivityTimer=this.startInactivityTimer(u);}.bind(this)).send();}.bind(this),this.startInactivityTimer=function(u){return setTimeout(this.checkVideoStatus.bind(this,u),m);}.bind(this),this.stopInactivityTimer=function(){clearTimeout(this.inactivityTimer);}.bind(this),this.resetInactivityTimer=function(u){this.stopInactivityTimer();this.inactivityTimer=this.startInactivityTimer(u);}.bind(this),this.getChannelType=function(){return c('ChannelConstants').getArbiterType(n);},this.onComplete=function(){c('Arbiter').inform(this.props.onReadyEvent,{videoID:this.props.videoID,videoAssetID:this.props.videoAssetID,source:this.props.source});}.bind(this),this.onEncodeFinished=function(){this.stopInactivityTimer();this.state.encodeToken.unsubscribe();this.setState({videoProgress:100,completed:true});}.bind(this),this.onEncodeUpdate=function(u,v){if(v.obj.videoID!=this.props.videoID)return;this.resetInactivityTimer(this.props.videoID);if(v.obj.progress<this.state.videoProgress)return;if(v.obj.stage==='finish'){this.onEncodeFinished();}else this.setState({videoProgress:v.obj.progress,completed:this.state.completed||v.obj.stage==='finish'});}.bind(this),q;}o.prototype.componentWillMount=function(){'use strict';var p=c('Arbiter').subscribe(this.getChannelType(),this.onEncodeUpdate);c('Run').onLeave(function(){return p.unsubscribe();});this.inactivityTimer=this.startInactivityTimer(this.props.videoID);this.setState({encodeToken:p});};o.prototype.componentWillUnmount=function(){'use strict';this.state.encodeToken.unsubscribe();this.stopInactivityTimer();};o.prototype.componentDidUpdate=function(p,q){'use strict';if(!q.completed&&this.state.completed)this.onComplete();};o.prototype.render=function(){'use strict';var p=i._("FINISHED"),q=i._("PROCESSING"),r=this.state.completed?p:q;return c('React').createElement(c('BUIProgressBar.react'),{className:c('joinClasses')("_33bk",this.props.className),message:r,isComplete:this.state.completed,percentage:this.state.videoProgress,width:this.props.width});};o.propTypes={videoID:l.string.isRequired,videoAssetID:l.string||null,width:l.number.isRequired,onReadyEvent:l.string.isRequired,source:l.string};f.exports=o;}),null);
__d('PagesVideoUnitUtils',['DOMDimensions','LitestandEllipsis'],(function a(b,c,d,e,f,g){var h={setTitleText:function i(j,k){var l=c('DOMDimensions').getElementDimensions(j).height;c('LitestandEllipsis').add(k,l);}};f.exports=h;}),null);
__d('PublicLiveMapConstants',['cx','VideoPlayerLoggerSource'],(function a(b,c,d,e,f,g,h){'use strict';var i={DEFAULT_MAP_ZOOM:4,POPUP_POSITION_OFFSET:[0,0],POPUP_OPEN_TIMEOUT_MS:100,HOVER_INTENT_TIMEOUT_MS:100,DEBOUNCE_TIMER_MS:400,MINIMUM_VIDEO_SIZE_PX:400,COMMENT_INPUT_HEIGHT:48,TOP_N_TO_SHOW_IN_SIDEBAR:20,NUMBER_OF_CACHE_LEVELS:3,NUMBER_OF_VIEWERS_TO_SHOW:200,MARKER_STATUS:{SPECIAL_EVENT:'special_event'},FB_HEADER_HEIGHT:42,BROADCAST_MARKER_OPTIONS:{stroke:false,fill:'true',radius:4,pointerEvents:'all'},NON_INTERACTIVE_MARKER_OPTIONS:{stroke:false,fill:'true',fillOpacity:1,radius:2,pointerEvents:'none'},VIEWER_MARKER_OPTIONS:{stroke:false,fill:'true',fillOpacity:1,radius:3,pointerEvents:'none'},VIEWER_LINE_OPTIONS:{color:'#1c4f8c',weight:.9,opacity:.5,smoothFactor:0,pointerEvents:'none'},DEFAULT_VIDEOPORT_SIZE:{width:900,height:600},VIDEO_PLAYER_DIALOG:{VERT_PADDING:320,HORIZ_PADDING:320,COMMENT_WIDTH:350},TOOLTIP:{OFFSCREEN:-500,DEFAULT:{LEFT:-109,TOP:-110},BOUNDS:{LEFT_LIMIT:180,RIGHT_LIMIT:250,TOP_LIMIT:290},VIDEO_DIMENSIONS:{MAX_WIDTH:368,TOOLTIP_SIZE:218},DESCRIPTION_LINE_LENGTH:30,DESCRIPTION_LINE_HEIGHT:20,LEFT_EDGE_ADJUST:5,RIGHT_EDGE_ADJUST:-10,TOP_EDGE_ADJUST:28,SIDEBAR:{TOP:310,LEFT:265,RIGHT:'auto'}},MAP_CENTER_OPTIONS:{AMERICAS_CENTER:[17,-40],AFRO_EURO_CENTER:[20,0],APAC_CENTER:[10,116]},MAP_BOUNDS:[[-85,-Infinity],[85,+Infinity]],STANDARD_MAP_BOUNDS:{x:-180,y:-90,width:360,height:180},STANDARD_MAP_SEARCH_BOX:{x1:-180,y1:-90,x2:180,y2:90},POPULARITY_MARKERS:{ONE:{className:"_3avk _3avl",iconSize:[12,12],iconAnchor:[6,6]},TWO:{className:"_3avq _3avl",iconSize:[16,16],iconAnchor:[8,8]},THREE:{className:"_3avr _3avl",iconSize:[20,20],iconAnchor:[10,10]},FOUR:{className:"_1iq1 _3avl",iconSize:[20,20],iconAnchor:[10,10]}},SPECIAL_EVENT_MARKER:{className:"_t0m _3avl",iconSize:[20,20],iconAnchor:[10,10]},ZOOM_CONTROLS:{vertical:'bottom',horizontal:'right'},MAP_TYPE:{LEAFLET:'leaflet',WEBGL:'webgl'},VIEW_MODE:{MAP_VIEW:'map_view',LIST_VIEW:'list_view'},ZOOM_CUTOFF_FOR_CACHE:{DYNAMIC:6,LEVEL_2:5,LEVEL_3:6},POLLING_VIDEO_COUNT:{LEVEL_0:300,LEVEL_1:300,LEVEL_2:400,DYNAMIC:100},MIN_VIEWERS_FOR_DYNAMIC_FETCH:0,MAX_VIEWERS_FOR_DYNAMIC_FETCH:6,isInlinePlayer:function j(k){return k===c('VideoPlayerLoggerSource').LIVE_MAP_SIDEBAR||k===c('VideoPlayerLoggerSource').LIVE_MAP_LISTVIEW||k===c('VideoPlayerLoggerSource').LIVE_MAP_TOOLTIP||k===c('VideoPlayerLoggerSource').LIVE_MAP_TOOLTIP_FROM_LISTVIEW||k===c('VideoPlayerLoggerSource').LIVE_MAP_TOOLTIP_FROM_WEBGL||k===c('VideoPlayerLoggerSource').LIVE_MAP_TOOLTIP_FROM_MAP;}};f.exports=i;}),null);
__d("XHotLiveVideoPayloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/cdn\/cacheable\/hot_live_video_payload\/{broadcast_id}\/",{broadcast_id:{type:"Int",required:true}});}),null);
__d('HotLiveVideoPayloadManager',['Arbiter','AjaxRequest','XHotLiveVideoPayloadController'],(function a(b,c,d,e,f,g){var h={_subscribedPayloads:{},subscribe:function i(j,k,l){var m=false;if(j in this._subscribedPayloads){var n=this._subscribedPayloads[j];++n.count;if('lastPayload' in n&&k in n.lastPayload)l(n.lastPayload[k]);}else{this._subscribedPayloads[j]={count:1,intervalHandle:window.setInterval(this._fetchPayload.bind(this,j),3000)};m=true;}var o=c('Arbiter').subscribe('HotLiveVideoPayloadManager/'+j+'/'+k,this._onCallback.bind(this,l));if(m)this._fetchPayload(j);return {arbiterToken:o,videoId:j,cancel:function p(){h.unsubscribe(this);}};},unsubscribe:function i(j){c('Arbiter').unsubscribe(j.arbiterToken);var k=this._subscribedPayloads[j.videoId];--k.count;if(k.count==0){if('intervalHandle' in k)window.clearInterval(k.intervalHandle);delete this._subscribedPayloads[j.videoId];}},_fetchPayload:function i(j){var k=c('XHotLiveVideoPayloadController').getURIBuilder().setInt('broadcast_id',j).getURI(),l=new (c('AjaxRequest'))('GET',k);l.streamMode=false;l.onJSON=this._onPayload.bind(this,j);l.onError=this._onError.bind(this,j);l.send();},_onPayload:function i(j,k){var l=this._subscribedPayloads[j];l.lastPayload=k.json;for(var m in k.json)c('Arbiter').inform('HotLiveVideoPayloadManager/'+j+'/'+m,k.json[m]);},_onError:function i(j,k){if(k.status==404&&j in this._subscribedPayloads){var l=this._subscribedPayloads[j];if('intervalHandle' in l){window.clearInterval(l.intervalHandle);delete l.intervalHandle;}}},_onCallback:function i(j,k,l){j(l);}};f.exports=h;}),null);
__d('VideoPlayerMetaData',['invariant','regeneratorRuntime','Promise','AsyncRequest','VideoDashPrefetchCache','VideoData','VideoPushParametersHelper','XVideoDataController','isHTML5VideoImplementationUnavailable'],(function a(b,c,d,e,f,g,h){'use strict';var i={},j=120000;function k(l){this.videoID=l;}k.prototype.getVideoID=function(){return this.videoID;};k.prototype.genVideoData=function l(){var m=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],n=arguments[1],o;return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:q.prev=0;o=this.$VideoPlayerMetaData1;if(!o||m.forceRefetch){if(this.$VideoPlayerMetaData2){clearTimeout(this.$VideoPlayerMetaData2);this.$VideoPlayerMetaData2=null;}o=this.$VideoPlayerMetaData1=this.$VideoPlayerMetaData3(m);this.$VideoPlayerMetaData2=setTimeout(function(){this.$VideoPlayerMetaData1=null;n();}.bind(this),m.cacheTimeout||j);}q.next=5;return c('regeneratorRuntime').awrap(o);case 5:return q.abrupt('return',q.sent);case 8:q.prev=8;q.t0=q['catch'](0);throw q.t0;case 11:case 'end':return q.stop();}},null,this,[[0,8]]);};k.prototype.$VideoPlayerMetaData3=function(l){var m=c('XVideoDataController').getURIBuilder().setString('video_id',this.videoID).setBool('supports_html5_video',!c('isHTML5VideoImplementationUnavailable')(true)),n=l.forceFlash;if(n!==undefined)m=m.setBool('force_flash',n);var o=m.getURI();return new (c('Promise'))(function(p,q){new (c('AsyncRequest'))(o).setMethod('GET').setURI(o).setReadOnly(true).setOption('suppressEvaluation',true).setAllowCrossPageTransition(true).setHandler(function(r){var s=JSON.parse(r.payload.responseText);if(!s.error){p(new (c('VideoData'))(s));}else q(s.error);}).setErrorHandler(function(r){var s=JSON.parse(r.errorMsg).error;q(s);}).send();});};k.get=function(l){if(!i[l])i[l]=new k(l);return i[l];};k.genVideoData=function l(m){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],o=arguments.length<=2||arguments[2]===undefined?function(){}:arguments[2];return c('regeneratorRuntime').async(function p(q){while(1)switch(q.prev=q.next){case 0:q.next=2;return c('regeneratorRuntime').awrap(k.get(m).genVideoData(n,o));case 2:return q.abrupt('return',q.sent);case 3:case 'end':return q.stop();}},null,this);};k.abortPrefetching=function(l){c('VideoDashPrefetchCache').getInstance().cancelRequestFromMouseMovement(l);};k.queuePrefetchRequestFromMouseMovement=function(l,m,n){var o=arguments.length<=3||arguments[3]===undefined?function(){}:arguments[3],p=arguments.length<=4||arguments[4]===undefined?function(){}:arguments[4],q=c('VideoDashPrefetchCache').getInstance(),r=l.getLiveManifestUrl();r||h(0);q.queueRequestFromMouseMovement(l.getVideoID(),r,new (c('VideoPushParametersHelper'))(r).setStreamEndOffset(c('VideoPushParametersHelper').getDefaultLiveStreamEndOffset()),m,n,o,p);};k.genPrefetch=function l(m){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],o=arguments.length<=2||arguments[2]===undefined?0:arguments[2],p=arguments.length<=3||arguments[3]===undefined?8000:arguments[3],q=arguments.length<=4||arguments[4]===undefined?function(){}:arguments[4],r=arguments.length<=5||arguments[5]===undefined?function(){}:arguments[5],s=arguments.length<=6||arguments[6]===undefined?function(){}:arguments[6],t;return c('regeneratorRuntime').async(function u(v){while(1)switch(v.prev=v.next){case 0:v.next=2;return c('regeneratorRuntime').awrap(k.genVideoData(m,n));case 2:t=v.sent;if(t.isLiveStream()){q();k.queuePrefetchRequestFromMouseMovement(t,o,p,r,s);}return v.abrupt('return',c('Promise').resolve());case 5:case 'end':return v.stop();}},null,this);};f.exports=k;}),null);
__d('VideoProgressPreviewBar.react',['cx','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.$VideoProgressPreviewBar2=function(){this.setState({hidden:true});this.$VideoProgressPreviewBar1.release();}.bind(this);this.state={progressPercent:l.initialProgressPercent,hidden:true};this.$VideoProgressPreviewBar1=new (c('SubscriptionsHandler'))();this.props.videoController.registerOption('VideoProgressPreviewComponent','available',function(){return true;});this.props.videoController.registerOption('VideoProgressPreviewComponent','destroyed',function(){throw new Error('Option Destroy for VideoProgressPreviewComponent is non readable');},function(){return this.$VideoProgressPreviewBar2();}.bind(this));this.$VideoProgressPreviewBar1.addSubscriptions(l.videoController.addListener('updateStatus',function(m){var n=l.videoController.getPlaybackDuration();this.setState({progressPercent:m.position/n});}.bind(this)),l.videoController.addListener('beginPlayback',function(){this.setState({hidden:false});var m=l.videoController.getOption('VideoControls','areControlsVisible');this.$VideoProgressPreviewBar3(m);}.bind(this)),l.videoController.addListener('finishPlayback',this.$VideoProgressPreviewBar2),l.videoController.addListener('VideoControls/visibilityUpdate',function(m){var n=m.areControlsVisible;return this.$VideoProgressPreviewBar3(n);}.bind(this)),{unsubscribe:function(){this.props.videoController.unregisterOption('VideoProgressPreviewComponent','available');this.props.videoController.unregisterOption('VideoProgressPreviewComponent','destroyed');}.bind(this)});}k.prototype.componentWillUnmount=function(){this.$VideoProgressPreviewBar1.release();};k.prototype.render=function(){if(this.state.hidden)return c('React').createElement('div',null);var l=this.props.width+'px',m=this.props.height+'px',n=this.props.width*this.state.progressPercent,o=c('React').createElement('div',{style:{width:l,height:m}},c('React').createElement('div',{style:{width:l,height:m},className:"_5zl4"}),c('React').createElement('div',{style:{height:m,width:n},className:"_5zl5"}));return o;};k.prototype.$VideoProgressPreviewBar3=function(l){if(!l){if(!this.props.hideAfterInitialInteraction)this.setState({hidden:false});return;}this.setState({hidden:true});if(this.props.hideAfterInitialInteraction)this.$VideoProgressPreviewBar2();};k.destroyComponentIfAvailable=function(l){var m=l.hasOption('VideoProgressPreviewComponent','destroyed');if(m)l.setOption('VideoProgressPreviewComponent','destroyed',true);};k.defaultProps={initialProgressPercent:0};f.exports=k;}),null);
__d("XLiveResetViewerCountAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/viewercount\/reset\/",{});}),null);
__d("XVideoLiveViewCountController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/liveviewcount\/",{video_id:{type:"String",required:true},source:{type:"String",required:true},unmuted:{type:"Bool",defaultValue:true},read_only:{type:"Bool",defaultValue:false}});}),null);
__d('VideoWithLiveBroadcast',['AsyncRequest','HTML','SubscriptionsHandler','Run','VideoPlayerLoggerEvent','XLiveResetViewerCountAsyncController','XVideoLiveViewCountController','BanzaiODS'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$VideoWithLiveBroadcast8=null;this.$VideoWithLiveBroadcast5=i;if(this.$VideoWithLiveBroadcast5.isState('playing'))this.$VideoWithLiveBroadcast9();this.$VideoWithLiveBroadcast2=false;this.$VideoWithLiveBroadcast1=true;this.$VideoWithLiveBroadcast6=null;this.$VideoWithLiveBroadcast4=new (c('SubscriptionsHandler'))();this.$VideoWithLiveBroadcast4.addSubscriptions(i.addListener('beginPlayback',this.$VideoWithLiveBroadcast9.bind(this)),i.addListener('pausePlayback',this.$VideoWithLiveBroadcast10.bind(this)),i.addListener('updateStatus',this.$VideoWithLiveBroadcast11.bind(this)),i.addListener('finishPlayback',this.$VideoWithLiveBroadcast12.bind(this)),i.addListener('unmuteVideo',this.$VideoWithLiveBroadcast13.bind(this)),i.addListener('muteVideo',this.$VideoWithLiveBroadcast14.bind(this)));i.registerOption('VideoWithLiveBroadcast','viewCount',this.getViewCount.bind(this));i.registerOption('VideoWithLiveBroadcast','isLive',function(){return true;});c('Run').onLeave(function(){return this.leave();}.bind(this));}h.prototype.leave=function(){'use strict';this.$VideoWithLiveBroadcast15();this.$VideoWithLiveBroadcast4.release();};h.prototype.getViewCount=function(){'use strict';return this.$VideoWithLiveBroadcast6;};h.prototype.$VideoWithLiveBroadcast16=function(i){'use strict';if(this.$VideoWithLiveBroadcast6!=i){this.$VideoWithLiveBroadcast6=i;this.$VideoWithLiveBroadcast5.emit('VideoWithLiveBroadcast/viewCountChange',i);}};h.prototype.$VideoWithLiveBroadcast12=function(){'use strict';this.$VideoWithLiveBroadcast5.logEvent(c('VideoPlayerLoggerEvent').PLAYING_LIVE_STOPPED);this.$VideoWithLiveBroadcast8=null;this.$VideoWithLiveBroadcast15();};h.prototype.$VideoWithLiveBroadcast17=function(){'use strict';if(this.$VideoWithLiveBroadcast7)return;this.$VideoWithLiveBroadcast18();this.$VideoWithLiveBroadcast7=setInterval(function(){return this.$VideoWithLiveBroadcast18();}.bind(this),3000);};h.prototype.$VideoWithLiveBroadcast11=function(i){'use strict';if(this.$VideoWithLiveBroadcast5.isState('playing')){if(this.$VideoWithLiveBroadcast8==null)this.$VideoWithLiveBroadcast8=i.position;if(this.$VideoWithLiveBroadcast8+3<=i.position){this.$VideoWithLiveBroadcast5.logEvent(c('VideoPlayerLoggerEvent').PLAYED_FOR_THREE_SECONDS);this.$VideoWithLiveBroadcast8=Infinity;}}if(!this.$VideoWithLiveBroadcast5.isState('playing')){if(!this.$VideoWithLiveBroadcast3){c('BanzaiODS').bumpEntityKey('www_live_concurrent_viewer','non_playing_update_status');this.$VideoWithLiveBroadcast3=true;}if(this.$VideoWithLiveBroadcast1&&!this.$VideoWithLiveBroadcast2)this.$VideoWithLiveBroadcast2=true;}};h.prototype.$VideoWithLiveBroadcast15=function(){'use strict';this.$VideoWithLiveBroadcast7&&clearInterval(this.$VideoWithLiveBroadcast7);this.$VideoWithLiveBroadcast7=null;};h.prototype.$VideoWithLiveBroadcast18=function(){'use strict';this.$VideoWithLiveBroadcast19(function(i){var j=c('HTML').replaceJSONWrapper(i).getRootNode();this.$VideoWithLiveBroadcast16(j);}.bind(this));};h.prototype.$VideoWithLiveBroadcast19=function(i){'use strict';this.$VideoWithLiveBroadcast5.emit('VideoWithLiveBroadcast/poll');var j=c('XVideoLiveViewCountController').getURIBuilder().setString('video_id',this.$VideoWithLiveBroadcast5.getVideoID()).setString('source',this.$VideoWithLiveBroadcast5.getSource()).setBool('unmuted',!this.$VideoWithLiveBroadcast5.isMuted()).getURI();new (c('AsyncRequest'))().setMethod('GET').setURI(j).setReadOnly(true).setHandler(function(k){return i(k&&k.payload);}).send();};h.prototype.$VideoWithLiveBroadcast9=function(){'use strict';if(this.$VideoWithLiveBroadcast5.isFacecastAudio()&&(this.$VideoWithLiveBroadcast5.isMuted()||!this.$VideoWithLiveBroadcast5.isState('playing')))return;this.$VideoWithLiveBroadcast8=null;if(this.$VideoWithLiveBroadcast1){this.$VideoWithLiveBroadcast5.logEvent(c('VideoPlayerLoggerEvent').PLAYING_LIVE_STARTED);this.$VideoWithLiveBroadcast1=false;c('BanzaiODS').bumpEntityKey('www_live_concurrent_viewer','begin_playback');if(!this.$VideoWithLiveBroadcast2)c('BanzaiODS').bumpEntityKey('www_live_concurrent_viewer','begin_playback_without_early_polling');}this.$VideoWithLiveBroadcast17();};h.prototype.$VideoWithLiveBroadcast10=function(){'use strict';this.$VideoWithLiveBroadcast8=null;this.$VideoWithLiveBroadcast15();};h.prototype.$VideoWithLiveBroadcast13=function(){'use strict';if(!this.$VideoWithLiveBroadcast5.isFacecastAudio())return;this.$VideoWithLiveBroadcast15();this.$VideoWithLiveBroadcast9();};h.prototype.$VideoWithLiveBroadcast14=function(){'use strict';if(!this.$VideoWithLiveBroadcast5.isFacecastAudio())return;new (c('AsyncRequest'))().setMethod('POST').setURI(c('XLiveResetViewerCountAsyncController').getURIBuilder().getURI()).setData({video_id:this.$VideoWithLiveBroadcast5.getVideoID()}).send();};f.exports=h;}),null);
__d('VideoPlayerFlashApi',['AbstractVideoPlayerApi','Arbiter','DOMQuery','Flash','SubscriptionsHandler','VideoPlayerApiEvents','VideoPlayerLoggerErrors','VideoPlayerLoggerEvent','destroyOnUnload'],(function a(b,c,d,e,f,g){var h,i;function j(m){if(m.hasAttribute('data-flash'))return m.getAttribute('id');return c('DOMQuery').find(m,'div[data-flash]').getAttribute('id');}function k(m){var n=c('DOMQuery').scry(m,'embed');if(!n.length)n=c('DOMQuery').scry(m,'object');return n[0];}h=babelHelpers.inherits(l,c('AbstractVideoPlayerApi'));i=h&&h.prototype;function l(m){'use strict';i.constructor.call(this);this.$VideoPlayerFlashApi1=k(m);this.$VideoPlayerFlashApi2=j(m);this.$VideoPlayerFlashApi3=null;this.$VideoPlayerFlashApi4=false;this.$VideoPlayerFlashApi5=new (c('SubscriptionsHandler'))();this.$VideoPlayerFlashApi5.addSubscriptions(c('Arbiter').subscribe(c('VideoPlayerApiEvents').map(function(n){return 'flash/'+n;}),this.$VideoPlayerFlashApi6.bind(this)));c('destroyOnUnload')(function(){return this.$VideoPlayerFlashApi5.release();}.bind(this));}l.onImplementationReady=function(m,n){'use strict';var o=k(m);if(o&&o.playVideo)return n(m);var p=j(m),q=c('Arbiter').subscribe('flash/ready',function(r,s){if(s.divID===p){c('Arbiter').unsubscribeCurrentSubscription();c('Arbiter').releaseCurrentPersistentEvent();n(m);}});c('destroyOnUnload')(function(){return q.unsubscribe();});};l.isImplementationUnavailable=function(){'use strict';return !c('Flash').isAvailable();};l.prototype.$VideoPlayerFlashApi6=function(m,n){'use strict';if(n.divID!==this.$VideoPlayerFlashApi2)return;var o=m.substr('flash/'.length);switch(o){case 'beginPlayback':this.$VideoPlayerFlashApi7=false;this.$VideoPlayerFlashApi8=n.position;this.$VideoPlayerFlashApi9=n.position;this.$VideoPlayerFlashApi4=true;break;case 'updateStatus':this.$VideoPlayerFlashApi9=n.position;break;case 'finishPlayback':this.$VideoPlayerFlashApi9=this.getPlaybackDuration();case 'pausePlayback':this.$VideoPlayerFlashApi4=false;}this.emit(o,n);};l.prototype.preload=function(){'use strict';};l.prototype.isPreloading=function(){'use strict';return false;};l.prototype.abortLoading=function(){'use strict';};l.prototype.destroy=function(m){'use strict';this.$VideoPlayerFlashApi5.release();};l.prototype.isPaused=function(){'use strict';return undefined;};l.prototype.pause=function(m){'use strict';if(m==='unloaded'&&typeof this.$VideoPlayerFlashApi1.pauseVideo!=='function'){if(this.$VideoPlayerFlashApi4)this.emit('logEvent',{logData:{event:c('VideoPlayerLoggerEvent').PAUSED,reason:'unloaded',video_last_start_time_position:this.$VideoPlayerFlashApi8,video_time_position:this.$VideoPlayerFlashApi9}});this.$VideoPlayerFlashApi4=false;return;}if(this.$VideoPlayerFlashApi7){this.$VideoPlayerFlashApi7=false;this.emit('logEvent',{logData:{event:c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,reason:m}});}this.$VideoPlayerFlashApi4=false;for(var n=arguments.length,o=Array(n>1?n-1:0),p=1;p<n;p++)o[p-1]=arguments[p];this.$VideoPlayerFlashApi10('pauseVideo',[m].concat(o));};l.prototype.play=function(){'use strict';this.$VideoPlayerFlashApi7=true;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('playVideo',n,true);};l.prototype.replaceVideoDataFromURL=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('replaceVideoDataFromURL',n);};l.prototype.replaceVideoData=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('replaceVideoData',n);};l.prototype.getEstimatedBandwidth=function(){'use strict';return null;};l.prototype.getCurrentlyPlayingStreamInfoID=function(){'use strict';return null;};l.prototype.getLocalEstimator=function(){'use strict';return null;};l.prototype.seek=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('seekVideo',n);};l.prototype.switchVideo=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('switchVideo',n);};l.prototype.switchToStreamType=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('switchToStreamType',n);};l.prototype.unmute=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('unmuteVideo',n);};l.prototype.mute=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('muteVideo',n);};l.prototype.isMuted=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('isVideoMuted',n);};l.prototype.getPlaybackDuration=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('getVideoDuration',n);};l.prototype.getVolume=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('getVideoVolume',n);};l.prototype.setDimensions=function(m,n){'use strict';this.$VideoPlayerFlashApi10('setDimensions',[m,n]);};l.prototype.setRotation=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('setRotation',n);};l.prototype.getVideoInfo=function(){'use strict';if(!this.$VideoPlayerFlashApi11('getVideoInfo'))return null;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];var p=this.$VideoPlayerFlashApi10('getVideoInfo',n,false);if(p){return JSON.parse(p);}else return null;};l.prototype.setVolume=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('setVolume',n);};l.prototype.toggleSubtitles=function(){'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];this.$VideoPlayerFlashApi10('toggleSubtitles',n);};l.prototype.hasSubtitles=function(){'use strict';if(!this.$VideoPlayerFlashApi11('hasSubtitles'))return false;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('hasSubtitles',n);};l.prototype.areSubtitlesActive=function(){'use strict';if(!this.$VideoPlayerFlashApi11('areSubtitlesActive'))return false;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('areSubtitlesActive',n);};l.prototype.areHLSActive=function(){'use strict';if(!this.$VideoPlayerFlashApi11('areHLSActive'))return false;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('areHLSActive',n);};l.prototype.isRTMP=function(){'use strict';if(!this.$VideoPlayerFlashApi11('isRTMP'))return false;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('isRTMP',n);};l.prototype.setPreferredVideoQuality=function(m){'use strict';if(m!=this.getSelectedVideoQuality()){this.$VideoPlayerFlashApi3=m;for(var n=arguments.length,o=Array(n>1?n-1:0),p=1;p<n;p++)o[p-1]=arguments[p];this.$VideoPlayerFlashApi10('toggleVideoHD',o);}};l.prototype.unsetPreferredVideoQuality=function(){'use strict';};l.prototype.getPreferredVideoQuality=function(){'use strict';return this.$VideoPlayerFlashApi3;};l.prototype.getSelectedVideoQuality=function(){'use strict';if(!this.$VideoPlayerFlashApi11('isVideoHD'))return 'SD';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('isVideoHD',n)?'HD':'SD';};l.prototype.getAvailableVideoQualities=function(){'use strict';if(!this.$VideoPlayerFlashApi11('hasVideoHD'))return ['SD'];for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return this.$VideoPlayerFlashApi10('hasVideoHD',n)?['SD','HD']:['SD'];};l.prototype.getIsAbrEnabled=function(){'use strict';return false;};l.prototype.canAutoSelectVideoQuality=function(){'use strict';return false;};l.prototype.setPreloadDisabled=function(m){'use strict';return;};l.prototype.restoreStreamBufferSize=function(){'use strict';return;};l.prototype.getCurrentTimePosition=function(){'use strict';return this.$VideoPlayerFlashApi9;};l.prototype.$VideoPlayerFlashApi11=function(m){'use strict';return typeof this.$VideoPlayerFlashApi1[m]==='function';};l.prototype.$VideoPlayerFlashApi10=function(m,n,o){'use strict';try{if(this.$VideoPlayerFlashApi11(m)){return this.$VideoPlayerFlashApi1[m].apply(this.$VideoPlayerFlashApi1,n);}else throw new Error(m+' is not a valid method on the flash object');}catch(p){if(this.$VideoPlayerFlashApi12)return;this.$VideoPlayerFlashApi12=true;this.emit('error',{error:c('VideoPlayerLoggerErrors').ERROR_CALLING_FLASH,message:p.message,isPlayback:o});this.$VideoPlayerFlashApi12=false;}};l.prototype.getDroppedFrames=function(){'use strict';return 0;};l.prototype.getTotalFrames=function(){'use strict';return 0;};l.prototype.getVideoNodeSource=function(){'use strict';return '';};l.getPlayerVersion=function(){'use strict';return 'silvercity';};l.getStreamTypeFromConfig=function(m){'use strict';return m.initial_stream_type||'progressive';};l.getIsPlayingLiveFromConfig=function(m){'use strict';return !!m.is_live_streaming;};l.getIsFacecastAudioFromConfig=function(m){'use strict';return !!m.is_facecast_audio;};f.exports=l;}),null);
__d('VideoComponent',['CurrentUser','ErrorBoundary.react','React','Relay','SubscriptionsHandler','fromGraphQL'],(function a(b,c,d,e,f,g){'use strict';function h(j){return j.displayName||j.name||'Component';}function i(j,k){var l,m,n=k||{},o=n.observedVpcEvents||[],p=n.suppressMount||function(){return false;},q=h(j);return m=l=function(){var r,s;r=babelHelpers.inherits(t,c('React').Component);s=r&&r.prototype;function t(u){'use strict';s.constructor.call(this,u);this.$VideoComponentContainer7=function(){if(this.$VideoComponentContainer2&&this.$VideoComponentContainer2.length&&this.refs.component){var v={time:Date.now(),queuedEvents:this.$VideoComponentContainer2};this.setState({vpcEventInfo:v});this.$VideoComponentContainer2=[];}}.bind(this);this.state={video:null,user:null,vpcEventInfo:{time:0,queuedEvents:[]}};this.$VideoComponentContainer2=[];}t.prototype.render=function(){'use strict';if(this.$VideoComponentContainer3())return null;return c('React').createElement(c('ErrorBoundary.react'),{onHandleError:function u(v,w){}},c('React').createElement(j,babelHelpers['extends']({ref:'component'},this.props,{vpcEventInfo:this.state.vpcEventInfo,video:this.state.video,user:this.state.user})));};t.prototype.enable=function(u){'use strict';if(this.$VideoComponentContainer3())return;this.vpc=u;this.$VideoComponentContainer1=new (c('SubscriptionsHandler'))();this.$VideoComponentContainer4(u);var v=this.refs.component;if(!v)return;if(!v.enable)throw new TypeError(q+' must implement enable(VideoPlayerController)');v.enable(u);this.$VideoComponentContainer5(u.getVideoID(),n.relayVideoConfig);};t.prototype.disable=function(){'use strict';if(this.$VideoComponentContainer3())return;var u=this.refs.component;if(!u)return;if(!u.disable)throw new TypeError(q+' must implement disable()');u.disable();this.$VideoComponentContainer1.release();};t.prototype.$VideoComponentContainer3=function(){'use strict';return p(this.props.videoData);};t.prototype.$VideoComponentContainer5=function(u,v){var w,x=this;'use strict';if(!v)return;var y=v.fragments.video,z=v.fragments.user;if(!y)throw new Error(q+' must include a \'video\' fragment');var aa=c('fromGraphQL').Query(function(ba,ca){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:c('Relay').QL.__var(ba)}],children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},c('Relay').QL.__frag(ca)]),id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'Video',type:'Video'}],fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'VideoComponent',type:'Node'};}(u,y));c('Relay').Store.primeCache({graphQLQuery:aa},function(ba){if(ba.done){var ca=c('Relay').Store.readQuery(aa)[0];if(this.vpc&&ca&&this.refs.component&&ca.id==this.vpc.getVideoID())this.setState({video:ca});}}.bind(this));if(z)(function(){var ba=c('fromGraphQL').Query(function(ca,da){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:c('Relay').QL.__var(ca)}],children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(da)]),id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'User',type:'User'}],fieldName:'user',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'VideoComponent',type:'User'};}(c('CurrentUser').getID(),z));c('Relay').Store.primeCache({userQuery:ba},function(ca){if(ca.done){var da=c('Relay').Store.readQuery(ba)[0];if(da&&this.refs.component)this.setState({user:da});}}.bind(x));})();};t.prototype.$VideoComponentContainer4=function(u){var v,w=this;'use strict';var x=function ca(event){var da=u.addListener(event,function(){return this.$VideoComponentContainer6(event);}.bind(w));w.$VideoComponentContainer1.addSubscriptions(da);};for(var y=o,z=Array.isArray(y),aa=0,y=z?y:y[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ba;if(z){if(aa>=y.length)break;ba=y[aa++];}else{aa=y.next();if(aa.done)break;ba=aa.value;}var event=ba;x(event);}};t.prototype.$VideoComponentContainer6=function(event){'use strict';if(!this.$VideoComponentContainer2.length)setTimeout(this.$VideoComponentContainer7,0);this.$VideoComponentContainer2.push(event);};return t;}(),l.displayName='VideoComponent('+q+')',m;}f.exports={createContainer:i};}),null);
__d('VideoComponentLiveVideoIndicator.react',['cx','fbt','DOMContainer.react','React','Relay','VideoBroadcastStatus','VideoComponent','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.state={viewCountNode:null};}l.prototype.enable=function(m){m.addListener('VideoWithLiveBroadcast/viewCountChange',function(n){this.setState({viewCountNode:n});}.bind(this));};l.prototype.disable=function(){};l.prototype.render=function(){if(!this.props.video)return null;var m=this.props.video.broadcastStatus,n=m===c('VideoBroadcastStatus').LIVE;if(m===c('VideoBroadcastStatus').PREVIEW)return this.renderPreview();var o=null;if(this.state.viewCountNode)o=c('React').createElement(c('DOMContainer.react'),null,this.state.viewCountNode);return c('React').createElement('div',{className:c('joinClasses')((!this.props.inline?"_3htz":'')+(this.props.inline?' '+"_3qry":'')+(!this.props.inline?' '+"_5pe_":'')+(!this.props.inline?' '+"_530p":'')+(' '+"_4ubd")+(' '+"_2lwf")+(n?' '+"_3rno":''))},c('React').createElement('div',{className:"_5pe-"},c('React').createElement('span',{className:"_5pf0"},i._("LIVE"))),o);};l.prototype.renderPreview=function(){return c('React').createElement('div',{className:"_5vj"},c('React').createElement('div',{className:"_5vm"},c('React').createElement('span',{className:"_5vo"},i._("PREVIEW"))));};f.exports=c('VideoComponent').createContainer(l,{relayVideoConfig:{fragments:{video:function m(){return function(){return {children:[{alias:'broadcastStatus',fieldName:'broadcast_status',kind:'Field',metadata:{},type:'VideoBroadcastStatus'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentLiveVideoIndicator_react_VideoRelayQL',type:'Video'};}();}}}});}),null);
__d('VideoComponentWithLoopingPlayback.react',['React','Relay','VideoComponent','VideoPlayerReason','VideoWithLoopingPlayback'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);}j.prototype.componentWillReceiveProps=function(k){if(k.video&&k.video!==this.props.video){var l=k.video.isLooping,m=this.props.infiniteLooping?Number.POSITIVE_INFINITY:k.video.loopCount;if(l||k.forceLooping||k.infiniteLooping)new (c('VideoWithLoopingPlayback'))(this.vpc,m);}};j.prototype.enable=function(k){this.vpc=k;};j.prototype.disable=function(){};j.prototype.render=function(){return null;};f.exports=c('VideoComponent').createContainer(j,{relayVideoConfig:{fragments:{video:function k(){return function(){return {children:[{alias:'isLooping',fieldName:'is_looping',kind:'Field',metadata:{},type:'Boolean'},{alias:'loopCount',fieldName:'loop_count',kind:'Field',metadata:{},type:'Int'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentWithLoopingPlayback_react_VideoRelayQL',type:'Video'};}();}}}});}),null);
__d('VideoVolumeStorage',['CacheStorage'],(function a(b,c,d,e,f,g){var h='videos_persistent_volume_';function i(j){'use strict';this.$VideoVolumeStorage3=j;this.$VideoVolumeStorage2=new (c('CacheStorage'))('localstorage',h);j.runOnApiReady(function(){return this.$VideoVolumeStorage4();}.bind(this));j.addListener('changeVolume',function(k){return this.$VideoVolumeStorage5(k.volume);}.bind(this));}i.prototype.$VideoVolumeStorage4=function(){'use strict';this.$VideoVolumeStorage1=this.$VideoVolumeStorage3.getVolume();this.$VideoVolumeStorage3.setVolume(this.$VideoVolumeStorage6());};i.prototype.$VideoVolumeStorage5=function(j){'use strict';if(this.$VideoVolumeStorage2)this.$VideoVolumeStorage2.set('volume',j,true);};i.prototype.$VideoVolumeStorage6=function(){'use strict';return this.$VideoVolumeStorage2?this.$VideoVolumeStorage2.get('volume',this.$VideoVolumeStorage1):this.$VideoVolumeStorage1;};f.exports=i;}),null);
__d('StreamingReactionsTrayConfig',['EventEmitter','StreamingReactionsAnimationConfig','StreamingReactionsTrayEvents','VideoPlayerLoggerSource'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this);this.$StreamingReactionsTrayConfig1=c('StreamingReactionsAnimationConfig');this.durationsMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS;this.updateDimensions(k,l);this.$StreamingReactionsTrayConfig2(m);this.globalScale=this.$StreamingReactionsTrayConfig1.SCALES.GLOBAL*this.$StreamingReactionsTrayConfig1.SCALES.SCALE_MULTIPLIER;this.shootUpScale=this.globalScale*this.$StreamingReactionsTrayConfig1.SCALES.SHOOT_UP;this.maxExplosionScale=this.globalScale*this.$StreamingReactionsTrayConfig1.SCALES.MAX_EXPLOSION;this.minMorphScale=this.globalScale*this.$StreamingReactionsTrayConfig1.SCALES.MIN_MORPH;this.scaleMultiplier=this.viewUpdateInterval=this.$StreamingReactionsTrayConfig1.THROTTLE.VIEW_UPDATE_INTERVAL;this.reactionStartAnimationRate=this.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_START_ANIMATION_RATE;this.reactionBufferSize=this.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_BUFFER_SIZE;this.maxAnonReactionsCount=this.$StreamingReactionsTrayConfig1.THROTTLE.MAX_REACTIONS_ON_SCREEN;this.reactionSelfFireworkAnimationThreshold=this.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_CLICK_SELF_FIREWORK_ANIMATION_THRESHOLD;var n=this.$StreamingReactionsTrayConfig1.CURVES;this.anonHorizontalCurve='cubic-bezier('+n.ANON_HORIZONTAL.join(', ')+')';this.friendWindHorizontalCurve='cubic-bezier('+n.FRIEND_WIND_HORIZONTAL.join(', ')+')';this.shootUpVerticalCurve='cubic-bezier('+n.SHOOT_UP_VERTICAL.join(', ')+')';this.morphScaleCurve='cubic-bezier('+n.MORPH_SCALE.join(', ')+')';this.explosionScaleCurve='cubic-bezier('+n.EXPLOSION_SCALE.join(', ')+')';this.friendWindScaleCurve='cubic-bezier('+n.FRIEND_WIND_SCALE.join(', ')+')';this.friendWindVacuumZoneScaleCurve='cubic-bezier('+n.FRIEND_WIND_VACUUM_ZONE_SCALE.join(', ')+')';}j.prototype.updateSurface=function(k,l,m){'use strict';this.updateDimensions(k,l);this.$StreamingReactionsTrayConfig2(m);this.emit(c('StreamingReactionsTrayEvents').UpdateSurface);};j.prototype.$StreamingReactionsTrayConfig2=function(k){'use strict';if(k===c('VideoPlayerLoggerSource').CHANNEL){this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_CHANNEL;this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_CHANNEL;}else if(k===c('VideoPlayerLoggerSource').SNOWLIFT){this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_SNOWLIFT;this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_SNOWLIFT;}else{this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_INLINE;this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_INLINE;}};j.prototype.updateDimensions=function(k,l){'use strict';var m=k,n=l;this.maxX=m+this.$StreamingReactionsTrayConfig1.OFFSETS_PX.POSITIVE_X;this.minX=0-this.$StreamingReactionsTrayConfig1.OFFSETS_PX.NEGATIVE_X;this.maxY=n+this.$StreamingReactionsTrayConfig1.OFFSETS_PX.POSITIVE_Y;this.minY=0-this.$StreamingReactionsTrayConfig1.OFFSETS_PX.NEGATIVE_Y;this.reactionsOffScreenX=m+21;};f.exports=j;}),null);
__d('StreamingReaction',['cx','CSS','DOM','EventEmitter','KeyframeAnimation','Style','StreamingReactionsTrayConfig','StreamingReactionsTrayEvents','UFIConfig','getVendorPrefixedName','queryThenMutateDOM'],(function a(b,c,d,e,f,g,h){var i,j,k=c('getVendorPrefixedName')('transform'),l=-30;i=babelHelpers.inherits(m,c('EventEmitter'));j=i&&i.prototype;m.getReaction=function(n,o,p){var q=arguments.length<=3||arguments[3]===undefined?'':arguments[3];'use strict';var r=n?m.friendElementQueue:m.anonElementQueue;if(r.length>0){var s=r.shift();s.removeSpecificData();s.addSpecificData(o,q);return s;}else return new m(n,o,p,q);};m.clearQueue=function(){'use strict';m.anonElementQueue.length=0;m.friendElementQueue.length=0;};function m(n,o,p){var q=arguments.length<=3||arguments[3]===undefined?'':arguments[3];'use strict';j.constructor.call(this);this.$StreamingReaction1=p;this.setState('CONSTRUCTED');this.isFriend=n;this.type=o;this.profilePicUri=q;this.start=-1;this.randVerticalStartPositionAnon=this.$StreamingReaction6();this.randShootUpHorizontalPosition=this.$StreamingReaction7();this.randShootUpMaxVerticalPosition=this.$StreamingReaction8();this.randAmp=this.$StreamingReaction9();this.randTimeOffsetMs=this.$StreamingReaction10();this.period=this.$StreamingReaction11(this.isFriend,this.randShootUpHorizontalPosition);this.anonWindDurationMs=this.$StreamingReaction1.anonWindDurationMs+this.randTimeOffsetMs;this.maxAnonWindDurationMs=this.$StreamingReaction1.anonWindDurationMs+this.$StreamingReaction1.durationsMs.ANON_WIND_MAX_OFFSET;this.shootUpDurationMs=this.$StreamingReaction1.durationsMs.SHOOT_UP;this.explosionDurationMs=this.$StreamingReaction1.durationsMs.EXPLOSION;this.explosionPauseDurationMs=this.$StreamingReaction1.durationsMs.EXPLOSION_PAUSE;this.morphShrinkDurationMs=this.$StreamingReaction1.durationsMs.MORPH/4;this.morphGrowDurationMs=this.$StreamingReaction1.durationsMs.MORPH/6;this.morphPauseDurationMs=this.$StreamingReaction1.durationsMs.MORPH_PAUSE;this.friendWindKeyDurationMs=this.$StreamingReaction1.friendWindDurationMs;c('queryThenMutateDOM')(function(){},this.createElem.bind(this));}m.prototype.createElem=function(){'use strict';this.yAxisDiv=c('DOM').create('div');this.xAxisDiv=c('DOM').create('div');this.reactionElem=c('DOM').create('div');c('DOM').appendContent(this.xAxisDiv,this.reactionElem);c('DOM').appendContent(this.yAxisDiv,this.xAxisDiv);this.root=this.yAxisDiv;c('CSS').addClass(this.yAxisDiv,"_g19");c('CSS').addClass(this.xAxisDiv,"_g19");this.setReactionImage();var n=void 0,o=void 0,p=void 0;if(this.isFriend){this.$StreamingReaction12();this.setFireworksColors();this.root=c('DOM').create('div');c('DOM').appendContent(this.root,this.fireworks);c('DOM').appendContent(this.root,this.yAxisDiv);n=this.randShootUpHorizontalPosition;o=this.$StreamingReaction1.minY+l;p=this.$StreamingReaction1.minMorphScale;var q=this.$StreamingReaction1.shootUpScale;this.createFriendImage();c('Style').set(this.friendImg,k,'scale('+q+')');}else{n=this.$StreamingReaction1.minX;o=this.randVerticalStartPositionAnon;p=this.$StreamingReaction1.globalScale;}c('Style').set(this.reactionElem,k,'scale('+p+')');c('Style').set(this.yAxisDiv,'right',n+'px');c('Style').set(this.yAxisDiv,'bottom',o+'px');this.setState('RENDERED');};m.prototype.setAnimationX=function(n){'use strict';this.$StreamingReaction3=n;};m.prototype.setAnimationY=function(n){'use strict';this.$StreamingReaction4=n;};m.prototype.setAnimationScale=function(n){'use strict';this.$StreamingReaction5=n;};m.prototype.getAnimationX=function(){'use strict';return this.$StreamingReaction3;};m.prototype.getAnimationY=function(){'use strict';return this.$StreamingReaction4;};m.prototype.getAnimationScale=function(){'use strict';return this.$StreamingReaction5;};m.prototype.createFriendImage=function(){'use strict';this.friendImg=c('DOM').create('img');c('DOM').setAttributes(this.friendImg,{src:this.profilePicUri});c('DOM').appendContent(this.xAxisDiv,this.friendImg);c('Style').set(this.friendImg,k,'scale('+this.$StreamingReaction1.shootUpScale+')');c('Style').set(this.reactionElem,'opacity','0');c('CSS').addClass(this.friendImg,"_2-ai");};m.prototype.setFriendImage=function(n){'use strict';this.profilePicUri=n;c('DOM').setAttributes(this.friendImg,{src:this.profilePicUri});};m.prototype.setReactionImage=function(){'use strict';c('CSS').addClass(this.reactionElem,"_g19");c('CSS').addClass(this.reactionElem,this.getReactionImageClass(this.type));};m.prototype.setState=function(n){'use strict';var o=this.getState();this.$StreamingReaction2=n;if(o!=='FINISHED'&&n==='FINISHED'){var p=this.isFriend?m.friendElementQueue:m.anonElementQueue;p.push(this);this.$StreamingReaction2='RENDERED';}this.emit(c('StreamingReactionsTrayEvents').ReactionStateChange,this.getState());};m.prototype.getState=function(){'use strict';return this.$StreamingReaction2;};m.prototype.addSpecificData=function(n,o){'use strict';this.type=n;this.profilePicUri=o;this.setReactionImage();if(this.isFriend){this.setFireworksColors();this.setFriendImage(o);}};m.prototype.removeSpecificData=function(){'use strict';this.removeReactionImage();if(this.isFriend)this.removeFireworksStyle();};m.prototype.removeReactionImage=function(){'use strict';c('CSS').removeClass(this.reactionElem,this.getReactionImageClass(this.type));};m.prototype.removeFireworksStyle=function(){'use strict';for(var n=0;n<this.fireworks.length;n++)c('CSS').removeClass(this.fireworks[n],this.getReactionFireworksClass(this.type,n));};m.prototype.$StreamingReaction12=function(){'use strict';var n=[];for(var o=0,p;o<10;o++){p=c('DOM').create('div');c('CSS').addClass(p,"_3na5");c('Style').set(p,'right',this.randShootUpHorizontalPosition+22+'px');c('Style').set(p,'bottom',this.randShootUpMaxVerticalPosition-15+'px');switch(o){case 1:c('CSS').addClass(p,"_3nab");break;case 2:c('CSS').addClass(p,"_3nad");break;case 3:c('CSS').addClass(p,"_3nae");break;case 4:c('CSS').addClass(p,"_3naf");break;case 5:c('CSS').addClass(p,"_3nag");break;case 6:c('CSS').addClass(p,"_3nah");break;case 7:c('CSS').addClass(p,"_3nak");break;case 8:c('CSS').addClass(p,"_3nam");break;case 9:c('CSS').addClass(p,"_3nan");break;default:break;}n.push(p);}this.fireworks=n;};m.prototype.setFireworksColors=function(){'use strict';for(var n=0;n<this.fireworks.length;n++)c('CSS').addClass(this.fireworks[n],this.getReactionFireworksClass(this.type,n));};m.prototype.getReactionImageClass=function(n){'use strict';if(c('UFIConfig').showCustom)switch(n){case 'DOROTHY':return "_3men";}switch(n){case 'LIKE':return "_2-am";case 'HAHA':return "_2-an";case 'WOW':return "_2-ao";case 'LOVE':return "_2-ap";case 'ANGER':return "_2-aq";case 'SORRY':return "_2-ar";case 'DOROTHY':return "_2nqh";default:throw new Error('Not a valid reaction type: '+n);}};m.prototype.getReactionFireworksClass=function(n,o){'use strict';var p=o%2===0;if(p){if(this.type==='LIKE'){return "_3na6";}else if(this.type==='LOVE'){return "_3na8";}else if(this.type==='DOROTHY'){return "_1l5u";}else return "_3na9";}else return "_3naa";};m.prototype.$StreamingReaction10=function(){'use strict';var n=this.$StreamingReaction1.durationsMs.ANON_WIND_MAX_OFFSET;return -1*n+Math.random()*n*2;};m.prototype.$StreamingReaction9=function(){'use strict';var n=Math.random()>.5;return (n?1:-1)*(Math.random()*(1-.6)+.6);};m.prototype.$StreamingReaction11=function(n,o){'use strict';var p=n?this.$StreamingReaction1.maxX-o:this.$StreamingReaction1.maxX;return p;};m.prototype.$StreamingReaction6=function(){'use strict';var n=(this.$StreamingReaction1.maxY-this.$StreamingReaction1.minY)/2;return ~~(Math.random()*n);};m.prototype.$StreamingReaction7=function(){'use strict';return Math.random()*(this.$StreamingReaction1.maxX/3);};m.prototype.$StreamingReaction8=function(){'use strict';var n=1/3,o=this.$StreamingReaction1.maxY-this.$StreamingReaction1.minY;return Math.random()*(o*(1-n))+n*o-l;};m.anonElementQueue=[];m.friendElementQueue=[];f.exports=m;}),null);
__d('StreamingReactionsTrayAnimation',['DOM','Set','StreamingReaction','StreamingReactionsTrayConfig','StreamingReactionsTrayEvents'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.root=i;this.config=j;this.animating=false;this.reactions=new (c('Set'))();}h.prototype.addReaction=function(i,j){var k,l=this,m=arguments.length<=2||arguments[2]===undefined?'':arguments[2];'use strict';if(this.animating)(function(){var n=c('StreamingReaction').getReaction(i,j,l.config,m);l.reactions.add(n);if(n.getState()==='RENDERED'){l.buildAnimation(n);}else n.once(c('StreamingReactionsTrayEvents').ReactionStateChange,function(o){if(o==='RENDERED')this.buildAnimation(n);}.bind(l));})();};h.prototype.start=function(){'use strict';this.animating=true;};h.prototype.stop=function(){'use strict';this.animating=false;c('StreamingReaction').clearQueue();for(var i=this.reactions,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var l;if(j){if(k>=i.length)break;l=i[k++];}else{k=i.next();if(k.done)break;l=k.value;}var m=l;if(m.getState()!=='CONSTRUCTED')c('DOM').remove(m.root);}this.reactions.clear();};h.prototype.clearCurrent=function(){'use strict';c('StreamingReaction').clearQueue();for(var i=this.reactions,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var l;if(j){if(k>=i.length)break;l=i[k++];}else{k=i.next();if(k.done)break;l=k.value;}var m=l;if(m.getState()!=='CONSTRUCTED')c('DOM').remove(m.root);}this.reactions.clear();};h.prototype.setOnFinishHandler=function(i){'use strict';this.onFinishHandler=i;};h.prototype.buildAnimation=function(i){'use strict';throw new Error('Function not implemented');};h.prototype.createOnFinishForReaction=function(i){'use strict';return function(j){this.onFinish(i,j);}.bind(this);};h.prototype.onFinish=function(i,j){'use strict';if(this.onFinishHandler)this.onFinishHandler();if(i.getState()!=='FINISHED')i.setState('FINISHED');};f.exports=h;}),null);
__d('StreamingReactionsTrayAnonymousAnimation',['CSSAnimationBuilder','DOM','StreamingReactionsTrayAnimation','StreamingReaction','StreamingReactionsTrayConfig'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('StreamingReactionsTrayAnimation'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this,k,l);}j.prototype.addAnonReaction=function(k){'use strict';i.addReaction.call(this,false,k);};j.prototype.buildAnimation=function(k){'use strict';if(!k.getAnimationY()){var l=k.anonWindDurationMs/1000,m=k.maxAnonWindDurationMs/1000,n=-1*(this.config.maxX-this.config.minX),o=k.randAmp*(this.config.maxY-this.config.minY)/2;n=Math.round(n*100)/100;o=Math.round(o*100)/100;var p=this.config.globalScale,q=c('CSSAnimationBuilder').keyframeAnimation(k.yAxisDiv),r=c('CSSAnimationBuilder').keyframeAnimation(k.xAxisDiv),s=c('CSSAnimationBuilder').keyframeAnimation(k.reactionElem);q.defineKeyframes({'0%':{transform:'translateY('+0+'px)','animation-timing-function':'ease-in-out'},'50%':{transform:'translateY('+o+'px)','animation-timing-function':'ease-in-out'},'100%':{transform:'translateY('+0+'px)'}});r.defineKeyframes({'0%':{transform:'translateX('+0+'px)'},'100%':{transform:'translateX('+n*1.2+'px)'}});s.defineKeyframes({'0%':{transform:'scale('+p+')'},'80%':{transform:'scale('+p+')'},'100%':{transform:'scale('+.1+')'}});r.setTimingFunction(this.config.anonHorizontalCurve).setDuration(l).setMemoize(false).setIterationCount(1);k.setAnimationX(r);q.setDuration(m).setIterationCount(1).setMemoize(false).setFinishedCallback(this.createOnFinishForReaction(k));k.setAnimationY(q);s.setTimingFunction('linear').setDuration(l).setMemoize(false).setIterationCount(1);k.setAnimationScale(s);if(this.animating)c('DOM').appendContent(this.root,k.root);}if(this.animating){k.setState('ANIMATING');k.getAnimationX().start();k.getAnimationY().start();k.getAnimationScale().start();}};f.exports=j;}),null);
__d('StreamingReactionsTrayFriendAnimation',['Arbiter','DOM','CSSAnimationBuilder','StreamingReaction','StreamingReactionsTrayAnimation','StreamingReactionsTrayConfig','StreamingReactionsTrayEvents','queryThenMutateDOM'],(function a(b,c,d,e,f,g){var h,i,j=10;h=babelHelpers.inherits(k,c('StreamingReactionsTrayAnimation'));i=h&&h.prototype;function k(l,m){'use strict';i.constructor.call(this,l,m);}k.prototype.addFriendReaction=function(l,m){'use strict';i.addReaction.call(this,true,l,m);};k.prototype.buildAnimation=function(l){'use strict';this.incrementFireworksCount();var m=-1*l.randShootUpMaxVerticalPosition;m=Math.round(m*100)/100;var n=l.randAmp*(this.config.maxY-this.config.minY)/2,o=-1*(this.config.maxX-this.config.minX-l.randShootUpHorizontalPosition),p=this.config.globalScale,q=[l.shootUpDurationMs,l.explosionDurationMs*.15,l.explosionDurationMs*.85,l.explosionPauseDurationMs*.8,l.explosionPauseDurationMs*.2,l.morphShrinkDurationMs,l.morphGrowDurationMs,l.morphPauseDurationMs,l.friendWindKeyDurationMs*.5,l.friendWindKeyDurationMs*.3,l.friendWindKeyDurationMs*.2].map(function(pa){return pa/1000;}),r=q.reduce(function(pa,qa){return pa+qa;}),s=q.map(function(pa,qa,ra){var sa=(qa>0?ra[qa-1]:0)+pa;q[qa]=sa;return sa;}).map(function(pa){return pa/r*100;}),t=s[0],u=s[1],v=s[2],w=s[3],x=s[4],y=s[5],z=s[6],aa=s[7],ba=s[8],ca=s[9],da=s[10],ea=c('CSSAnimationBuilder').keyframeAnimation(l.yAxisDiv);ea.defineKeyframe('0%',{transform:'translateY('+0+'px)','animation-timing-function':this.config.shootUpVerticalCurve}).defineKeyframe(t,{transform:'translateY('+m+'px)','animation-timing-function':'linear'}).defineKeyframe(aa,{transform:'translateY('+m+'px)','animation-timing-function':'ease-in-out'}).defineKeyframe(ba,{transform:'translateY('+(m+n)+'px)','animation-timing-function':'ease-in-out'}).defineKeyframe(da,{transform:'translateY('+m+'px)'});ea.setDuration(r).setFinishedCallback(this.createOnFinishForReaction(l)).setIterationCount(1);var fa=c('CSSAnimationBuilder').keyframeAnimation(l.xAxisDiv);fa.defineKeyframe('0%',{transform:'translateX('+0+'px)'}).defineKeyframe(aa,{transform:'translateX('+0+'px)'}).defineKeyframe(da,{transform:'translateX('+o+'px)'});fa.setDuration(r).setTimingFunction(this.config.anonHorizontalCurve).setIterationCount(1);var ga=c('CSSAnimationBuilder').keyframeAnimation(l.friendImg);ga.defineKeyframe('0%',{transform:'scale('+this.config.shootUpScale+')','animation-timing-function':'linear'}).defineKeyframe(t,{transform:'scale('+this.config.shootUpScale+')','animation-timing-function':this.config.explosionScaleCurve}).defineKeyframe(v,{transform:'scale('+this.config.maxExplosionScale+')','animation-timing-function':'linear'}).defineKeyframe(x,{transform:'scale('+this.config.maxExplosionScale+')',opacity:'1','animation-timing-function':'linear'}).defineKeyframe(y,{transform:'scale('+this.config.minMorphScale+')',opacity:'0'}).defineKeyframe(da,{opacity:'0'});ga.setDuration(r).setIterationCount(1);var ha=c('CSSAnimationBuilder').keyframeAnimation(l.reactionElem);ha.defineKeyframe('0%',{opacity:'0',transform:'scale('+this.config.minMorphScale+')','animation-timing-function':'linear'}).defineKeyframe(x,{opacity:'0',transform:'scale('+this.config.minMorphScale+')','animation-timing-function':'linear'}).defineKeyframe(y,{opacity:'1',transform:'scale('+this.config.minMorphScale+')','animation-timing-function':this.config.morphScaleCurve}).defineKeyframe(z,{opacity:'1',transform:'scale('+this.config.maxExplosionScale+')','animation-timing-function':'linear'}).defineKeyframe(ba,{opacity:'1',transform:'scale('+p+')','animation-timing-function':'linear'}).defineKeyframe(ca,{opacity:'1',transform:'scale('+p+')','animation-timing-function':'linear'}).defineKeyframe(da,{opacity:'1',transform:'scale('+.1+')','animation-timing-function':'linear'});ha.setDuration(r).setIterationCount(1);var ia=[];for(var ja=l.fireworks,ka=Array.isArray(ja),la=0,ja=ka?ja:ja[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ma;if(ka){if(la>=ja.length)break;ma=ja[la++];}else{la=ja.next();if(la.done)break;ma=la.value;}var na=ma,oa=c('CSSAnimationBuilder').keyframeAnimation(na);oa.defineKeyframe('0%',{'background-position':'0px -36px',opacity:'0'}).defineKeyframe(u,{'background-position':'0px 36px',opacity:'0'}).defineKeyframe(w,{'background-position':'0px -36px',opacity:'1'}).defineKeyframe('100%',{'background-position':'0px -36px',opacity:'0'});oa.setDuration(r).setIterationCount(1).setMemoize(false).setTimingFunction('cubic-bezier(0.075, 0.82, 0.165, 1)').setFinishedCallback(this.onFireworkFinish.bind(this));ia.push(oa);}if(this.animating)c('queryThenMutateDOM')(function(){},function(){c('DOM').appendContent(this.root,l.root);l.setState('ANIMATING');for(var pa=ia,qa=Array.isArray(pa),ra=0,pa=qa?pa:pa[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var sa;if(qa){if(ra>=pa.length)break;sa=pa[ra++];}else{ra=pa.next();if(ra.done)break;sa=ra.value;}var ta=sa;ta.start();}fa.start();ea.start();ga.start();ha.start();}.bind(this));};k.prototype.onFireworkFinish=function(l){'use strict';this.decrementFireworksCount();};k.prototype.incrementFireworksCount=function(){'use strict';var l=k.fireWorksCount,m=l+j;c('Arbiter').inform(c('StreamingReactionsTrayEvents').FireworksAnimating,true);k.fireWorksCount=m;};k.prototype.decrementFireworksCount=function(){'use strict';var l=k.fireWorksCount-1;if(l<1)c('Arbiter').inform(c('StreamingReactionsTrayEvents').FireworksAnimating,false);k.fireWorksCount=l;};k.fireWorksCount=0;f.exports=k;}),null);
__d('StreamingReactionsTrayDiffuser',['BanzaiODS','Random','StreamingReactionsTrayAnonymousAnimation','StreamingReactionsTrayConfig','StreamingReactionsTrayFriendAnimation','randomShuffle','setTimeout'],(function a(b,c,d,e,f,g){'use strict';c('BanzaiODS').setEntitySample('feedback',.0001);function h(i,j,k,l){'use strict';this.$StreamingReactionsTrayDiffuser1=i;this.$StreamingReactionsTrayDiffuser4=j;this.$StreamingReactionsTrayDiffuser12=k;this.$StreamingReactionsTrayDiffuser11=l;this.$StreamingReactionsTrayDiffuser10=this.$StreamingReactionsTrayDiffuser11.viewUpdateInterval;this.$StreamingReactionsTrayDiffuser7={};this.$StreamingReactionsTrayDiffuser6={};this.$StreamingReactionsTrayDiffuser2=[];this.$StreamingReactionsTrayDiffuser9=0;this.$StreamingReactionsTrayDiffuser5=this.$StreamingReactionsTrayDiffuser11.maxAnonReactionsCount;this.$StreamingReactionsTrayDiffuser3=this.$StreamingReactionsTrayDiffuser11.reactionBufferSize;this.$StreamingReactionsTrayDiffuser1.setOnFinishHandler(this.$StreamingReactionsTrayDiffuser13.bind(this));}h.prototype.clearCurrentReactions=function(){'use strict';this.$StreamingReactionsTrayDiffuser1.clearCurrent();this.$StreamingReactionsTrayDiffuser4.clearCurrent();this.$StreamingReactionsTrayDiffuser9=0;};h.prototype.startAnimation=function(){'use strict';clearInterval(this.$StreamingReactionsTrayDiffuser8);this.$StreamingReactionsTrayDiffuser1.start();this.$StreamingReactionsTrayDiffuser4.start();this.$StreamingReactionsTrayDiffuser8=setInterval(this.$StreamingReactionsTrayDiffuser14.bind(this),this.$StreamingReactionsTrayDiffuser10);};h.prototype.stopAnimation=function(){'use strict';this.$StreamingReactionsTrayDiffuser1.stop();this.$StreamingReactionsTrayDiffuser4.stop();this.$StreamingReactionsTrayDiffuser9=0;clearInterval(this.$StreamingReactionsTrayDiffuser8);};h.prototype.pauseAnimation=function(){'use strict';clearInterval(this.$StreamingReactionsTrayDiffuser8);};h.prototype.clearBuffer=function(){'use strict';this.$StreamingReactionsTrayDiffuser2=[];};h.prototype.addOwnReaction=function(i,j,k){'use strict';if(k)this.$StreamingReactionsTrayDiffuser6[i]+=1;this.$StreamingReactionsTrayDiffuser15(i,j);};h.prototype.processPayload=function(i){'use strict';var j=i.feedback_add_streaming_reaction_subscribe,k=j.feedback,l=j.reactor,m=j.reaction_info.reaction_type,n=l.is_viewer_friend;if(n)this.$StreamingReactionsTrayDiffuser15(m,l.profile_picture.uri);var o={},p=0,q=k.reactions_stream;for(var r=q,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var u;if(s){if(t>=r.length)break;u=r[t++];}else{t=r.next();if(t.done)break;u=t.value;}var v=u,w=v.reaction_info.reaction_type,x=v.count;if(n&&m)x--;if(this.$StreamingReactionsTrayDiffuser7[w]){var y=this.$StreamingReactionsTrayDiffuser7[w];if(this.$StreamingReactionsTrayDiffuser6[w])y+=this.$StreamingReactionsTrayDiffuser6[w];var z=y?Math.max(x-y,0):0;o[w]=z;p+=z;}this.$StreamingReactionsTrayDiffuser7[w]=x;}this.$StreamingReactionsTrayDiffuser16(o,p);};h.prototype.processVodPayload=function(i){'use strict';var j={},k=0;for(var l=i.reactions,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var o;if(m){if(n>=l.length)break;o=l[n++];}else{n=l.next();if(n.done)break;o=n.value;}var p=o,q=p.reaction_type,r=p.count;j[q]=r;k+=r;for(var s=p.important_reactors,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v;this.$StreamingReactionsTrayDiffuser17(q,w.profile_picture_uri,i.length*1000);}}this.clearBuffer();this.$StreamingReactionsTrayDiffuser16(j,k);};h.prototype.$StreamingReactionsTrayDiffuser16=function(i,j){var k;'use strict';var l=[],m=this.$StreamingReactionsTrayDiffuser3-this.$StreamingReactionsTrayDiffuser2.length;if(m>0){var n=j>m,o=function u(v){var w=v[0],x=v[1];x=n?Math.floor(x/j*m):x;l=l.concat(Array.apply(undefined,Array(x)).map(function(){return w;}));};for(var p=Object.entries(i),q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var s;if(q){if(r>=p.length)break;s=p[r++];}else{r=p.next();if(r.done)break;s=r.value;}var t=s;o(t);}c('randomShuffle')(l);this.$StreamingReactionsTrayDiffuser2=this.$StreamingReactionsTrayDiffuser2.concat(l);}};h.prototype.$StreamingReactionsTrayDiffuser17=function(i,j,k){'use strict';var l=Math.floor(c('Random').random()*k);c('setTimeout')(function(){return this.addOwnReaction(i,j,false);}.bind(this),l);};h.prototype.$StreamingReactionsTrayDiffuser15=function(i,j){'use strict';this.$StreamingReactionsTrayDiffuser4.addFriendReaction(i,j);this.$StreamingReactionsTrayDiffuser12?c('BanzaiODS').bumpEntityKey('feedback','facecast_live_friend_reaction_rendered'):c('BanzaiODS').bumpEntityKey('feedback','facecast_vod_friend_reaction_rendered');};h.prototype.$StreamingReactionsTrayDiffuser14=function(){'use strict';if(this.$StreamingReactionsTrayDiffuser2.length>0&&this.$StreamingReactionsTrayDiffuser9<this.$StreamingReactionsTrayDiffuser5){this.$StreamingReactionsTrayDiffuser1.addAnonReaction(this.$StreamingReactionsTrayDiffuser2.shift());this.$StreamingReactionsTrayDiffuser9++;this.$StreamingReactionsTrayDiffuser12?c('BanzaiODS').bumpEntityKey('feedback','facecast_live_reaction_rendered'):c('BanzaiODS').bumpEntityKey('feedback','facecast_vod_reaction_rendered');}};h.prototype.$StreamingReactionsTrayDiffuser13=function(){'use strict';this.$StreamingReactionsTrayDiffuser9--;};f.exports=h;}),null);
__d("XVODStreamingReactionsAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videos\/vodreactions\/",{eft_id:{type:"String",required:true},start_time:{type:"Float",required:true},end_time:{type:"Float",required:true}});}),null);
__d('VODReactionStream',['AsyncRequest','Map','SubscriptionsHandler','XVODStreamingReactionsAsyncController','setInterval'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){this.videoPlayerController=j;this.diffuser=k;this.reactions=[];this.queueEndTime=0;this.currentRequest=null;this.subscriptions=new (c('SubscriptionsHandler'))();this.resetToTime(j.getCurrentTimePosition());this.subscriptions.addSubscriptions(j.addListener('seek',function(l){this.resetToTime(l.time);}.bind(this)));c('setInterval')(this.renderReactions.bind(this),800);}h.prototype.renderReactions=function(){if(!this.videoPlayerController.isState('playing')||this.videoPlayerController.isMuted())return;var j=this.videoPlayerController.getCurrentTimePosition(),k=Math.floor(j);this.onTimeUpdated(j);if(this.reactions[k]){this.diffuser.processVodPayload(this.reactions[k]);delete this.reactions[k];}};h.prototype.fetchNewReactions=function(j){var k=j+60,l=c('XVODStreamingReactionsAsyncController').getURIBuilder().setString('eft_id',this.videoPlayerController.getVideoID()).setFloat('start_time',j).setFloat('end_time',k).getURI();if(this.currentRequest)this.currentRequest.abandon();this.currentRequest=new (c('AsyncRequest'))().setURI(l).setHandler(function(m){var n=m.getPayload();if(n.reactionpayloads)for(var o=n.reactionpayloads,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r;this.reactions[s.start_time]=s;}this.queueEndTime=k;}.bind(this)).setFinallyHandler(function(){this.currentRequest=null;}.bind(this));this.currentRequest.send();};h.prototype.onTimeUpdated=function(j){if(j<this.queueEndTime-15||this.currentRequest!==null)return;this.fetchNewReactions(this.queueEndTime);};h.prototype.resetToTime=function(j){this.fetchNewReactions(j);};h.prototype.stop=function(){this.subscriptions.release();};var i=new (c('Map'))();f.exports={start:function j(k,l){i.set(k,new h(k,l));},stop:function j(k){var l=i.get(k);if(!l)return;l.stop();i['delete'](k);}};}),null);
__d('StreamingReactionsTray',['Arbiter','FeedbackAddStreamingReactionSubscription','FeedbackReactionType','HotLiveVideoPayloadManager','PublicLiveMapConstants','Run','StreamingReactionsTrayAnonymousAnimation','StreamingReactionsTrayConfig','StreamingReactionsTrayDiffuser','StreamingReactionsTrayEvents','StreamingReactionsTrayFriendAnimation','Style','SubscriptionsHandler','UFIUIEvents','VideoPlayerLoggerSource','Visibility','VODReactionStream'],(function a(b,c,d,e,f,g){function h(i,j,k,l,m,n,o,p,q){'use strict';this.$StreamingReactionsTray6=i;this.$StreamingReactionsTray4=k;this.$StreamingReactionsTray18=0;this.$StreamingReactionsTray16=p;this.$StreamingReactionsTray17=q;this.$StreamingReactionsTray19(k);var r=j?!!j.getOption('VideoWithLiveBroadcast','isLive'):true;this.$StreamingReactionsTray1=new (c('StreamingReactionsTrayDiffuser'))(new (c('StreamingReactionsTrayAnonymousAnimation'))(this.$StreamingReactionsTray6,this.$StreamingReactionsTray2),new (c('StreamingReactionsTrayFriendAnimation'))(this.$StreamingReactionsTray6,this.$StreamingReactionsTray2),r,this.$StreamingReactionsTray2);this.$StreamingReactionsTray15=new (c('SubscriptionsHandler'))();this.$StreamingReactionsTray9=j;this.$StreamingReactionsTray7=false;this.$StreamingReactionsTray8=false;this.$StreamingReactionsTray5=o;this.$StreamingReactionsTray10=l;this.$StreamingReactionsTray11=m;this.$StreamingReactionsTray12=n;this.$StreamingReactionsTray20();c('Run').onLeave(this.$StreamingReactionsTray21.bind(this));var s=j?j.getOption('VideoWithVODBroadcast','isLiveVOD'):false;if(s&&j)c('VODReactionStream').start(j,this.$StreamingReactionsTray1);}h.prototype.$StreamingReactionsTray19=function(i){'use strict';var j=parseInt(c('Style').get(this.$StreamingReactionsTray6,'width'),10),k=parseInt(c('Style').get(this.$StreamingReactionsTray6,'height'),10);this.$StreamingReactionsTray3=i;if(this.$StreamingReactionsTray2){this.$StreamingReactionsTray2.updateSurface(j,k,this.$StreamingReactionsTray3);}else this.$StreamingReactionsTray2=new (c('StreamingReactionsTrayConfig'))(j,k,this.$StreamingReactionsTray3);};h.prototype.$StreamingReactionsTray22=function(){'use strict';if(this.$StreamingReactionsTray2){var i=parseInt(c('Style').get(this.$StreamingReactionsTray6,'width'),10),j=parseInt(c('Style').get(this.$StreamingReactionsTray6,'height'),10);this.$StreamingReactionsTray2.updateDimensions(i,j,this.$StreamingReactionsTray3);}};h.prototype.$StreamingReactionsTray23=function(i){'use strict';return [i.addListener('unmuteVideo',function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),i.addListener('muteVideo',function(){if(this.$StreamingReactionsTray26())this.$StreamingReactionsTray27();}.bind(this)),i.addListener('changeVolume',function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),i.addListener('pausePlayback',function(){this.$StreamingReactionsTray28();}.bind(this)),i.addListener('beginPlayback',function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),i.addListener('seek',function(){this.$StreamingReactionsTray29();}.bind(this)),i.addListener('VideoChannelController/enterChannel',function(){this.$StreamingReactionsTray19(c('VideoPlayerLoggerSource').CHANNEL);this.$StreamingReactionsTray27();}.bind(this)),i.addListener('VideoChannelController/exitChannel',function(){this.$StreamingReactionsTray19(this.$StreamingReactionsTray4);if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),i.addListener('beginPlayback',function(){if(this.$StreamingReactionsTray24())setTimeout(function(){this.$StreamingReactionsTray19(this.$StreamingReactionsTray3);this.$StreamingReactionsTray25();}.bind(this),100);}.bind(this)),i.addListener('finishPlayback',function(){this.$StreamingReactionsTray27();}.bind(this))];};h.prototype.$StreamingReactionsTray30=function(){'use strict';window.addEventListener('resize',function(){return this.$StreamingReactionsTray22();}.bind(this));};h.prototype.$StreamingReactionsTray20=function(){var i;'use strict';var j=this.$StreamingReactionsTray9?this.$StreamingReactionsTray23(this.$StreamingReactionsTray9):[];if(!this.$StreamingReactionsTray9)this.$StreamingReactionsTray30();(i=this.$StreamingReactionsTray15).addSubscriptions.apply(i,j.concat([c('Arbiter').subscribe('VideoChannelView/opened',function(){this.$StreamingReactionsTray19(c('VideoPlayerLoggerSource').CHANNEL);this.$StreamingReactionsTray27();}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').ResizeChannelViewWindow,function(){return this.$StreamingReactionsTray19(this.$StreamingReactionsTray3);}.bind(this)),c('Arbiter').subscribe('VideoChannelView/closed',function(){this.$StreamingReactionsTray19(this.$StreamingReactionsTray4);if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').ShowChannelViewDetails,function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').HideChannelViewDetails,function(){this.$StreamingReactionsTray27();}.bind(this)),this.$StreamingReactionsTray2.addListener(c('StreamingReactionsTrayEvents').UpdateSurface,function(){return this.$StreamingReactionsTray1.clearCurrentReactions();}.bind(this)),c('Arbiter').subscribe(c('UFIUIEvents').ReactionButtonClicked,function(k,l){if(l.ft_id===this.$StreamingReactionsTray10)this.$StreamingReactionsTray31(l,true);}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').AddReactionAnimate,function(k,l){this.$StreamingReactionsTray31(l,false);}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').DisableReactions,function(){this.$StreamingReactionsTray27();}.bind(this)),c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').EnableReactions,function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this)),c('Visibility').addListener(c('Visibility').HIDDEN,function(){this.$StreamingReactionsTray27();}.bind(this)),c('Visibility').addListener(c('Visibility').VISIBLE,function(){if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();}.bind(this))]));if(this.$StreamingReactionsTray24())this.$StreamingReactionsTray25();};h.prototype.$StreamingReactionsTray21=function(){'use strict';this.$StreamingReactionsTray9&&c('VODReactionStream').stop(this.$StreamingReactionsTray9);this.$StreamingReactionsTray27();this.$StreamingReactionsTray15.release();};h.prototype.$StreamingReactionsTray32=function(){'use strict';this.$StreamingReactionsTray13=c('FeedbackAddStreamingReactionSubscription').subscribe(this.$StreamingReactionsTray10,this.$StreamingReactionsTray33.bind(this));if(this.$StreamingReactionsTray12)this.$StreamingReactionsTray14=c('HotLiveVideoPayloadManager').subscribe(parseInt(this.$StreamingReactionsTray11,10),'streaming_reactions',function(i){var j=[];for(var k in c('FeedbackReactionType'))if(c('FeedbackReactionType')[k] in i)j.push({count:i[c('FeedbackReactionType')[k]],reaction_info:{reaction_type:k}});var l={feedback_add_streaming_reaction_subscribe:{feedback:{reactions_stream:j},reactor:{is_viewer_friend:false}}};this.$StreamingReactionsTray33(l);}.bind(this));this.$StreamingReactionsTray8=true;};h.prototype.$StreamingReactionsTray34=function(){'use strict';this.$StreamingReactionsTray13&&this.$StreamingReactionsTray13.unsubscribe();this.$StreamingReactionsTray14&&c('HotLiveVideoPayloadManager').unsubscribe(this.$StreamingReactionsTray14);this.$StreamingReactionsTray8=false;};h.prototype.$StreamingReactionsTray31=function(i,j){'use strict';var k=Date.now(),l=k-this.$StreamingReactionsTray18;if(l<this.$StreamingReactionsTray2.reactionSelfFireworkAnimationThreshold)return;this.$StreamingReactionsTray18=k;var m=void 0;switch(i.reaction_type){case c('FeedbackReactionType').NONE:return;case c('FeedbackReactionType').LIKE:m='LIKE';break;case c('FeedbackReactionType').LOVE:m='LOVE';break;case c('FeedbackReactionType').WOW:m='WOW';break;case c('FeedbackReactionType').HAHA:m='HAHA';break;case c('FeedbackReactionType').SORRY:m='SORRY';break;case c('FeedbackReactionType').ANGER:m='ANGER';break;case c('FeedbackReactionType').DOROTHY:m='DOROTHY';break;default:throw new Error('Not a valid reaction type: '+i.reaction_type);}this.$StreamingReactionsTray1.addOwnReaction(m,this.$StreamingReactionsTray5,j);};h.prototype.$StreamingReactionsTray33=function(i){'use strict';if(this.$StreamingReactionsTray7&&this.$StreamingReactionsTray16)this.$StreamingReactionsTray1.processPayload(i);};h.prototype.$StreamingReactionsTray27=function(){'use strict';this.$StreamingReactionsTray7=false;if(this.$StreamingReactionsTray8)this.$StreamingReactionsTray34();this.$StreamingReactionsTray1.stopAnimation();};h.prototype.$StreamingReactionsTray28=function(){'use strict';this.$StreamingReactionsTray7=false;if(this.$StreamingReactionsTray8)this.$StreamingReactionsTray34();this.$StreamingReactionsTray1.pauseAnimation();};h.prototype.$StreamingReactionsTray25=function(){'use strict';if(this.$StreamingReactionsTray7)return;this.$StreamingReactionsTray7=true;if(!this.$StreamingReactionsTray8)this.$StreamingReactionsTray32();if(this.$StreamingReactionsTray17)this.$StreamingReactionsTray1.startAnimation();};h.prototype.$StreamingReactionsTray29=function(){'use strict';this.$StreamingReactionsTray1.clearBuffer();};h.prototype.$StreamingReactionsTray35=function(){'use strict';return !(this.$StreamingReactionsTray3===c('VideoPlayerLoggerSource').CHANNEL||this.$StreamingReactionsTray3===c('VideoPlayerLoggerSource').SNOWLIFT||this.$StreamingReactionsTray3===c('VideoPlayerLoggerSource').PERMALINK||this.$StreamingReactionsTray3===c('VideoPlayerLoggerSource').LIVE_CONTROL_PANEL);};h.prototype.$StreamingReactionsTray24=function(){'use strict';return this.$StreamingReactionsTray35()?this.$StreamingReactionsTray36():this.$StreamingReactionsTray37();};h.prototype.$StreamingReactionsTray26=function(){'use strict';return this.$StreamingReactionsTray35();};h.prototype.$StreamingReactionsTray37=function(){'use strict';return this.$StreamingReactionsTray9?!this.$StreamingReactionsTray9.isState('finished'):true;};h.prototype.$StreamingReactionsTray36=function(){'use strict';if(!this.$StreamingReactionsTray9)return true;var i=this.$StreamingReactionsTray9;return !i.isMuted()&&i.isState('playing')&&this.$StreamingReactionsTray3!==c('VideoPlayerLoggerSource').LIVE_MAP&&!c('PublicLiveMapConstants').isInlinePlayer(this.$StreamingReactionsTray3);};f.exports=h;}),null);
__d('TahoeBackAffordance.react',['ix','cx','fbt','Image.react','Link.react','React','TahoeVariables','URI','VideoComponentLiveVideoIndicator.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;m.prototype.render=function(){'use strict';var n=h("114591"),o=c('TahoeVariables').backAffordanceGlyph;if(o==='cross')n=h("114710");var p=this.props.vpc&&this.props.vpc.isLiveVideo(),q=p?c('React').createElement(c('VideoComponentLiveVideoIndicator.react'),{className:"_2nlu",inline:true,ref:function(r){return r.enable(this.props.vpc);}.bind(this)}):null;return c('React').createElement('div',{className:"_4ua2"},c('React').createElement(c('Link.react'),{className:"_4who",href:this.props.entryURI},c('React').createElement(c('Image.react'),{alt:j._("Close"),src:n}),c('React').createElement('span',{className:"_4whp"},j._("Back"))),q);};function m(){'use strict';k.apply(this,arguments);}f.exports=m;}),null);
__d('TahoeController',['cx','BootloadedComponent.react','Bootloader','CSS','DialogX','DOM','EventProfiler','JSResource','PageTransitions','React','ReactDOM','ResizeListener','Style','Tahoe','TahoeMediaType','URI','VideoAutoplayControllerX','VideoPermalinkURI','VideoPlayerLoggerSource','VideoPlayerReason','VideoProgressPreviewBar.react','VideoWatchAndScrollController','ge','getElementPosition','getVendorPrefixedName','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h){var i=350,j=43,k=48,l=1000,m=l-i,n=560-j-k,o=10;function p(q,r,s){'use strict';this.$TahoeController27=function(){this.$TahoeController24();}.bind(this);c('EventProfiler').tagCurrentEventInteractionAs('Tahoe');this.$TahoeController13=q;this.$TahoeController5=[];this.$TahoeController2=c('URI').getRequestURI();this.$TahoeController14=this.$TahoeController18.bind(this);c('PageTransitions').registerHandler(this.$TahoeController14,o);c('PageTransitions').go(s);this.$TahoeController3=this.$TahoeController19();this.$TahoeController3.show();this.$TahoeController20();if(r){switch(this.$TahoeController13){case c('TahoeMediaType').VIDEO:this.$TahoeController16=r.video;this.$TahoeController7=this.$TahoeController16.getVideoID();}this.$TahoeController21();this.$TahoeController10=this.$TahoeController12;}else{this.$TahoeController22();this.$TahoeController7=c('VideoPermalinkURI').parse(s).video_id;}c('Bootloader').loadModules(["TahoeView"],function(t){this.$TahoeController17=t.loadView(this);}.bind(this),'TahoeController');}p.prototype.go=function(q){'use strict';c('PageTransitions').go(q);};p.prototype.onExit=function(){'use strict';c('PageTransitions').go(this.$TahoeController2);};p.prototype.$TahoeController19=function(){'use strict';var q={width:l};this.$TahoeController4=c('CSS').setClass(c('DOM').create('div'),"_5-g-");var r=new (c('DialogX'))(q,this.$TahoeController4);c('CSS').setClass(r.getRoot(),"_5-g_");if(document.body)c('CSS').addClass(document.body,"_1_-b");return r;};p.prototype.$TahoeController20=function(){'use strict';c('DOM').insertAfter(c('ge')('pagelet_dock'),this.$TahoeController3.getRoot());};p.prototype.$TahoeController23=function(){'use strict';c('ReactDOM').render(c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('TahoeBackAffordance.react').__setRef('TahoeController'),bootloadPlaceholder:c('React').createElement('div',{className:"_4ua2"}),entryURI:this.$TahoeController2,vpc:this.$TahoeController16}),this.$TahoeController4);};p.prototype.$TahoeController22=function(){'use strict';this.$TahoeController23();var q=c('CSS').setClass(c('DOM').create('div'),"_1c_u");this.$TahoeController12=q;var r=c('CSS').setClass(c('DOM').create('div'),"_5-yb _5_63");c('DOM').setContent(r,this.$TahoeController12);c('DOM').prependContent(this.$TahoeController4,r);this.$TahoeController24();};p.prototype.$TahoeController21=function(){'use strict';this.$TahoeController23();this.$TahoeController6=c('DOM').create('div');switch(this.$TahoeController13){case c('TahoeMediaType').VIDEO:this.$TahoeController12=this.$TahoeController16.getRootNode();this.$TahoeController11=this.$TahoeController16;}var q=c('getElementPosition')(this.$TahoeController12);this.$TahoeController8=this.$TahoeController12.clientWidth;this.$TahoeController9=this.$TahoeController12.clientHeight;c('DOM').insertAfter(this.$TahoeController12,this.$TahoeController6);this.$TahoeController15=true;var r=c('CSS').setClass(c('DOM').create('div'),"_5-yb _5_63");c('DOM').setContent(r,this.$TahoeController12);c('DOM').prependContent(this.$TahoeController4,r);this.$TahoeController25(r,q);};p.prototype.$TahoeController25=function(q,r){'use strict';this.$TahoeController26();var s=c('Style').getFloat(this.$TahoeController12,'width'),t=c('Style').getFloat(this.$TahoeController12,'height'),u='translate('+r.x+'px,'+r.y+'px)',v='scale('+r.width/s+', '+r.height/t+')';c('Style').set(q,c('getVendorPrefixedName')('transform'),u+' '+v);q.offsetWidth;c('Style').set(q,'transition','all .4s cubic-bezier(.12,.8,.32,1)');c('Style').set(q,c('getVendorPrefixedName')('transform'),'none');};p.prototype.$TahoeController26=function(){'use strict';this.$TahoeController1=parseFloat(this.$TahoeController12.getAttribute('data-original-aspect-ratio'));switch(this.$TahoeController13){case c('TahoeMediaType').VIDEO:this.$TahoeController16.updateSource(c('VideoPlayerLoggerSource').TAHOE);c('VideoAutoplayControllerX').setShouldAutoplay(false);this.$TahoeController16.unmute();this.$TahoeController16.play(c('VideoPlayerReason').USER);this.$TahoeController16.emit('TahoeController/enterTahoe');c('VideoProgressPreviewBar.react').destroyComponentIfAvailable(this.$TahoeController16);}this.$TahoeController24();this.$TahoeController5.push(c('ResizeListener').add(this.$TahoeController27));};p.prototype.addEvent=function(event){'use strict';this.$TahoeController5.push(event);};p.prototype.expandMoreVideos=function(){'use strict';this.$TahoeController17.expandMoreVideos();};p.prototype.getVideoController=function(){'use strict';return this.$TahoeController16;};p.prototype.selectAddComment=function(){'use strict';this.$TahoeController17.selectAddComment();};p.prototype.$TahoeController24=function(){'use strict';var q=window.innerWidth-i;q=Math.max(q,m);var r=window.innerHeight-j-k;r=Math.max(r,n);c('Style').set(this.$TahoeController12,'width',q+'px');c('Style').set(this.$TahoeController12,'height',r+'px');switch(this.$TahoeController13){case c('TahoeMediaType').VIDEO:if(this.$TahoeController16)this.$TahoeController16.setDimensions(q,r);}};p.prototype.$TahoeController18=function(q){'use strict';var r=c('URI').getRequestURI();if(q.getPath()===this.$TahoeController2.getPath()&&q.getQueryData().ref!=='tahoe'){this.$TahoeController28();}else if(!this.$TahoeController29(q)){this.$TahoeController28();return false;}else if((this.$TahoeController2.getPath()!=r.getPath()||r.getQueryData().ref==='tahoe')&&r.getPath()!=q.getPath())this.$TahoeController30(q);c('PageTransitions').transitionComplete();return true;};p.prototype.$TahoeController29=function(q){'use strict';return c('VideoPermalinkURI').isValid(q);};p.prototype.$TahoeController30=function(q){'use strict';this.$TahoeController16.pause();this.$TahoeController31();var r=c('VideoPermalinkURI').parse(q).video_id;this.$TahoeController17.updateView(r);};p.prototype.$TahoeController31=function(){'use strict';var q=this.$TahoeController12.clientHeight,r=c('CSS').setClass(c('DOM').create('div'),"_1c_u");c('Style').set(r,'height',q+'px');c('DOM').prependContent(this.$TahoeController4,r);if(this.$TahoeController15){c('DOM').insertAfter(this.$TahoeController6,this.$TahoeController10);c('DOM').remove(this.$TahoeController6);c('Style').set(this.$TahoeController10,'width','');c('Style').set(this.$TahoeController10,'height','');}else c('DOM').remove(this.$TahoeController4.children[1]);this.$TahoeController15=false;};p.prototype.$TahoeController28=function(){'use strict';this.$TahoeController17&&this.$TahoeController17.onExit();c('PageTransitions').removeHandler(this.$TahoeController14,o);this.$TahoeController5.forEach(function(q){return q.remove();});c('Style').set(this.$TahoeController12,'width','');c('Style').set(this.$TahoeController12,'height','');this.$TahoeController31();switch(this.$TahoeController13){case c('TahoeMediaType').VIDEO:c('VideoAutoplayControllerX').setShouldAutoplay(true);if(this.$TahoeController11){this.$TahoeController11.setDimensions(this.$TahoeController8,this.$TahoeController9);this.$TahoeController11.updateSource(c('VideoPlayerLoggerSource').INLINE);this.$TahoeController11.pause(c('VideoPlayerReason').AUTOPLAY);this.$TahoeController11.mute();this.$TahoeController11.emit('resumeAutoplay');}this.$TahoeController16&&this.$TahoeController16.emit('TahoeController/exitTahoe');if(this.$TahoeController16!==this.$TahoeController11)this.$TahoeController16.pause(c('VideoPlayerReason').USER);}if(document.body)c('CSS').removeClass(document.body,"_1_-b");this.$TahoeController3.destroy();c('Tahoe').set(null);};p.prototype.getID=function(){'use strict';return this.$TahoeController7;};p.prototype.getContent=function(){'use strict';return this.$TahoeController4;};p.prototype.updateMedia=function(q){'use strict';this.$TahoeController16=q;this.$TahoeController12=this.$TahoeController16.getRootNode();this.$TahoeController7=this.$TahoeController16.getVideoID();this.$TahoeController26();this.$TahoeController17.setUpEndScreen();this.$TahoeController17.setUpUFI();};p.prototype.getView=function(){'use strict';return this.$TahoeController17;};p.openFromVideoPlayer=function(q,r){'use strict';c('Tahoe').set(new p(c('TahoeMediaType').VIDEO,{video:q},r));};p.openFromVideoLink=function(q){'use strict';c('VideoWatchAndScrollController').pauseActiveVideo();c('Tahoe').set(new p(c('TahoeMediaType').VIDEO,null,q));};p.openFromVideoLinkHelper=function(q){'use strict';q.setAttribute('rel','async');c('CSS').addClass(q,'async_saving');p.openFromVideoLink(new (c('URI'))(q.getAttribute('href')));c('setTimeoutAcrossTransitions')(function(){q.removeAttribute('rel');c('CSS').removeClass(q,'async_saving');});};p.openFromPhoto=function(q){'use strict';};f.exports=p;}),null);